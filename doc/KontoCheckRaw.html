<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module KontoCheckRaw - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
  var index_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/darkfish.js"></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-bank_aenderung">::bank_aenderung</a>
    
    <li ><a href="#method-c-bank_alles">::bank_alles</a>
    
    <li ><a href="#method-c-bank_bic">::bank_bic</a>
    
    <li ><a href="#method-c-bank_filialen">::bank_filialen</a>
    
    <li ><a href="#method-c-bank_loeschung">::bank_loeschung</a>
    
    <li ><a href="#method-c-bank_nachfolge_blz">::bank_nachfolge_blz</a>
    
    <li ><a href="#method-c-bank_name">::bank_name</a>
    
    <li ><a href="#method-c-bank_name_kurz">::bank_name_kurz</a>
    
    <li ><a href="#method-c-bank_nr">::bank_nr</a>
    
    <li ><a href="#method-c-bank_ort">::bank_ort</a>
    
    <li ><a href="#method-c-bank_pan">::bank_pan</a>
    
    <li ><a href="#method-c-bank_plz">::bank_plz</a>
    
    <li ><a href="#method-c-bank_pz">::bank_pz</a>
    
    <li ><a href="#method-c-bank_suche_bic">::bank_suche_bic</a>
    
    <li ><a href="#method-c-bank_suche_blz">::bank_suche_blz</a>
    
    <li ><a href="#method-c-bank_suche_multiple">::bank_suche_multiple</a>
    
    <li ><a href="#method-c-bank_suche_namen">::bank_suche_namen</a>
    
    <li ><a href="#method-c-bank_suche_namen_kurz">::bank_suche_namen_kurz</a>
    
    <li ><a href="#method-c-bank_suche_ort">::bank_suche_ort</a>
    
    <li ><a href="#method-c-bank_suche_plz">::bank_suche_plz</a>
    
    <li ><a href="#method-c-bank_suche_pz">::bank_suche_pz</a>
    
    <li ><a href="#method-c-bank_suche_regel">::bank_suche_regel</a>
    
    <li ><a href="#method-c-bank_suche_volltext">::bank_suche_volltext</a>
    
    <li ><a href="#method-c-bank_valid">::bank_valid</a>
    
    <li ><a href="#method-c-bic_aenderung">::bic_aenderung</a>
    
    <li ><a href="#method-c-bic_bic">::bic_bic</a>
    
    <li ><a href="#method-c-bic_check">::bic_check</a>
    
    <li ><a href="#method-c-bic_info">::bic_info</a>
    
    <li ><a href="#method-c-bic_loeschung">::bic_loeschung</a>
    
    <li ><a href="#method-c-bic_nachfolge_blz">::bic_nachfolge_blz</a>
    
    <li ><a href="#method-c-bic_name">::bic_name</a>
    
    <li ><a href="#method-c-bic_name_kurz">::bic_name_kurz</a>
    
    <li ><a href="#method-c-bic_nr">::bic_nr</a>
    
    <li ><a href="#method-c-bic_ort">::bic_ort</a>
    
    <li ><a href="#method-c-bic_pan">::bic_pan</a>
    
    <li ><a href="#method-c-bic_plz">::bic_plz</a>
    
    <li ><a href="#method-c-bic_pz">::bic_pz</a>
    
    <li ><a href="#method-c-biq_aenderung">::biq_aenderung</a>
    
    <li ><a href="#method-c-biq_bic">::biq_bic</a>
    
    <li ><a href="#method-c-biq_loeschung">::biq_loeschung</a>
    
    <li ><a href="#method-c-biq_nachfolge_blz">::biq_nachfolge_blz</a>
    
    <li ><a href="#method-c-biq_name">::biq_name</a>
    
    <li ><a href="#method-c-biq_name_kurz">::biq_name_kurz</a>
    
    <li ><a href="#method-c-biq_nr">::biq_nr</a>
    
    <li ><a href="#method-c-biq_ort">::biq_ort</a>
    
    <li ><a href="#method-c-biq_pan">::biq_pan</a>
    
    <li ><a href="#method-c-biq_plz">::biq_plz</a>
    
    <li ><a href="#method-c-biq_pz">::biq_pz</a>
    
    <li ><a href="#method-c-ci_check">::ci_check</a>
    
    <li ><a href="#method-c-current_lutfile_name">::current_lutfile_name</a>
    
    <li ><a href="#method-c-dump_lutfile">::dump_lutfile</a>
    
    <li ><a href="#method-c-encoding">::encoding</a>
    
    <li ><a href="#method-c-encoding_str">::encoding_str</a>
    
    <li ><a href="#method-c-free">::free</a>
    
    <li ><a href="#method-c-generate_lutfile">::generate_lutfile</a>
    
    <li ><a href="#method-c-iban2bic">::iban2bic</a>
    
    <li ><a href="#method-c-iban_aenderung">::iban_aenderung</a>
    
    <li ><a href="#method-c-iban_bic">::iban_bic</a>
    
    <li ><a href="#method-c-iban_check">::iban_check</a>
    
    <li ><a href="#method-c-iban_gen">::iban_gen</a>
    
    <li ><a href="#method-c-iban_loeschung">::iban_loeschung</a>
    
    <li ><a href="#method-c-iban_nachfolge_blz">::iban_nachfolge_blz</a>
    
    <li ><a href="#method-c-iban_name">::iban_name</a>
    
    <li ><a href="#method-c-iban_name_kurz">::iban_name_kurz</a>
    
    <li ><a href="#method-c-iban_nr">::iban_nr</a>
    
    <li ><a href="#method-c-iban_ort">::iban_ort</a>
    
    <li ><a href="#method-c-iban_pan">::iban_pan</a>
    
    <li ><a href="#method-c-iban_plz">::iban_plz</a>
    
    <li ><a href="#method-c-iban_pz">::iban_pz</a>
    
    <li ><a href="#method-c-init">::init</a>
    
    <li ><a href="#method-c-ipi_check">::ipi_check</a>
    
    <li ><a href="#method-c-ipi_gen">::ipi_gen</a>
    
    <li ><a href="#method-c-keep_raw_data">::keep_raw_data</a>
    
    <li ><a href="#method-c-konto_check">::konto_check</a>
    
    <li ><a href="#method-c-konto_check_pz">::konto_check_pz</a>
    
    <li ><a href="#method-c-konto_check_regel">::konto_check_regel</a>
    
    <li ><a href="#method-c-konto_check_regel_dbg">::konto_check_regel_dbg</a>
    
    <li ><a href="#method-c-load_bank_data">::load_bank_data</a>
    
    <li ><a href="#method-c-lut_blocks">::lut_blocks</a>
    
    <li ><a href="#method-c-lut_blocks1">::lut_blocks1</a>
    
    <li ><a href="#method-c-lut_info">::lut_info</a>
    
    <li ><a href="#method-c-pz_aenderungen_enable">::pz_aenderungen_enable</a>
    
    <li ><a href="#method-c-rebuild_blzfile">::rebuild_blzfile</a>
    
    <li ><a href="#method-c-retval2dos">::retval2dos</a>
    
    <li ><a href="#method-c-retval2html">::retval2html</a>
    
    <li ><a href="#method-c-retval2iso">::retval2iso</a>
    
    <li ><a href="#method-c-retval2txt">::retval2txt</a>
    
    <li ><a href="#method-c-retval2txt_short">::retval2txt_short</a>
    
    <li ><a href="#method-c-retval2utf8">::retval2utf8</a>
    
    <li ><a href="#method-c-version">::version</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="module-KontoCheckRaw">
  <h1 id="module-KontoCheckRaw" class="module">
    module KontoCheckRaw
  </h1>

  <section class="description">
    
<p>This is a C/Ruby library to check the validity of German Bank Account
Numbers. All currently defined test methods by Deutsche Bundesbank (00 to
E3) are implemented.</p>

<p><strong>ATTENTION:</strong> There are a few important changes in the API
between version 0.0.2 (version by Peter Horn/Provideal), version 0.0.6
(jeanmartin) and this version (V. 6.01 from 2017-08-13):</p>
<ul><li>
<p>The function <a
href="KontoCheck.html#method-c-load_bank_data">KontoCheck.load_bank_data</a>
is no longer used; it is replaced by <a
href="KontoCheck.html#method-c-init">KontoCheck.init</a> and <a
href="KontoCheck.html#method-c-generate_lutfile">KontoCheck.generate_lutfile</a>.</p>
</li><li>
<p>The function <a
href="KontoCheck.html#method-c-konto_check">KontoCheck.konto_check</a>(
blz,kto) changed the order of parameters from (kto,blz) to (blz,kto)</p>
</li></ul>

<p>Another change affects only the version 0.0.6 by jeanmartin:</p>
<ul><li>
<p>In <a href="KontoCheck.html#method-c-init">KontoCheck.init</a>(
level,name,set) the order of the two first parameters is now free; the
order is determined by the type of the variable (level is integer, filename
string).</p>
</li></ul>

<p>Because this class is inteded for german bank accounts, the rest of the
documentation is in german too.</p>

<p>Diese Bibliothek implementiert die Prüfziffertests für deutsche Bankkonten.
Die meisten Konten enthalten eine Prüfziffer; mit dieser kann getestet
werden, ob eine Bankleitzahl plausibel ist oder nicht. Auf diese Weise
können Zahlendreher oder Zifferverdopplungen oft festgestellt werden. Es
ist natürlich nicht möglich, zu bestimmen, ob ein Konto wirklich existiert;
dazu müßte jeweils eine Anfrage bei der Bank gemacht werden ;-).</p>

<p>Die Bibliothek ist in zwei Teile gesplittet: <a
href="KontoCheckRaw.html">KontoCheckRaw</a> bildet die direkte
Schnittstelle zur C-Bibliothek und ist daher manchmal etwas sperrig; <a
href="KontoCheck.html">KontoCheck</a> ist dagegen mehr Ruby-artig
ausgelegt. <a href="KontoCheck.html">KontoCheck</a> gibt meist nur eine
Teilmenge von <a href="KontoCheckRaw.html">KontoCheckRaw</a> zurück, aber
(hoffentlich) die Teile, die man unmittelbar von den jeweiligen Funktionen
erwartet. Eine Reihe einfacher Funktionen sind auch in beiden Versionen
identisch.</p>

<p>Die Bankleitzahldaten werden in einem eigenen (komprimierten) Format in
einer sogenannten LUT-Datei gespeichert. Diese Datei läßt sich mit der
Funktion <a
href="KontoCheck.html#method-c-generate_lutfile">KontoCheck.generate_lutfile</a>
bzw. <a
href="KontoCheckRaw.html#method-c-generate_lutfile">::generate_lutfile</a>
aus der Datei der Deutschen Bundesbank (online erhältlich unter <a
href="http://www.bundesbank.de/zahlungsverkehr/zahlungsverkehr_bankleitzahlen_download.php">www.bundesbank.de/zahlungsverkehr/zahlungsverkehr_bankleitzahlen_download.php</a>)
erzeugen. Die LUT-Datei hat den großen Vorteil, daß die Datenblocks (BLZ,
Prüfziffer, Bankname, Ort, …) unabhängig voneinander gespeichert sind;
jeder Block kann für sich geladen werden. In einer Datei können zwei
Datensätze der Bundesbank mit unterschiedlichem Gültigkeitsdatum enthalten
sein. Wenn bei der Initialisierung kein bestimmter Datensatz ausgewählt
wird, prüft die Bibliothek aufgrund des mit jedem Datensatz gespeicherten
Gültigkeitszeitraums welcher Satz aktuell gültig ist und lädt diesen dann
in den Speicher.</p>

<p>Numerische Werte (z.B. Bankleitzahlen, Kontonummern, PLZ,…) können als
Zahlwerte oder als String angegeben werden; sie werden automatisch
konvertiert. Prüfziffermethoden können ebenfalls als Zahl oder String
angegeben werden; die Angabe als Zahl ist allerdings nicht immer eindeutig.
So kann z.B. 131 sowohl für D1 als auch 13a stehen; daher ist es besser,
die Prüfziffermethode als String anzugeben (in diesem Beispiel würde 131
als 13a interpretiert).</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
      
        <dt id="ARRAY_INDEX_OUT_OF_RANGE">ARRAY_INDEX_OUT_OF_RANGE
        
        <dd><p>(-148) Der Array-Index liegt außerhalb des gültigen Bereichs</p>
        
      
        <dt id="BAV_FALSE">BAV_FALSE
        
        <dd><p>(-77) BAV denkt, das Konto ist falsch (konto_check hält es für richtig)</p>
        
      
        <dt id="BIC_ONLY_GERMAN">BIC_ONLY_GERMAN
        
        <dd><p>(-145) Es werden nur deutsche BICs unterstützt</p>
        
      
        <dt id="BLZ_BLACKLISTED">BLZ_BLACKLISTED
        
        <dd><p>(-134) Die BLZ findet sich in der Ausschlussliste für IBAN-Berechnungen</p>
        
      
        <dt id="BLZ_GELOESCHT">BLZ_GELOESCHT
        
        <dd><p>(-16) die Bankleitzahl wurde gelöscht</p>
        
      
        <dt id="BLZ_MARKED_AS_DELETED">BLZ_MARKED_AS_DELETED
        
        <dd><p>(-133) Die BLZ ist in der Bundesbank-Datei als gelöscht markiert und somit
ungültig</p>
        
      
        <dt id="DEBUG_ONLY_FUNCTION">DEBUG_ONLY_FUNCTION
        
        <dd><p>(-61) Die Funktion ist nur in der Debug-Version vorhanden</p>
        
      
        <dt id="ERROR_MALLOC">ERROR_MALLOC
        
        <dd><p>(-9) kann keinen Speicher allokieren</p>
        
      
        <dt id="EXCLUDED_AT_COMPILETIME">EXCLUDED_AT_COMPILETIME
        
        <dd><p>(-28) Der benötigte Programmteil wurde beim Kompilieren deaktiviert</p>
        
      
        <dt id="FALSE">FALSE
        
        <dd><p>(0) falsch</p>
        
      
        <dt id="FALSE_GELOESCHT">FALSE_GELOESCHT
        
        <dd><p>(-19) falsch (die BLZ wurde außerdem gelöscht)</p>
        
      
        <dt id="FALSE_UNTERKONTO_ATTACHED">FALSE_UNTERKONTO_ATTACHED
        
        <dd><p>(-135) falsch, es wurde ein Unterkonto hinzugefügt (IBAN-Regel)</p>
        
      
        <dt id="FATAL_ERROR">FATAL_ERROR
        
        <dd><p>(-13) schwerer Fehler im Konto_check-Modul</p>
        
      
        <dt id="FILE_READ_ERROR">FILE_READ_ERROR
        
        <dd><p>(-10) kann Datei nicht lesen</p>
        
      
        <dt id="FILE_WRITE_ERROR">FILE_WRITE_ERROR
        
        <dd><p>(-11) kann Datei nicht schreiben</p>
        
      
        <dt id="IBAN2BIC_ONLY_GERMAN">IBAN2BIC_ONLY_GERMAN
        
        <dd><p>(-68) Die Funktion iban2bic() arbeitet nur mit deutschen Bankleitzahlen</p>
        
      
        <dt id="IBAN_AMBIGUOUS_KTO">IBAN_AMBIGUOUS_KTO
        
        <dd><p>(-127) Die Kontonummer ist nicht eindeutig (es gibt mehrere Möglichkeiten)</p>
        
      
        <dt id="IBAN_CHKSUM_OK_BLZ_INVALID">IBAN_CHKSUM_OK_BLZ_INVALID
        
        <dd><p>(-141) Die IBAN-Prüfsumme stimmt, die BLZ ist allerdings ungültig</p>
        
      
        <dt id="IBAN_CHKSUM_OK_KC_NOT_INITIALIZED">IBAN_CHKSUM_OK_KC_NOT_INITIALIZED
        
        <dd><p>(-142) Die IBAN-Prüfsumme stimmt, <a
href="KontoCheckRaw.html#method-c-konto_check">::konto_check</a> wurde
jedoch noch nicht initialisiert (Kontoprüfung nicht möglich)</p>
        
      
        <dt id="IBAN_CHKSUM_OK_NACHFOLGE_BLZ_DEFINED">IBAN_CHKSUM_OK_NACHFOLGE_BLZ_DEFINED
        
        <dd><p>(-140) Die IBAN-Prüfsumme stimmt, für die Bank gibt es allerdings eine
(andere) Nachfolge-BLZ</p>
        
      
        <dt id="IBAN_CHKSUM_OK_NO_IBAN_CALCULATION">IBAN_CHKSUM_OK_NO_IBAN_CALCULATION
        
        <dd><p>(-131) Die IBAN-Prüfsumme stimmt. Die Bank gibt IBANs nach nicht
veröffentlichten Regeln heraus, die Richtigkeit der IBAN kann nur mit einer
Anfrage bei der Bank ermittelt werden</p>
        
      
        <dt id="IBAN_CHKSUM_OK_RULE_IGNORED">IBAN_CHKSUM_OK_RULE_IGNORED
        
        <dd><p>(-130) Die IBAN-Prüfsumme stimmt, es wurde allerdings eine IBAN-Regel nicht
beachtet (wahrscheinlich falsch)</p>
        
      
        <dt id="IBAN_CHKSUM_OK_RULE_IGNORED_BLZ">IBAN_CHKSUM_OK_RULE_IGNORED_BLZ
        
        <dd><p>(-143) Die IBAN-Prüfsumme stimmt, die BLZ sollte aber durch eine zentrale
BLZ ersetzt werden. Die Richtigkeit der IBAN kann nur mit einer Anfrage bei
der Bank ermittelt werden</p>
        
      
        <dt id="IBAN_CHKSUM_OK_SOMETHING_WRONG">IBAN_CHKSUM_OK_SOMETHING_WRONG
        
        <dd><p>(-132) Die IBAN-Prüfsumme stimmt, es gibt allerdings einen Fehler in der
eigenen IBAN-Bestimmung (wahrscheinlich falsch)</p>
        
      
        <dt id="IBAN_CHKSUM_OK_UNTERKTO_MISSING">IBAN_CHKSUM_OK_UNTERKTO_MISSING
        
        <dd><p>(-129) Die IBAN-Prüfsumme stimmt, es fehlt aber ein Unterkonto
(wahrscheinlich falsch)</p>
        
      
        <dt id="IBAN_INVALID_RULE">IBAN_INVALID_RULE
        
        <dd><p>(-128) Die BLZ passt nicht zur angegebenen IBAN-Regel</p>
        
      
        <dt id="IBAN_OK_KTO_NOT">IBAN_OK_KTO_NOT
        
        <dd><p>(-67) Die Prüfziffer der IBAN stimmt, die der Kontonummer nicht</p>
        
      
        <dt id="IBAN_ONLY_GERMAN">IBAN_ONLY_GERMAN
        
        <dd><p>(-147) Es werden nur deutsche IBANs unterstützt</p>
        
      
        <dt id="IBAN_RULE_NOT_IMPLEMENTED">IBAN_RULE_NOT_IMPLEMENTED
        
        <dd><p>(-126) Die IBAN-Regel ist noch nicht implementiert</p>
        
      
        <dt id="IBAN_RULE_UNKNOWN">IBAN_RULE_UNKNOWN
        
        <dd><p>(-125) Die IBAN-Regel ist nicht bekannt</p>
        
      
        <dt id="INCREMENTAL_INIT_FROM_DIFFERENT_FILE">INCREMENTAL_INIT_FROM_DIFFERENT_FILE
        
        <dd><p>(-62) Ein inkrementelles Initialisieren mit einer anderen LUT-Datei ist
nicht möglich</p>
        
      
        <dt id="INCREMENTAL_INIT_NEEDS_INFO">INCREMENTAL_INIT_NEEDS_INFO
        
        <dd><p>(-63) Ein inkrementelles Initialisieren benötigt einen Info-Block in der
LUT-Datei</p>
        
      
        <dt id="INIT_FATAL_ERROR">INIT_FATAL_ERROR
        
        <dd><p>(-64) Initialisierung fehlgeschlagen (init_wait geblockt)</p>
        
      
        <dt id="INVALID_BIC_LENGTH">INVALID_BIC_LENGTH
        
        <dd><p>(-144) Die Länge des BIC muß genau 8 oder 11 Zeichen sein</p>
        
      
        <dt id="INVALID_BIQ_INDEX">INVALID_BIQ_INDEX
        
        <dd><p>(-149) Ungültiger Index für die biq_*() Funktionen</p>
        
      
        <dt id="INVALID_BLZ">INVALID_BLZ
        
        <dd><p>(-4) die Bankleitzahl ist ungültig</p>
        
      
        <dt id="INVALID_BLZ_FILE">INVALID_BLZ_FILE
        
        <dd><p>(-15) Fehler in der blz.txt Datei (falsche Zeilenlänge)</p>
        
      
        <dt id="INVALID_BLZ_LENGTH">INVALID_BLZ_LENGTH
        
        <dd><p>(-5) die Bankleitzahl ist nicht achtstellig</p>
        
      
        <dt id="INVALID_HANDLE">INVALID_HANDLE
        
        <dd><p>(-150) Ungültiges Handle angegeben</p>
        
      
        <dt id="INVALID_IBAN_LENGTH">INVALID_IBAN_LENGTH
        
        <dd><p>(-121) Die Länge der IBAN für das angegebene Länderkürzel ist falsch</p>
        
      
        <dt id="INVALID_KTO">INVALID_KTO
        
        <dd><p>(-3) das Konto ist ungültig</p>
        
      
        <dt id="INVALID_KTO_LENGTH">INVALID_KTO_LENGTH
        
        <dd><p>(-12) ein Konto muß zwischen 1 und 10 Stellen haben</p>
        
      
        <dt id="INVALID_LUT_FILE">INVALID_LUT_FILE
        
        <dd><p>(-7) die blz.lut Datei ist inkosistent/ungültig</p>
        
      
        <dt id="INVALID_LUT_VERSION">INVALID_LUT_VERSION
        
        <dd><p>(-27) Die Versionsnummer für die LUT-Datei ist ungültig</p>
        
      
        <dt id="INVALID_PARAMETER_COUNT">INVALID_PARAMETER_COUNT
        
        <dd><p>(-25) ungültiger Prüfparameter (Anzahl zu prüfender Stellen)</p>
        
      
        <dt id="INVALID_PARAMETER_METHODE">INVALID_PARAMETER_METHODE
        
        <dd><p>(-22) ungültiger Prüfparameter (Rechenmethode)</p>
        
      
        <dt id="INVALID_PARAMETER_PRUEFZIFFER">INVALID_PARAMETER_PRUEFZIFFER
        
        <dd><p>(-24) ungültiger Prüfparameter (Position der Prüfziffer)</p>
        
      
        <dt id="INVALID_PARAMETER_STELLE1">INVALID_PARAMETER_STELLE1
        
        <dd><p>(-26) ungültiger Prüfparameter (erste zu prüfende Stelle)</p>
        
      
        <dt id="INVALID_PARAMETER_TYPE">INVALID_PARAMETER_TYPE
        
        <dd><p>(-146) Falscher Parametertyp für die Funktion</p>
        
      
        <dt id="INVALID_PARAMETER_WICHTUNG">INVALID_PARAMETER_WICHTUNG
        
        <dd><p>(-23) ungültiger Prüfparameter (Wichtung)</p>
        
      
        <dt id="INVALID_REGULAR_EXPRESSION">INVALID_REGULAR_EXPRESSION
        
        <dd><p>(-151) Ungültiger regulärer Ausdruck (enthält zwei Zeichen aus [+?*]
nacheinander)</p>
        
      
        <dt id="INVALID_REGULAR_EXPRESSION_CNT">INVALID_REGULAR_EXPRESSION_CNT
        
        <dd><p>(-152) Ungültiger Zähler in regulärem Ausdruck (innerhalb von {})</p>
        
      
        <dt id="INVALID_SEARCH_RANGE">INVALID_SEARCH_RANGE
        
        <dd><p>(-79) ungültiger Suchbereich angegeben (unten&gt;oben)</p>
        
      
        <dt id="INVALID_SET">INVALID_SET
        
        <dd><p>(-75) für ein LUT-Set sind nur die Werte 0, 1 oder 2 möglich</p>
        
      
        <dt id="IPI_CHECK_INVALID_LENGTH">IPI_CHECK_INVALID_LENGTH
        
        <dd><p>(-73) Der zu validierende strukturierete Verwendungszweck muß genau 20
Zeichen enthalten</p>
        
      
        <dt id="IPI_INVALID_CHARACTER">IPI_INVALID_CHARACTER
        
        <dd><p>(-72) Im strukturierten Verwendungszweck dürfen nur alphanumerische Zeichen
vorkommen</p>
        
      
        <dt id="IPI_INVALID_LENGTH">IPI_INVALID_LENGTH
        
        <dd><p>(-71) Die Länge des IPI-Verwendungszwecks darf maximal 18 Byte sein</p>
        
      
        <dt id="KEY_NOT_FOUND">KEY_NOT_FOUND
        
        <dd><p>(-78) Die Suche lieferte kein Ergebnis</p>
        
      
        <dt id="KTO_CHECK_DEFAULT_BLOCK_FULL">KTO_CHECK_DEFAULT_BLOCK_FULL
        
        <dd><p>(-108) Die maximale Anzahl Einträge für den Default-Block wurde erreicht</p>
        
      
        <dt id="KTO_CHECK_DEFAULT_BLOCK_INVALID">KTO_CHECK_DEFAULT_BLOCK_INVALID
        
        <dd><p>(-109) Ungültige Signatur im Default-Block</p>
        
      
        <dt id="KTO_CHECK_INVALID_COMPRESSION_LIB">KTO_CHECK_INVALID_COMPRESSION_LIB
        
        <dd><p>(-111) der angegebene Wert für die Default-Kompression ist ungültig</p>
        
      
        <dt id="KTO_CHECK_KEY_NOT_FOUND">KTO_CHECK_KEY_NOT_FOUND
        
        <dd><p>(-106) Der angegebene Schlüssel wurde im Default-Block nicht gefunden</p>
        
      
        <dt id="KTO_CHECK_NO_DEFAULT_BLOCK">KTO_CHECK_NO_DEFAULT_BLOCK
        
        <dd><p>(-107) Es wurde noch kein Default-Block angelegt</p>
        
      
        <dt id="KTO_CHECK_UNSUPPORTED_COMPRESSION">KTO_CHECK_UNSUPPORTED_COMPRESSION
        
        <dd><p>(-112) die notwendige Kompressions-Bibliothek wurde beim Kompilieren nicht
eingebunden</p>
        
      
        <dt id="KTO_CHECK_VALUE_REPLACED">KTO_CHECK_VALUE_REPLACED
        
        <dd><p>(10) ok, der Wert für den Schlüssel wurde überschrieben</p>
        
      
        <dt id="KTO_OK_IBAN_NOT">KTO_OK_IBAN_NOT
        
        <dd><p>(-66) Die Prüfziffer der Kontonummer stimmt, die der IBAN nicht</p>
        
      
        <dt id="LIBRARY_INIT_ERROR">LIBRARY_INIT_ERROR
        
        <dd><p>(-21) Problem beim Initialisieren der globalen Variablen</p>
        
      
        <dt id="LIBRARY_IS_NOT_THREAD_SAFE">LIBRARY_IS_NOT_THREAD_SAFE
        
        <dd><p>(-14) undefinierte Funktion, die library wurde mit THREAD_SAFE=0 kompiliert</p>
        
      
        <dt id="LUT1_FILE_GENERATED">LUT1_FILE_GENERATED
        
        <dd><p>(7) ok, es wurde allerdings eine LUT-Datei im alten Format (1.0/1.1)
generiert</p>
        
      
        <dt id="LUT1_FILE_USED">LUT1_FILE_USED
        
        <dd><p>(-70) Es wurde eine LUT-Datei im Format 1.0/1.1 geladen</p>
        
      
        <dt id="LUT1_SET_LOADED">LUT1_SET_LOADED
        
        <dd><p>(6) Die Datei ist im alten LUT-Format (1.0/1.1)</p>
        
      
        <dt id="LUT2_AENDERUNG_NOT_INITIALIZED">LUT2_AENDERUNG_NOT_INITIALIZED
        
        <dd><p>(-43) Das Feld Änderung wurde nicht initialisiert</p>
        
      
        <dt id="LUT2_BIC_NOT_INITIALIZED">LUT2_BIC_NOT_INITIALIZED
        
        <dd><p>(-46) Das Feld BIC wurde nicht initialisiert</p>
        
      
        <dt id="LUT2_BLOCKS_MISSING">LUT2_BLOCKS_MISSING
        
        <dd><p>(-136) ok, bei der Initialisierung konnten allerdings ein oder mehrere
Blocks nicht geladen werden</p>
        
      
        <dt id="LUT2_BLOCK_NOT_IN_FILE">LUT2_BLOCK_NOT_IN_FILE
        
        <dd><p>(-34) Der Block ist nicht in der LUT-Datei enthalten</p>
        
      
        <dt id="LUT2_BLZ_NOT_INITIALIZED">LUT2_BLZ_NOT_INITIALIZED
        
        <dd><p>(-53) Das Feld BLZ wurde nicht initialisiert</p>
        
      
        <dt id="LUT2_COMPRESS_ERROR">LUT2_COMPRESS_ERROR
        
        <dd><p>(-32) Fehler beim Komprimieren eines LUT-Blocks</p>
        
      
        <dt id="LUT2_DECOMPRESS_ERROR">LUT2_DECOMPRESS_ERROR
        
        <dd><p>(-33) Fehler beim Dekomprimieren eines LUT-Blocks</p>
        
      
        <dt id="LUT2_FILE_CORRUPTED">LUT2_FILE_CORRUPTED
        
        <dd><p>(-31) Die LUT-Datei ist korrumpiert</p>
        
      
        <dt id="LUT2_FILIALEN_MISSING">LUT2_FILIALEN_MISSING
        
        <dd><p>(-39) der Block mit der Filialenanzahl fehlt in der LUT-Datei</p>
        
      
        <dt id="LUT2_FILIALEN_NOT_INITIALIZED">LUT2_FILIALEN_NOT_INITIALIZED
        
        <dd><p>(-52) Das Feld Filialen wurde nicht initialisiert</p>
        
      
        <dt id="LUT2_GUELTIGKEIT_SWAPPED">LUT2_GUELTIGKEIT_SWAPPED
        
        <dd><p>(-57) Im Gültigkeitsdatum sind Anfangs- und Enddatum vertauscht</p>
        
      
        <dt id="LUT2_IBAN_REGEL_NOT_INITIALIZED">LUT2_IBAN_REGEL_NOT_INITIALIZED
        
        <dd><p>(-122) Das Feld IBAN-Regel wurde nicht initialisiert</p>
        
      
        <dt id="LUT2_INDEX_OUT_OF_RANGE">LUT2_INDEX_OUT_OF_RANGE
        
        <dd><p>(-55) Der Index für die Filiale ist ungültig</p>
        
      
        <dt id="LUT2_INIT_IN_PROGRESS">LUT2_INIT_IN_PROGRESS
        
        <dd><p>(-54) Die Bibliothek wird gerade neu initialisiert</p>
        
      
        <dt id="LUT2_INVALID">LUT2_INVALID
        
        <dd><p>(-60) Kein Datensatz der LUT-Datei ist aktuell gültig</p>
        
      
        <dt id="LUT2_INVALID_GUELTIGKEIT">LUT2_INVALID_GUELTIGKEIT
        
        <dd><p>(-56) Das angegebene Gültigkeitsdatum ist ungültig (Sollformat ist
JJJJMMTT-JJJJMMTT)</p>
        
      
        <dt id="LUT2_KTO_NOT_CHECKED">LUT2_KTO_NOT_CHECKED
        
        <dd><p>(15) Die Bankverbindung wurde nicht getestet</p>
        
      
        <dt id="LUT2_LOESCHUNG_NOT_INITIALIZED">LUT2_LOESCHUNG_NOT_INITIALIZED
        
        <dd><p>(-42) Das Feld Löschung wurde nicht initialisiert</p>
        
      
        <dt id="LUT2_NACHFOLGE_BLZ_NOT_INITIALIZED">LUT2_NACHFOLGE_BLZ_NOT_INITIALIZED
        
        <dd><p>(-41) Das Feld Nachfolge-BLZ wurde nicht initialisiert</p>
        
      
        <dt id="LUT2_NAME_KURZ_NOT_INITIALIZED">LUT2_NAME_KURZ_NOT_INITIALIZED
        
        <dd><p>(-48) Das Feld Kurzname wurde nicht initialisiert</p>
        
      
        <dt id="LUT2_NAME_NOT_INITIALIZED">LUT2_NAME_NOT_INITIALIZED
        
        <dd><p>(-51) Das Feld Bankname wurde nicht initialisiert</p>
        
      
        <dt id="LUT2_NOT_ALL_IBAN_BLOCKS_LOADED">LUT2_NOT_ALL_IBAN_BLOCKS_LOADED
        
        <dd><p>(-139) es konnten nicht alle Datenblocks die für die IBAN-Berechnung
notwendig sind geladen werden</p>
        
      
        <dt id="LUT2_NOT_INITIALIZED">LUT2_NOT_INITIALIZED
        
        <dd><p>(-40) die Programmbibliothek wurde noch nicht initialisiert</p>
        
      
        <dt id="LUT2_NOT_YET_VALID">LUT2_NOT_YET_VALID
        
        <dd><p>(-59) Der Datensatz ist noch nicht gültig</p>
        
      
        <dt id="LUT2_NOT_YET_VALID_PARTIAL_OK">LUT2_NOT_YET_VALID_PARTIAL_OK
        
        <dd><p>(-138) Der Datensatz ist noch nicht gültig, außerdem konnten nicht alle
Blocks geladen werden</p>
        
      
        <dt id="LUT2_NO_ACCOUNT_GIVEN">LUT2_NO_ACCOUNT_GIVEN
        
        <dd><p>(-120) Keine Bankverbindung/IBAN angegeben</p>
        
      
        <dt id="LUT2_NO_LONGER_VALID">LUT2_NO_LONGER_VALID
        
        <dd><p>(-58) Der Datensatz ist nicht mehr gültig</p>
        
      
        <dt id="LUT2_NO_LONGER_VALID_BETTER">LUT2_NO_LONGER_VALID_BETTER
        
        <dd><p>(-105) Beide Datensätze sind nicht mehr gültig, dieser ist aber jünger als
der andere</p>
        
      
        <dt id="LUT2_NO_LONGER_VALID_PARTIAL_OK">LUT2_NO_LONGER_VALID_PARTIAL_OK
        
        <dd><p>(-137) Der Datensatz ist nicht mehr gültig, außerdem konnten nicht alle
Blocks geladen werdeng</p>
        
      
        <dt id="LUT2_NO_SLOT_FREE">LUT2_NO_SLOT_FREE
        
        <dd><p>(-30) Im Inhaltsverzeichnis der LUT-Datei ist kein Slot mehr frei</p>
        
      
        <dt id="LUT2_NO_USER_BLOCK">LUT2_NO_USER_BLOCK
        
        <dd><p>(-76) User-Blocks müssen einen Typ &gt; 500 haben</p>
        
      
        <dt id="LUT2_NO_VALID_DATE">LUT2_NO_VALID_DATE
        
        <dd><p>(5) Der Datensatz enthält kein Gültigkeitsdatum</p>
        
      
        <dt id="LUT2_NR_NOT_INITIALIZED">LUT2_NR_NOT_INITIALIZED
        
        <dd><p>(-44) Das Feld NR wurde nicht initialisiert</p>
        
      
        <dt id="LUT2_OK_WITHOUT_IBAN_RULES">LUT2_OK_WITHOUT_IBAN_RULES
        
        <dd><p>(16) Es wurden fast alle Blocks (außer den IBAN-Regeln) geladen</p>
        
      
        <dt id="LUT2_ORT_NOT_INITIALIZED">LUT2_ORT_NOT_INITIALIZED
        
        <dd><p>(-49) Das Feld Ort wurde nicht initialisiert</p>
        
      
        <dt id="LUT2_PAN_NOT_INITIALIZED">LUT2_PAN_NOT_INITIALIZED
        
        <dd><p>(-47) Das Feld PAN wurde nicht initialisiert</p>
        
      
        <dt id="LUT2_PARTIAL_OK">LUT2_PARTIAL_OK
        
        <dd><p>(-38) es wurden nicht alle Blocks geladen</p>
        
      
        <dt id="LUT2_PLZ_NOT_INITIALIZED">LUT2_PLZ_NOT_INITIALIZED
        
        <dd><p>(-50) Das Feld PLZ wurde nicht initialisiert</p>
        
      
        <dt id="LUT2_PZ_NOT_INITIALIZED">LUT2_PZ_NOT_INITIALIZED
        
        <dd><p>(-45) Das Feld Prüfziffer wurde nicht initialisiert</p>
        
      
        <dt id="LUT2_VALID">LUT2_VALID
        
        <dd><p>(4) Der Datensatz ist aktuell gültig</p>
        
      
        <dt id="LUT2_VOLLTEXT_INVALID_CHAR">LUT2_VOLLTEXT_INVALID_CHAR
        
        <dd><p>(-119) Ungültiges Zeichen ( ()+-/&amp;.,&#39; ) für die Volltextsuche
gefunden</p>
        
      
        <dt id="LUT2_VOLLTEXT_NOT_INITIALIZED">LUT2_VOLLTEXT_NOT_INITIALIZED
        
        <dd><p>(-114) Das Feld Volltext wurde nicht initialisiert</p>
        
      
        <dt id="LUT2_VOLLTEXT_SINGLE_WORD_ONLY">LUT2_VOLLTEXT_SINGLE_WORD_ONLY
        
        <dd><p>(-118) Die Volltextsuche sucht jeweils nur ein einzelnes Wort, benutzen Sie
lut_suche_multiple() zur Suche nach mehreren Worten</p>
        
      
        <dt id="LUT2_Z_BUF_ERROR">LUT2_Z_BUF_ERROR
        
        <dd><p>(-37) Buffer error in den ZLIB Routinen</p>
        
      
        <dt id="LUT2_Z_DATA_ERROR">LUT2_Z_DATA_ERROR
        
        <dd><p>(-35) Datenfehler im komprimierten LUT-Block</p>
        
      
        <dt id="LUT2_Z_MEM_ERROR">LUT2_Z_MEM_ERROR
        
        <dd><p>(-36) Memory error in den ZLIB-Routinen</p>
        
      
        <dt id="LUT_CRC_ERROR">LUT_CRC_ERROR
        
        <dd><p>(-20) Prüfsummenfehler in der blz.lut Datei</p>
        
      
        <dt id="LUT_SUCHE_INVALID_CMD">LUT_SUCHE_INVALID_CMD
        
        <dd><p>(-116) bei der Suche sind im Verknüpfungsstring nur die Zeichen a-z sowie +
und - erlaubt</p>
        
      
        <dt id="LUT_SUCHE_INVALID_CNT">LUT_SUCHE_INVALID_CNT
        
        <dd><p>(-115) bei der Suche müssen zwischen 1 und 26 Suchmuster angegeben werden</p>
        
      
        <dt id="LUT_SUCHE_INVALID_RSC">LUT_SUCHE_INVALID_RSC
        
        <dd><p>(-117) die angegebene Suchresource ist ungültig</p>
        
      
        <dt id="LUT_V2_FILE_GENERATED">LUT_V2_FILE_GENERATED
        
        <dd><p>(9) ok, es wurde allerdings eine LUT-Datei im Format 2.0 generiert
(Compilerswitch)</p>
        
      
        <dt id="MISSING_PARAMETER">MISSING_PARAMETER
        
        <dd><p>(-69) Für die aufgerufene Funktion fehlt ein notwendiger Parameter</p>
        
      
        <dt id="NOT_DEFINED">NOT_DEFINED
        
        <dd><p>(-1) die Methode ist nicht definiert</p>
        
      
        <dt id="NOT_IMPLEMENTED">NOT_IMPLEMENTED
        
        <dd><p>(-2) die Methode wurde noch nicht implementiert</p>
        
      
        <dt id="NO_BLZ_FILE">NO_BLZ_FILE
        
        <dd><p>(-8) die blz.txt Datei wurde nicht gefunden</p>
        
      
        <dt id="NO_GERMAN_BIC">NO_GERMAN_BIC
        
        <dd><p>(-74) Ein Konto kann kann nur für deutsche Banken geprüft werden</p>
        
      
        <dt id="NO_IBAN_CALCULATION">NO_IBAN_CALCULATION
        
        <dd><p>(-124) Für die Bankverbindung ist keine IBAN-Berechnung erlaubt</p>
        
      
        <dt id="NO_LUT_FILE">NO_LUT_FILE
        
        <dd><p>(-6) die blz.lut Datei wurde nicht gefunden</p>
        
      
        <dt id="NO_OWN_IBAN_CALCULATION">NO_OWN_IBAN_CALCULATION
        
        <dd><p>(-113) das Institut erlaubt keine eigene IBAN-Berechnung</p>
        
      
        <dt id="OK">OK
        
        <dd><p>(1) ok</p>
        
      
        <dt id="OK_BLZ_KTO_REPLACED">OK_BLZ_KTO_REPLACED
        
        <dd><p>(20) ok, die Bankleitzahl und Kontonummer wurden allerdings ersetzt</p>
        
      
        <dt id="OK_BLZ_REPLACED">OK_BLZ_REPLACED
        
        <dd><p>(19) ok, die Bankleitzahl wurde allerdings ersetzt</p>
        
      
        <dt id="OK_GELOESCHT">OK_GELOESCHT
        
        <dd><p>(-17) ok (die BLZ wurde allerdings gelöscht)</p>
        
      
        <dt id="OK_HYPO_REQUIRES_KTO">OK_HYPO_REQUIRES_KTO
        
        <dd><p>(23) ok, für die BIC-Bestimmung der ehemaligen Hypo-Bank für IBAN wird i.A.
zusätzlich die Kontonummer benötigt</p>
        
      
        <dt id="OK_IBAN_WITHOUT_KC_TEST">OK_IBAN_WITHOUT_KC_TEST
        
        <dd><p>(21) ok, die Bankverbindung ist (ohne Test) als richtig anzusehen</p>
        
      
        <dt id="OK_INVALID_FOR_IBAN">OK_INVALID_FOR_IBAN
        
        <dd><p>(22) ok, für die die IBAN ist (durch eine Regel) allerdings ein anderer BIC
definiert</p>
        
      
        <dt id="OK_KTO_REPLACED">OK_KTO_REPLACED
        
        <dd><p>(18) ok, die Kontonummer wurde allerdings ersetzt</p>
        
      
        <dt id="OK_KTO_REPLACED_NO_PZ">OK_KTO_REPLACED_NO_PZ
        
        <dd><p>(24) ok, die Kontonummer wurde ersetzt, die neue Kontonummer hat keine
Prüfziffer</p>
        
      
        <dt id="OK_NACHFOLGE_BLZ_USED">OK_NACHFOLGE_BLZ_USED
        
        <dd><p>(17) ok, für die BLZ wurde allerdings die Nachfolge-BLZ eingesetzt</p>
        
      
        <dt id="OK_NO_CHK">OK_NO_CHK
        
        <dd><p>(2) ok, ohne Prüfung</p>
        
      
        <dt id="OK_NO_CHK_GELOESCHT">OK_NO_CHK_GELOESCHT
        
        <dd><p>(-18) ok, ohne Prüfung (die BLZ wurde allerdings gelöscht)</p>
        
      
        <dt id="OK_SHORT_BIC_USED">OK_SHORT_BIC_USED
        
        <dd><p>(26) ok, für den BIC wurde die Zweigstellennummer allerdings durch XXX
ersetzt</p>
        
      
        <dt id="OK_SLOT_CNT_MIN_USED">OK_SLOT_CNT_MIN_USED
        
        <dd><p>(13) ok, die Anzahl Slots wurde auf SLOT_CNT_MIN (60) hochgesetzt</p>
        
      
        <dt id="OK_TEST_BLZ_USED">OK_TEST_BLZ_USED
        
        <dd><p>(3) ok, für den Test wurde eine Test-BLZ verwendet</p>
        
      
        <dt id="OK_UNTERKONTO_ATTACHED">OK_UNTERKONTO_ATTACHED
        
        <dd><p>(25) ok, es wurde ein (weggelassenes) Unterkonto angefügt</p>
        
      
        <dt id="OK_UNTERKONTO_ATTACHED_OLD">OK_UNTERKONTO_ATTACHED_OLD
        
        <dd><p>(-110) (nicht mehr als Fehler, sondern positive Ausgabe - Dummy für den
alten Wert)</p>
        
      
        <dt id="OK_UNTERKONTO_GIVEN">OK_UNTERKONTO_GIVEN
        
        <dd><p>(12) wahrscheinlich ok, die Kontonummer enthält eine Unterkontonummer</p>
        
      
        <dt id="OK_UNTERKONTO_POSSIBLE">OK_UNTERKONTO_POSSIBLE
        
        <dd><p>(11) wahrscheinlich ok, die Kontonummer kann allerdings (nicht angegebene)
Unterkonten enthalten</p>
        
      
        <dt id="OLD_BLZ_OK_NEW_NOT">OLD_BLZ_OK_NEW_NOT
        
        <dd><p>(-123) Die Bankverbindung ist mit der alten BLZ stimmig, mit der
Nachfolge-BLZ nicht</p>
        
      
        <dt id="SOME_KEYS_NOT_FOUND">SOME_KEYS_NOT_FOUND
        
        <dd><p>(14) ok, ein(ige) Schlüssel wurden nicht gefunden</p>
        
      
        <dt id="TOO_MANY_SLOTS">TOO_MANY_SLOTS
        
        <dd><p>(-65) Es sind nur maximal 500 Slots pro LUT-Datei möglich (Neukompilieren
erforderlich)</p>
        
      
        <dt id="UNDEFINED_SUBMETHOD">UNDEFINED_SUBMETHOD
        
        <dd><p>(-29) Die (Unter)Methode ist nicht definiert</p>
        
      
      </dl>
    </section>
    

    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-bank_aenderung" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_aenderung</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_aenderung-label-KontoCheckRaw-3A-3Abank_aenderung-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheckRaw.html#method-c-bank_aenderung">::bank_aenderung</a>( blz [,filiale])<span><a href="#method-c-bank_aenderung-label-KontoCheckRaw-3A-3Abank_aenderung-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_aenderung-label-KontoCheck-3A-3Abank_aenderung-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheck.html#method-c-bank_aenderung">KontoCheck.bank_aenderung</a>( blz [,filiale])<span><a href="#method-c-bank_aenderung-label-KontoCheck-3A-3Abank_aenderung-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert das  &#39;Änderung&#39; Flag einer Bank (als
string). Mögliche Werte sind: A (Addition), M (Modified), U (Unchanged), D
(Deletion). Der Rückgabewert ist ein Array mit zwei Elementen: im ersten
steht ein String mit dem Änderungsflag, im zweiten ein Statuscode. Im
Fehlerfall wird für das Flag nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-43  (LUT2_AENDERUNG_NOT_INITIALIZED) “Das Feld Änderung wurde nicht
initialisiert”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)            “die Bankleitzahl ist nicht
achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                   “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_aenderung-source">
            <pre>static VALUE bank_aenderung(int argc,VALUE* argv,VALUE self)
{
   char blz[16],aenderung[2],error_msg[512];
   int retval,filiale;

   get_params(argc,argv,blz,NULL,NULL,&amp;filiale,1);
   *aenderung=lut_aenderung(blz,filiale,&amp;retval);
   aenderung[1]=0;
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_AENDERUNG_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:rb_str_new2(aenderung),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_alles" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_alles</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_alles-label-KontoCheckRaw-3A-3Abank_alles-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheckRaw.html#method-c-bank_alles">::bank_alles</a>( blz [,filiale])<span><a href="#method-c-bank_alles-label-KontoCheckRaw-3A-3Abank_alles-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_alles-label-KontoCheck-3A-3Abank_alles-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheck.html#method-c-bank_alles">KontoCheck.bank_alles</a>( blz [,filiale])<span><a href="#method-c-bank_alles-label-KontoCheck-3A-3Abank_alles-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Dies ist eine Mammutfunktion, die alle vorhandenen Informationen über eine
Bank zurückliefert. Das Ergebnis ist ein Array mit den folgenden
Komponenten:</p>
<ul><li>
<p>0:  Statuscode</p>
</li><li>
<p>1:  Anzahl Filialen</p>
</li><li>
<p>2:  Name</p>
</li><li>
<p>3:  Kurzname</p>
</li><li>
<p>4:  PLZ</p>
</li><li>
<p>5:  Ort</p>
</li><li>
<p>6:  PAN</p>
</li><li>
<p>7:  BIC</p>
</li><li>
<p>8:  Prüfziffer</p>
</li><li>
<p>9:  Laufende Nr.</p>
</li><li>
<p>10: Änderungs-Flag</p>
</li><li>
<p>11: Löeschung-Flag</p>
</li><li>
<p>12: Nachfolge-BLZ</p>
</li></ul>

<p>Der Statuscode (Element 0) kann folgende Werte annehmen:</p>
<ul><li>
<p>-40  (LUT2_NOT_INITIALIZED)       “die Programmbibliothek wurde noch nicht
initialisiert”</p>
</li><li>
<p>-38  (LUT2_PARTIAL_OK)            “es wurden nicht alle Blocks geladen”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)         “die Bankleitzahl ist nicht achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                         “ok”</p>
</li></ul>

<p>* Anmerkung: Falls der Statuscode <a
href="KontoCheckRaw.html#LUT2_PARTIAL_OK">LUT2_PARTIAL_OK</a> ist, wurden
bei der Initialisierung nicht alle Blocks geladen (oder es sind nicht alle
verfügbar); die entsprechenden Elemente haben dann den Wert nil.</p>
          
          

          
          <div class="method-source-code" id="bank_alles-source">
            <pre>static VALUE bank_alles(int argc,VALUE* argv,VALUE self)
{
   char blz[16],**p_name,**p_name_kurz,**p_ort,**p_bic,*p_aenderung,*p_loeschung,aenderung[2],loeschung[2],error_msg[512];
   int retval,filiale,cnt,*p_blz,*p_plz,*p_pan,p_pz,*p_nr,*p_nachfolge_blz;

   get_params(argc,argv,blz,NULL,NULL,&amp;filiale,1);
   retval=lut_multiple(blz,&amp;cnt,&amp;p_blz, &amp;p_name,&amp;p_name_kurz,&amp;p_plz,&amp;p_ort,&amp;p_pan,&amp;p_bic,&amp;p_pz,&amp;p_nr,
         &amp;p_aenderung,&amp;p_loeschung,&amp;p_nachfolge_blz,NULL,NULL,NULL);
   if(retval==LUT2_BLZ_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   if(filiale&lt;0 || (cnt &amp;&amp; filiale&gt;=cnt))return(INT2FIX(LUT2_INDEX_OUT_OF_RANGE));  /* ungültige Filiale */

      /* Fehler; die C-Arrays dürfen in diesem Fall nicht dereferenziert werden */
   if(retval&lt;=0 &amp;&amp; retval!=LUT2_PARTIAL_OK)return rb_ary_new3(2,INT2FIX(retval),Qnil);

   if(p_aenderung){
      *aenderung=p_aenderung[filiale];
      *(aenderung+1)=0;
   }
   else
      *aenderung=0;

   if(p_loeschung){
      *loeschung=p_loeschung[filiale];
      *(loeschung+1)=0;
   }
   else
      *loeschung=0;

   /* Makros für StringValue und IntegerValue definieren, damit die Rückgabe
    * einigermaßen übersichtlich bleibt
    */
#define SV(x) *x?rb_str_new2(x):Qnil
#define IV(x) x&gt;=0?INT2FIX(x):Qnil
   return rb_ary_new3(13,INT2FIX(retval),IV(cnt),SV(p_name[filiale]),
         SV(p_name_kurz[filiale]),IV(p_plz[filiale]),SV(p_ort[filiale]),
         IV(p_pan[filiale]),SV(p_bic[filiale]),IV(p_pz),IV(p_nr[filiale]),
         SV(aenderung),SV(loeschung),IV(p_nachfolge_blz[filiale]));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_bic" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_bic</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_bic-label-KontoCheckRaw-3A-3Abank_bic-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheckRaw.html#method-c-bank_bic">::bank_bic</a>( blz [,filiale])<span><a href="#method-c-bank_bic-label-KontoCheckRaw-3A-3Abank_bic-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_bic-label-KontoCheck-3A-3Abank_bic-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheck.html#method-c-bank_bic">KontoCheck.bank_bic</a>( blz [,filiale])<span><a href="#method-c-bank_bic-label-KontoCheck-3A-3Abank_bic-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert den BIC (Bank Identifier Code) einer Bank. Der
Rückgabewert ist ein Array mit zwei Elementen: im ersten steht ein String
mit dem BIC, im zweiten ein Statuscode. Im Fehlerfall wird für den BIC nil
zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)            “die Bankleitzahl ist nicht
achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                   “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_bic-source">
            <pre>static VALUE bank_bic(int argc,VALUE* argv,VALUE self)
{
   char blz[16],error_msg[512];
   const char *ptr;
   int retval,filiale;

   get_params(argc,argv,blz,NULL,NULL,&amp;filiale,1);
   ptr=lut_bic(blz,filiale,&amp;retval);
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_BIC_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:rb_str_new2(ptr),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_filialen" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_filialen</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_filialen-label-KontoCheckRaw-3A-3Abank_filialen-28+blz-29"><a href="KontoCheckRaw.html#method-c-bank_filialen">::bank_filialen</a>( blz)<span><a href="#method-c-bank_filialen-label-KontoCheckRaw-3A-3Abank_filialen-28+blz-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_filialen-label-KontoCheck-3A-3Abank_filialen-28+blz-29"><a href="KontoCheck.html#method-c-bank_filialen">KontoCheck.bank_filialen</a>( blz)<span><a href="#method-c-bank_filialen-label-KontoCheck-3A-3Abank_filialen-28+blz-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert die Anzahl Filialen einer Bank (inklusive
Hauptstelle). Die LUT-Datei muß dazu natürlich mit den Filialdaten
generiert sein, sonst wird für alle Banken nur 1 zurückgegeben. Der
Rückgabewert ist ein Array mit der Anzahl Filialen im ersten Parameter, und
einem Statuscode im zwweiten.</p>

<p>Mögliche Statuswerte sind:</p>
<ul><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-52  (LUT2_FILIALEN_NOT_INITIALIZED) “Das Feld Filialen wurde nicht
initialisiert”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)            “die Bankleitzahl ist nicht
achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                   “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_filialen-source">
            <pre>static VALUE bank_filialen(int argc,VALUE* argv,VALUE self)
{
   char blz[16],error_msg[512];
   int retval,cnt;

   get_params(argc,argv,blz,NULL,NULL,NULL,0);
   cnt=lut_filialen(blz,&amp;retval);
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_FILIALEN_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(cnt),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_loeschung" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_loeschung</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_loeschung-label-KontoCheckRaw-3A-3Abank_loeschung-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheckRaw.html#method-c-bank_loeschung">::bank_loeschung</a>( blz [,filiale])<span><a href="#method-c-bank_loeschung-label-KontoCheckRaw-3A-3Abank_loeschung-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_loeschung-label-KontoCheck-3A-3Abank_loeschung-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheck.html#method-c-bank_loeschung">KontoCheck.bank_loeschung</a>( blz [,filiale])<span><a href="#method-c-bank_loeschung-label-KontoCheck-3A-3Abank_loeschung-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert das Lösch-Flag für eine Bank zurück (als Integer;
mögliche Werte sind 0 und 1). Der Rückgabewert ist ein Array mit zwei
Elementen: im ersten steht das Flag, im zweiten ein Statuscode. Im
Fehlerfall wird für das Flag nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-42  (LUT2_LOESCHUNG_NOT_INITIALIZED) “Das Feld Löschung wurde nicht
initialisiert”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)            “die Bankleitzahl ist nicht
achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                   “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_loeschung-source">
            <pre>static VALUE bank_loeschung(int argc,VALUE* argv,VALUE self)
{
   char blz[16],error_msg[512];
   int retval,loeschung,filiale;

   get_params(argc,argv,blz,NULL,NULL,&amp;filiale,1);
   loeschung=lut_loeschung(blz,filiale,&amp;retval)-&#39;0&#39;;
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_LOESCHUNG_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(loeschung),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_nachfolge_blz" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_nachfolge_blz</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_nachfolge_blz-label-KontoCheckRaw-3A-3Abank_nachfolge_blz-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheckRaw.html#method-c-bank_nachfolge_blz">::bank_nachfolge_blz</a>( blz [,filiale])<span><a href="#method-c-bank_nachfolge_blz-label-KontoCheckRaw-3A-3Abank_nachfolge_blz-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_nachfolge_blz-label-KontoCheck-3A-3Abank_nachfolge_blz-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheck.html#method-c-bank_nachfolge_blz">KontoCheck.bank_nachfolge_blz</a>( blz [,filiale])<span><a href="#method-c-bank_nachfolge_blz-label-KontoCheck-3A-3Abank_nachfolge_blz-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert die Nachfolge-BLZ für eine Bank, die gelöscht werden
soll (bei der das &#39;Löschung&#39; Flag 1 ist). Der Rückgabewert ist ein
Array mit zwei Elementen: im ersten steht die Nachfolge-BLZ, im zweiten ein
Statuscode. Im Fehlerfall wird für die Nachfolge-BLZ nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-41  (LUT2_NACHFOLGE_BLZ_NOT_INITIALIZED) “Das Feld Nachfolge-BLZ wurde
nicht initialisiert”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)            “die Bankleitzahl ist nicht
achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                   “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_nachfolge_blz-source">
            <pre>static VALUE bank_nachfolge_blz(int argc,VALUE* argv,VALUE self)
{
   char blz[16],error_msg[512];
   int retval,n_blz,filiale;

   get_params(argc,argv,blz,NULL,NULL,&amp;filiale,1);
   n_blz=lut_nachfolge_blz(blz,filiale,&amp;retval);
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_NACHFOLGE_BLZ_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(n_blz),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_name</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_name-label-KontoCheckRaw-3A-3Abank_name-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheckRaw.html#method-c-bank_name">::bank_name</a>( blz [,filiale])<span><a href="#method-c-bank_name-label-KontoCheckRaw-3A-3Abank_name-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_name-label-KontoCheck-3A-3Abank_name-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheck.html#method-c-bank_name">KontoCheck.bank_name</a>( blz [,filiale])<span><a href="#method-c-bank_name-label-KontoCheck-3A-3Abank_name-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert den Namen einer Bank. Der Rückgabewert ist ein Array
mit zwei Elementen: im ersten steht ein String mit dem Namen, im zweiten
ein Statuscode. Im Fehlerfall wird für den Namen nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-51  (LUT2_NAME_NOT_INITIALIZED)     “Das Feld Bankname wurde nicht
initialisiert”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)            “die Bankleitzahl ist nicht
achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                   “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_name-source">
            <pre>static VALUE bank_name(int argc,VALUE* argv,VALUE self)
{
   char blz[16],error_msg[512];
   const char *name;
   int retval,filiale;

   get_params(argc,argv,blz,NULL,NULL,&amp;filiale,1);
   name=lut_name(blz,filiale,&amp;retval);
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_NAME_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:rb_str_new2(name),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_name_kurz" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_name_kurz</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_name_kurz-label-KontoCheckRaw-3A-3Abank_name_kurz-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheckRaw.html#method-c-bank_name_kurz">::bank_name_kurz</a>( blz [,filiale])<span><a href="#method-c-bank_name_kurz-label-KontoCheckRaw-3A-3Abank_name_kurz-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_name_kurz-label-KontoCheck-3A-3Abank_name_kurz-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheck.html#method-c-bank_name_kurz">KontoCheck.bank_name_kurz</a>( blz [,filiale])<span><a href="#method-c-bank_name_kurz-label-KontoCheck-3A-3Abank_name_kurz-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert den Kurznamen einer Bank. Der Rückgabewert ist ein
Array mit zwei Elementen: im ersten steht ein String mit dem Namen, im
zweiten ein Statuscode. Im Fehlerfall wird für den Namen nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-48  (LUT2_NAME_KURZ_NOT_INITIALIZED) “Das Feld Kurzname wurde nicht
initialisiert”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)            “die Bankleitzahl ist nicht
achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                   “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_name_kurz-source">
            <pre>static VALUE bank_name_kurz(int argc,VALUE* argv,VALUE self)
{
   char blz[16],error_msg[512];
   const char *name;
   int retval,filiale;

   get_params(argc,argv,blz,NULL,NULL,&amp;filiale,1);
   name=lut_name_kurz(blz,filiale,&amp;retval);
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_NAME_KURZ_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:rb_str_new2(name),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_nr" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_nr</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_nr-label-KontoCheckRaw-3A-3Abank_nr-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheckRaw.html#method-c-bank_nr">::bank_nr</a>( blz [,filiale])<span><a href="#method-c-bank_nr-label-KontoCheckRaw-3A-3Abank_nr-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_nr-label-KontoCheck-3A-3Abank_nr-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheck.html#method-c-bank_nr">KontoCheck.bank_nr</a>( blz [,filiale])<span><a href="#method-c-bank_nr-label-KontoCheck-3A-3Abank_nr-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert die laufende Nummer einer Bank (internes Feld der
BLZ-Datei). Der Wert wird wahrscheinlich nicht oft benötigt, ist aber der
Vollständigkeit halber enthalten. Der Rückgabewert ist ein Array mit zwei
Elementen: im ersten steht die Nummer, im zweiten ein Statuscode. Im
Fehlerfall wird für die Nummer nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>

<p>Possible return values (and short description):</p>
<ul><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-44  (LUT2_NR_NOT_INITIALIZED)       “Das Feld NR wurde nicht
initialisiert”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)            “die Bankleitzahl ist nicht
achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                   “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_nr-source">
            <pre>static VALUE bank_nr(int argc,VALUE* argv,VALUE self)
{
   char blz[16],error_msg[512];
   int retval,nr,filiale;

   get_params(argc,argv,blz,NULL,NULL,&amp;filiale,1);
   nr=lut_nr(blz,filiale,&amp;retval);
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_NR_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(nr),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_ort" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_ort</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_ort-label-KontoCheckRaw-3A-3Abank_ort-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheckRaw.html#method-c-bank_ort">::bank_ort</a>( blz [,filiale])<span><a href="#method-c-bank_ort-label-KontoCheckRaw-3A-3Abank_ort-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_ort-label-KontoCheck-3A-3Abank_ort-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheck.html#method-c-bank_ort">KontoCheck.bank_ort</a>( blz [,filiale])<span><a href="#method-c-bank_ort-label-KontoCheck-3A-3Abank_ort-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert den Ort einer Bank. Falls der Parameter filiale
nicht angegeben ist, wird der Sitz der Hauptstelle ausgegeben. Der
Rückgabewert ist ein Array mit zwei Elementen: im ersten steht ein String
mit dem Namen, im zweiten ein Statuscode. Im Fehlerfall wird für den Ort
nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)   “Das Feld BLZ wurde nicht initialisiert”</p>
</li><li>
<p>-49  (LUT2_ORT_NOT_INITIALIZED)   “Das Feld Ort wurde nicht initialisiert”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)    “Der Index für die Filiale ist ungültig”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)         “die Bankleitzahl ist nicht achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                         “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_ort-source">
            <pre>static VALUE bank_ort(int argc,VALUE* argv,VALUE self)
{
   char blz[16],error_msg[512];
   const char *ort;
   int retval,filiale;

   get_params(argc,argv,blz,NULL,NULL,&amp;filiale,1);
   ort=lut_ort(blz,filiale,&amp;retval);
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_ORT_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:rb_str_new2(ort),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_pan" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_pan</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_pan-label-KontoCheckRaw-3A-3Abank_pan-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheckRaw.html#method-c-bank_pan">::bank_pan</a>( blz [,filiale])<span><a href="#method-c-bank_pan-label-KontoCheckRaw-3A-3Abank_pan-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_pan-label-KontoCheck-3A-3Abank_pan-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheck.html#method-c-bank_pan">KontoCheck.bank_pan</a>( blz [,filiale])<span><a href="#method-c-bank_pan-label-KontoCheck-3A-3Abank_pan-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert den PAN (Primary Account Number) einer Bank. Der
Rückgabewert ist ein Array mit zwei Elementen: im ersten steht der PAN, im
zweiten ein Statuscode. Im Fehlerfall wird für den PAN nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-47  (LUT2_PAN_NOT_INITIALIZED)      “Das Feld PAN wurde nicht
initialisiert”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)            “die Bankleitzahl ist nicht
achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                   “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_pan-source">
            <pre>static VALUE bank_pan(int argc,VALUE* argv,VALUE self)
{
   char blz[16],error_msg[512];
   int retval,pan,filiale;

   get_params(argc,argv,blz,NULL,NULL,&amp;filiale,1);
   pan=lut_pan(blz,filiale,&amp;retval);
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_PAN_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(pan),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_plz" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_plz</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_plz-label-KontoCheckRaw-3A-3Abank_plz-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheckRaw.html#method-c-bank_plz">::bank_plz</a>( blz [,filiale])<span><a href="#method-c-bank_plz-label-KontoCheckRaw-3A-3Abank_plz-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_plz-label-KontoCheck-3A-3Abank_plz-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheck.html#method-c-bank_plz">KontoCheck.bank_plz</a>( blz [,filiale])<span><a href="#method-c-bank_plz-label-KontoCheck-3A-3Abank_plz-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert die Postleitzahl einer Bank. Falls der Parameter
filiale nicht angegeben ist, wird die PLZ der Hauptstelle ausgegeben. Der
Rückgabewert ist ein Array mit zwei Elementen: im ersten steht die PLZ, im
zweiten ein Statuscode. Im Fehlerfall wird für die PLZ nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-50  (LUT2_PLZ_NOT_INITIALIZED)      “Das Feld PLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)            “die Bankleitzahl ist nicht
achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                   “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_plz-source">
            <pre>static VALUE bank_plz(int argc,VALUE* argv,VALUE self)
{
   char blz[16],error_msg[512];
   int retval,plz,filiale;

   get_params(argc,argv,blz,NULL,NULL,&amp;filiale,1);
   plz=lut_plz(blz,filiale,&amp;retval);
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_PLZ_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(plz),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_pz" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_pz</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_pz-label-KontoCheckRaw-3A-3Abank_pz-28+blz-29"><a href="KontoCheckRaw.html#method-c-bank_pz">::bank_pz</a>( blz)<span><a href="#method-c-bank_pz-label-KontoCheckRaw-3A-3Abank_pz-28+blz-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_pz-label-KontoCheck-3A-3Abank_pz-28+blz-29"><a href="KontoCheck.html#method-c-bank_pz">KontoCheck.bank_pz</a>( blz)<span><a href="#method-c-bank_pz-label-KontoCheck-3A-3Abank_pz-28+blz-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert die Prüfziffer einer Bank. Die Funktion unterstützt
keine Filialen; zu jeder BLZ kann es in der LUT-Datei nur eine
Prüfziffermethode geben. Der Rückgabewert ist ein Array mit zwei Elementen:
im ersten steht die Prüfziffer, im zweiten ein Statuscode. Im Fehlerfall
wird für den Prüfziffer nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-45  (LUT2_PZ_NOT_INITIALIZED)       “Das Feld Prüfziffer wurde nicht
initialisiert”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)            “die Bankleitzahl ist nicht
achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                   “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_pz-source">
            <pre>static VALUE bank_pz(int argc,VALUE* argv,VALUE self)
{
   char blz[16],error_msg[512];
   int retval,pz;

   get_params(argc,argv,blz,NULL,NULL,NULL,0);
   pz=lut_pz(blz,0,&amp;retval);
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_PZ_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(pz),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_suche_bic" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_suche_bic</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_suche_bic-label-KontoCheckRaw-3A-3Abank_suche_bic-28+search_bic+-5B-2Csort_uniq+-5B-2Csort-5D-5D-29"><a href="KontoCheckRaw.html#method-c-bank_suche_bic">::bank_suche_bic</a>( search_bic [,sort_uniq [,sort]])<span><a href="#method-c-bank_suche_bic-label-KontoCheckRaw-3A-3Abank_suche_bic-28+search_bic+-5B-2Csort_uniq+-5B-2Csort-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_suche_bic-label-KontoCheck-3A-3Asuche-28-29"><a href="KontoCheck.html#method-c-suche">KontoCheck.suche</a><span><a href="#method-c-bank_suche_bic-label-KontoCheck-3A-3Asuche-28-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion sucht alle Banken, deren BIC mit dem angegebenen Wert
&lt;search_bic&gt; beginnen. Die Rückgabe ist ein Array mit fünf Elementen:</p>
<ul><li>
<p>Das erste Element ist ein Array mit den gefundenen BIC-Werten</p>
</li><li>
<p>Das zweite Element ist ein Array mit den Bankleitzahlen, die auf das
Suchmuster passen</p>
</li><li>
<p>Das dritte Element ist ein Array mit den Zweigstellen-Indizes der
gefundenen Bankleitzahlen</p>
</li><li>
<p>das vierte Element ist der Statuscode (s.u.)</p>
</li><li>
<p>das fünfte Element gibt die Anzahl der gefundenen Banken zurück.</p>
</li></ul>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-78  (KEY_NOT_FOUND)              “Die Suche lieferte kein Ergebnis”</p>
</li><li>
<p>-70  (LUT1_FILE_USED)             “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)   “Das Feld BIC wurde nicht initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)       “die Programmbibliothek wurde noch nicht
initialisiert”</p>
</li><li>
<p>-9  (ERROR_MALLOC)               “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                         “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_suche_bic-source">
            <pre>static VALUE bank_suche_bic(int argc,VALUE* argv,VALUE self)
{
   return bank_suche_int(argc,argv,self,lut_suche_bic,NULL);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_suche_blz" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_suche_blz</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_suche_blz-label-KontoCheckRaw-3A-3Abank_suche_blz-28+blz1+-5B-2Cblz2+-5B-2Cuniq-5D-5D-29"><a href="KontoCheckRaw.html#method-c-bank_suche_blz">::bank_suche_blz</a>( blz1 [,blz2 [,uniq]])<span><a href="#method-c-bank_suche_blz-label-KontoCheckRaw-3A-3Abank_suche_blz-28+blz1+-5B-2Cblz2+-5B-2Cuniq-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_suche_blz-label-KontoCheck-3A-3Asuche-28-29"><a href="KontoCheck.html#method-c-suche">KontoCheck.suche</a><span><a href="#method-c-bank_suche_blz-label-KontoCheck-3A-3Asuche-28-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion sucht alle Banken, deren Bankleitzahl gleich &lt;blz1&gt;
ist oder (bei Angabe von blz2) die im Bereich zwischen &lt;blz1&gt; und
&lt;blz2&gt; liegen. Die Rückgabe ist ein Array mit fünf Elementen:</p>
<ul><li>
<p>Das erste Element ist ein Array mit den gefundenen Bankleitzahlen</p>
</li><li>
<p>Das zweite Element ist ein Array mit den Bankleitzahlen, die auf das
Suchmuster passen (bei dieser Funktion doppelt gemoppelt :-) )</p>
</li><li>
<p>Das dritte Element ist ein Array mit den Zweigstellen-Indizes der
gefundenen Bankleitzahlen</p>
</li><li>
<p>das vierte Element ist der Statuscode (s.u.)</p>
</li><li>
<p>das fünfte Element gibt die Anzahl der gefundenen Banken zurück.</p>
</li></ul>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-78  (KEY_NOT_FOUND)              “Die Suche lieferte kein Ergebnis”</p>
</li><li>
<p>-70  (LUT1_FILE_USED)             “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)   “Das Feld BLZ wurde nicht initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)       “die Programmbibliothek wurde noch nicht
initialisiert”</p>
</li><li>
<p>-9  (ERROR_MALLOC)               “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                         “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_suche_blz-source">
            <pre>static VALUE bank_suche_blz(int argc,VALUE* argv,VALUE self)
{
   return bank_suche_int(argc,argv,self,NULL,lut_suche_blz);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_suche_multiple" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_suche_multiple</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_suche_multiple-label-KontoCheckRaw-3A-3Abank_suche_multiple-28+suchtext+-5B-2Csuch_cmd-5D+-5B-2Cuniq-5D-29"><a href="KontoCheckRaw.html#method-c-bank_suche_multiple">::bank_suche_multiple</a>( suchtext [,such_cmd] [,uniq])<span><a href="#method-c-bank_suche_multiple-label-KontoCheckRaw-3A-3Abank_suche_multiple-28+suchtext+-5B-2Csuch_cmd-5D+-5B-2Cuniq-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_suche_multiple-label-KontoCheck-3A-3Asuche-28-29"><a href="KontoCheck.html#method-c-suche">KontoCheck.suche</a><span><a href="#method-c-bank_suche_multiple-label-KontoCheck-3A-3Asuche-28-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion sucht alle Banken, die mehreren Kriterien entsprechen. Dabei
können bis zu 26 Teilsuchen definiert werden, die beliebig miteinander
verknüpft werden können (additiv, subtraktiv und multiplikativ).</p>

<h4 id="method-c-bank_suche_multiple-label-Aufruf-3A">Aufruf:<span><a href="#method-c-bank_suche_multiple-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>result=bank_suche_multiple(such_string [,such_cmd] [,uniq])</p>

<h4 id="method-c-bank_suche_multiple-label-Parameter-3A">Parameter:<span><a href="#method-c-bank_suche_multiple-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>such_string: Dieser Parameter gibt die Felder an, nach denen gesucht wird.
Er besteht aus einem oder mehreren Suchbefehlen, die jeweils folgenden
Aufbau haben: [<a href="@suchfeld">such_index:]suchwert</a></p>

<p>Der (optionale) Suchindex ist ein Buchstabe von a-z, mit dem das Suchfeld
im Suchkommando (zweiter Parameter) referenziert werden kann. Falls er
nicht angegeben wird, erhält der erste Suchstring den Index a, der zweite
den Index b etc.</p>

<p>Der Suchwert ist der Wert nach dem gesucht werden soll. Für die Textfelder
ist es der Beginn des Wortes (aa passt z.B. auf Aach, Aachen, Aalen,
Aarbergen), für numerische Felder kann es eine Zahl oder ein Zahlbereich in
der Form 22-33 sein.</p>

<p>Das Suchfeld gibt an, nach welchem Feld der BLZ-Datei gesucht werden soll.
Falls das Suchfeld nicht angegeben wird, wird eine Volltextsuche (alle
Einzelworte in Name, Kurzname und Ort) gemacht. Die folgende Werte sind
möglich:</p>

<pre class="ruby"><span class="ruby-identifier">bl</span>    <span class="ruby-constant">BLZ</span>
<span class="ruby-identifier">bi</span>    <span class="ruby-constant">BIC</span>
<span class="ruby-identifier">k</span>     <span class="ruby-constant">Kurzname</span>
<span class="ruby-identifier">n</span>     <span class="ruby-constant">Name</span>
<span class="ruby-identifier">o</span>     <span class="ruby-constant">Ort</span>
<span class="ruby-identifier">pl</span>    <span class="ruby-constant">PLZ</span>
<span class="ruby-identifier">pr</span>    <span class="ruby-constant">Prüfziffer</span>
<span class="ruby-identifier">pz</span>    <span class="ruby-constant">Prüfziffer</span>
<span class="ruby-identifier">v</span>     <span class="ruby-constant">Volltext</span>
</pre>

<p>In der obigen Tabelle der Suchfelder sind nur die Kurzversionen angegeben;
eine Angabe wie aa@ort oder 57000-58000@plz ist auch problemlos möglich.</p>
</li><li>
<p>such_cmd: Dieser Parameter gibt an, wie die Teilsuchen miteinander
verknüpft werden sollen. Der Ausdruck abc bedeutet, daß die BLZs in den
Teilsuchen a, b und c enthalten sein müssen; der Ausdruck a+b+c, daß sie in
mindestens einer Teilsuche enthalten sein muß; der Ausdruck a-b, daß sie in
a, aber nicht in b enthalten sein darf (Beispiel s.u.). Falls das
Suchkommando nicht angegeben wird, müssen die Ergebnis-BLZs in allen
Teilsuchen enthalten sein.</p>
</li><li>
<p>uniq: Falls dieser Parameter 0 ist, werden alle gefundenen Zweigstellen
ausgegeben; falls er 1 ist, wird für jede Bank nur eine Zweigstelle
ausgegeben. Die Ausgabe ist (anders als bei den anderen Suchroutinen,
bedingt durch die Arbeitsweise der Funktion) immer nach BLZ sortiert. Falls
der Parameter weggelassen wird, wird der Standardwert für uniq aus
konto_check.h benutzt.</p>
</li></ul>

<h4 id="method-c-bank_suche_multiple-label-Beispiele-3A">Beispiele:<span><a href="#method-c-bank_suche_multiple-label-Beispiele-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>ret=KontoCheckRaw::bank_suche_multiple( “b:55000000-55100000@blz
o:67000-68000@plz sparkasse”,“bo”) Bei diesem Aufruf werden nur die beiden
ersten Teilsuchen (nach BLZ und PLZ) benutzt; die Suche findet alle Banken
mit einer BLZ zwischen 55000000 und 55100000 im PLZ-Bereich 67000 bis
68000.</p>
</li><li>
<p>ret=KontoCheckRaw::bank_suche_multiple( “b:55000000-55030000@blz
o:67000-68000@plz sparkasse”,“co”) Ähnlicher Aufruf wie oben, allerdings
werden nur die beiden letzten Teilsuchen berücksichtigt.</p>
</li><li>
<p>ret=KontoCheckRaw::bank_suche_multiple( “67000-68000@plz sparda”,0) Dieser
Aufruf gibt alle Filialen der Sparda-Bank im PLZ-Bereich 67000 bis 68000
zurück.</p>
</li><li>
<p>ret=KontoCheckRaw::bank_suche_multiple( “skat”) Dieser Aufruf ist einfach
eine Volltextsuche nach der Skat-Bank. Der direkte Aufruf von <a
href="KontoCheckRaw.html#method-c-bank_suche_volltext">::bank_suche_volltext</a>()
ist intern natürlich wesentlich leichtgewichtiger, aber die Suche so auch
möglich.</p>
</li></ul>

<h4 id="method-c-bank_suche_multiple-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-bank_suche_multiple-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Die Rückgabe ist ein Array mit fünf Elementen:</p>
<ul><li>
<p>Das erste Element ist immer nil (nur für Kompatibilität mit den anderen
Suchfunktionen)</p>
</li><li>
<p>Das zweite Element ist ein Array mit den Bankleitzahlen, die auf das
Suchmuster passen</p>
</li><li>
<p>Das dritte Element ist ein Array mit den Zweigstellen-Indizes der
gefundenen Bankleitzahlen</p>
</li><li>
<p>das vierte Element ist der Statuscode (s.u.)</p>
</li><li>
<p>das fünfte Element gibt die Anzahl der gefundenen Banken zurück.</p>
</li></ul>

<h4 id="method-c-bank_suche_multiple-label-M-C3-B6gliche+Statuscodes-3A">Mögliche Statuscodes:<span><a href="#method-c-bank_suche_multiple-label-M-C3-B6gliche+Statuscodes-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>-70  (LUT1_FILE_USED)             “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-48  (LUT2_NAME_KURZ_NOT_INITIALIZED) “Das Feld Kurzname wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)       “die Programmbibliothek wurde noch nicht
initialisiert”</p>
</li><li>
<p>-9  (ERROR_MALLOC)               “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                         “ok”</p>
</li><li>
<p>14  (SOME_KEYS_NOT_FOUND)        “ok; ein(ige) Schlüssel wurden nicht
gefunden”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_suche_multiple-source">
            <pre>static VALUE bank_suche_multiple(int argc,VALUE* argv,VALUE self)
{
   char such_text[1280],such_cmd[256],error_msg[512];
   int i,retval,uniq;
   UINT4 *blz,*zweigstelle,anzahl;
   VALUE ret_blz,ret_idx;

   get_params(argc,argv,such_text,such_cmd,NULL,&amp;uniq,6);
   retval=lut_suche_multiple(such_text,uniq&gt;1,such_cmd,&amp;anzahl,&amp;zweigstelle,&amp;blz);
   if(retval==KEY_NOT_FOUND || !anzahl)return rb_ary_new3(5,Qnil,Qnil,Qnil,INT2FIX(retval),INT2FIX(0));
   if(retval&lt;0)RUNTIME_ERROR(retval);
   ret_blz=rb_ary_new2(anzahl);
   ret_idx=rb_ary_new2(anzahl);
   for(i=0;i&lt;(int)anzahl;i++){
      rb_ary_store(ret_blz,i,INT2FIX(blz[i]));
      rb_ary_store(ret_idx,i,INT2FIX(zweigstelle[i]));
   }
   kc_free((char*)blz);
   kc_free((char*)zweigstelle);
   return rb_ary_new3(5,Qnil,ret_blz,ret_idx,INT2FIX(retval),INT2FIX(anzahl));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_suche_namen" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_suche_namen</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_suche_namen-label-KontoCheckRaw-3A-3Abank_suche_namen-28+name+-5B-2Csort_uniq+-5B-2Csort-5D-5D-29"><a href="KontoCheckRaw.html#method-c-bank_suche_namen">::bank_suche_namen</a>( name [,sort_uniq [,sort]])<span><a href="#method-c-bank_suche_namen-label-KontoCheckRaw-3A-3Abank_suche_namen-28+name+-5B-2Csort_uniq+-5B-2Csort-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_suche_namen-label-KontoCheck-3A-3Asuche-28-29"><a href="KontoCheck.html#method-c-suche">KontoCheck.suche</a><span><a href="#method-c-bank_suche_namen-label-KontoCheck-3A-3Asuche-28-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion sucht alle Banken, deren Namen mit dem angegebenen Wert
&lt;name&gt; beginnen. Die Rückgabe ist ein Array mit fünf Elementen:</p>
<ul><li>
<p>Das erste Element ist ein Array mit den gefundenen Namen</p>
</li><li>
<p>Das zweite Element ist ein Array mit den Bankleitzahlen, die auf das
Suchmuster passen</p>
</li><li>
<p>Das dritte Element ist ein Array mit den Zweigstellen-Indizes der
gefundenen Bankleitzahlen</p>
</li><li>
<p>das vierte Element ist der Statuscode (s.u.)</p>
</li><li>
<p>das fünfte Element gibt die Anzahl der gefundenen Banken zurück.</p>
</li></ul>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-78  (KEY_NOT_FOUND)              “Die Suche lieferte kein Ergebnis”</p>
</li><li>
<p>-70  (LUT1_FILE_USED)             “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-51  (LUT2_NAME_NOT_INITIALIZED)  “Das Feld Bankname wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)       “die Programmbibliothek wurde noch nicht
initialisiert”</p>
</li><li>
<p>-9  (ERROR_MALLOC)               “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                         “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_suche_namen-source">
            <pre>static VALUE bank_suche_namen(int argc,VALUE* argv,VALUE self)
{
   return bank_suche_int(argc,argv,self,lut_suche_namen,NULL);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_suche_namen_kurz" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_suche_namen_kurz</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_suche_namen_kurz-label-KontoCheckRaw-3A-3Abank_suche_namen_kurz-28+short_name+-5B-2Csort_uniq+-5B-2Csort-5D-5D-29"><a href="KontoCheckRaw.html#method-c-bank_suche_namen_kurz">::bank_suche_namen_kurz</a>( short_name [,sort_uniq [,sort]])<span><a href="#method-c-bank_suche_namen_kurz-label-KontoCheckRaw-3A-3Abank_suche_namen_kurz-28+short_name+-5B-2Csort_uniq+-5B-2Csort-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_suche_namen_kurz-label-KontoCheck-3A-3Asuche-28-29"><a href="KontoCheck.html#method-c-suche">KontoCheck.suche</a><span><a href="#method-c-bank_suche_namen_kurz-label-KontoCheck-3A-3Asuche-28-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion sucht alle Banken, deren Kurznamen mit dem angegebenen Wert
&lt;search_bic&gt; beginnen. Die Rückgabe ist ein Array mit fünf Elementen:</p>
<ul><li>
<p>Das erste Element ist ein Array mit den gefundenen Kurznamen</p>
</li><li>
<p>Das zweite Element ist ein Array mit den Bankleitzahlen, die auf das
Suchmuster passen</p>
</li><li>
<p>Das dritte Element ist ein Array mit den Zweigstellen-Indizes der
gefundenen Bankleitzahlen</p>
</li><li>
<p>das vierte Element ist der Statuscode (s.u.)</p>
</li><li>
<p>das fünfte Element gibt die Anzahl der gefundenen Banken zurück.</p>
</li></ul>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-78  (KEY_NOT_FOUND)              “Die Suche lieferte kein Ergebnis”</p>
</li><li>
<p>-70  (LUT1_FILE_USED)             “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-48  (LUT2_NAME_KURZ_NOT_INITIALIZED) “Das Feld Kurzname wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)       “die Programmbibliothek wurde noch nicht
initialisiert”</p>
</li><li>
<p>-9  (ERROR_MALLOC)               “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                         “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_suche_namen_kurz-source">
            <pre>static VALUE bank_suche_namen_kurz(int argc,VALUE* argv,VALUE self)
{
   return bank_suche_int(argc,argv,self,lut_suche_namen_kurz,NULL);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_suche_ort" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_suche_ort</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_suche_ort-label-KontoCheckRaw-3A-3Abank_suche_ort-28+suchort+-5B-2Cuniq-5D-29"><a href="KontoCheckRaw.html#method-c-bank_suche_ort">::bank_suche_ort</a>( suchort [,uniq])<span><a href="#method-c-bank_suche_ort-label-KontoCheckRaw-3A-3Abank_suche_ort-28+suchort+-5B-2Cuniq-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_suche_ort-label-KontoCheck-3A-3Asuche-28-29"><a href="KontoCheck.html#method-c-suche">KontoCheck.suche</a><span><a href="#method-c-bank_suche_ort-label-KontoCheck-3A-3Asuche-28-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion sucht alle Banken, deren Sitz mit dem angegebenen Wert
&lt;suchort&gt; beginnen. Die Rückgabe ist ein Array mit fünf Elementen:</p>
<ul><li>
<p>Das erste Element ist ein Array mit den gefundenen Orten</p>
</li><li>
<p>Das zweite Element ist ein Array mit den Bankleitzahlen, die auf das
Suchmuster passen</p>
</li><li>
<p>Das dritte Element ist ein Array mit den Zweigstellen-Indizes der
gefundenen Bankleitzahlen</p>
</li><li>
<p>das vierte Element ist der Statuscode (s.u.)</p>
</li><li>
<p>das fünfte Element gibt die Anzahl der gefundenen Banken zurück.</p>
</li></ul>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-78  (KEY_NOT_FOUND)              “Die Suche lieferte kein Ergebnis”</p>
</li><li>
<p>-70  (LUT1_FILE_USED)             “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-49  (LUT2_ORT_NOT_INITIALIZED)   “Das Feld Ort wurde nicht initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)       “die Programmbibliothek wurde noch nicht
initialisiert”</p>
</li><li>
<p>-9  (ERROR_MALLOC)               “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                         “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_suche_ort-source">
            <pre>static VALUE bank_suche_ort(int argc,VALUE* argv,VALUE self)
{
   return bank_suche_int(argc,argv,self,lut_suche_ort,NULL);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_suche_plz" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_suche_plz</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_suche_plz-label-KontoCheckRaw-3A-3Abank_suche_plz-28+plz1+-5B-2Cplz2+-5B-2Csort_uniq+-5B-2Csort-5D-5D-5D-29"><a href="KontoCheckRaw.html#method-c-bank_suche_plz">::bank_suche_plz</a>( plz1 [,plz2 [,sort_uniq [,sort]]])<span><a href="#method-c-bank_suche_plz-label-KontoCheckRaw-3A-3Abank_suche_plz-28+plz1+-5B-2Cplz2+-5B-2Csort_uniq+-5B-2Csort-5D-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_suche_plz-label-KontoCheck-3A-3Asuche-28-29"><a href="KontoCheck.html#method-c-suche">KontoCheck.suche</a><span><a href="#method-c-bank_suche_plz-label-KontoCheck-3A-3Asuche-28-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion sucht alle Banken, deren PLZ gleich &lt;plz1&gt; ist oder
(bei Angabe von plz2) die im Bereich zwischen &lt;plz1&gt; und &lt;plz2&gt;
liegen. Die Rückgabe ist ein Array mit fünf Elementen:</p>
<ul><li>
<p>Das erste Element ist ein Array mit den gefundenen Postleitzahlen</p>
</li><li>
<p>Das zweite Element ist ein Array mit den Bankleitzahlen, die auf das
Suchmuster passen</p>
</li><li>
<p>Das dritte Element ist ein Array mit den Zweigstellen-Indizes der
gefundenen Bankleitzahlen</p>
</li><li>
<p>das vierte Element ist der Statuscode (s.u.)</p>
</li><li>
<p>das fünfte Element gibt die Anzahl der gefundenen Banken zurück.</p>
</li></ul>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-78  (KEY_NOT_FOUND)              “Die Suche lieferte kein Ergebnis”</p>
</li><li>
<p>-70  (LUT1_FILE_USED)             “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-50  (LUT2_PLZ_NOT_INITIALIZED)   “Das Feld PLZ wurde nicht initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)       “die Programmbibliothek wurde noch nicht
initialisiert”</p>
</li><li>
<p>-9  (ERROR_MALLOC)               “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                         “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_suche_plz-source">
            <pre>static VALUE bank_suche_plz(int argc,VALUE* argv,VALUE self)
{
   return bank_suche_int(argc,argv,self,NULL,lut_suche_plz);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_suche_pz" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_suche_pz</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_suche_pz-label-KontoCheckRaw-3A-3Abank_suche_pz-28+pz1+-5B-2Cpz2+-5B-2Csort_uniq+-5B-2Csort-5D-5D-5D-29"><a href="KontoCheckRaw.html#method-c-bank_suche_pz">::bank_suche_pz</a>( pz1 [,pz2 [,sort_uniq [,sort]]])<span><a href="#method-c-bank_suche_pz-label-KontoCheckRaw-3A-3Abank_suche_pz-28+pz1+-5B-2Cpz2+-5B-2Csort_uniq+-5B-2Csort-5D-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_suche_pz-label-KontoCheck-3A-3Asuche-28-29"><a href="KontoCheck.html#method-c-suche">KontoCheck.suche</a><span><a href="#method-c-bank_suche_pz-label-KontoCheck-3A-3Asuche-28-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion sucht alle Banken, deren Prüfziffer gleich &lt;pz1&gt; ist
oder (bei Angabe von pz2) die im Bereich zwischen &lt;pz1&gt; und
&lt;pz2&gt; liegen. Die Rückgabe ist ein Array mit fünf Elementen:</p>
<ul><li>
<p>Das erste Element ist ein Array mit den gefundenen Prüfziffern</p>
</li><li>
<p>Das zweite Element ist ein Array mit den Bankleitzahlen, die auf das
Suchmuster passen</p>
</li><li>
<p>Das dritte Element ist ein Array mit den Zweigstellen-Indizes der
gefundenen Bankleitzahlen</p>
</li><li>
<p>das vierte Element ist der Statuscode (s.u.)</p>
</li><li>
<p>das fünfte Element gibt die Anzahl der gefundenen Banken zurück.</p>
</li></ul>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-78  (KEY_NOT_FOUND)              “Die Suche lieferte kein Ergebnis”</p>
</li><li>
<p>-70  (LUT1_FILE_USED)             “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-45  (LUT2_PZ_NOT_INITIALIZED)    “Das Feld Prüfziffer wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)       “die Programmbibliothek wurde noch nicht
initialisiert”</p>
</li><li>
<p>-9  (ERROR_MALLOC)               “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                         “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_suche_pz-source">
            <pre>static VALUE bank_suche_pz(int argc,VALUE* argv,VALUE self)
{
   return bank_suche_int(argc,argv,self,NULL,lut_suche_pz);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_suche_regel" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_suche_regel</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_suche_regel-label-KontoCheckRaw-3A-3Abank_suche_regel-28+regel1+-5B-2Cregel2+-5B-2Csort_uniq+-5B-2Csort-5D-5D-5D-29"><a href="KontoCheckRaw.html#method-c-bank_suche_regel">::bank_suche_regel</a>( regel1 [,regel2 [,sort_uniq [,sort]]])<span><a href="#method-c-bank_suche_regel-label-KontoCheckRaw-3A-3Abank_suche_regel-28+regel1+-5B-2Cregel2+-5B-2Csort_uniq+-5B-2Csort-5D-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_suche_regel-label-KontoCheck-3A-3Asuche-28-29"><a href="KontoCheck.html#method-c-suche">KontoCheck.suche</a><span><a href="#method-c-bank_suche_regel-label-KontoCheck-3A-3Asuche-28-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion sucht alle Banken, deren IBAN-Regel gleich &lt;regel1&gt;
ist oder (bei Angabe von regel2) die im Bereich zwischen &lt;regel1&gt; und
&lt;regel2&gt; liegen. Die Rückgabe ist ein Array mit fünf Elementen:</p>
<ul><li>
<p>Das erste Element ist ein Array mit den gefundenen Regeln</p>
</li><li>
<p>Das zweite Element ist ein Array mit den Bankleitzahlen, die auf das
Suchmuster passen</p>
</li><li>
<p>Das dritte Element ist ein Array mit den Zweigstellen-Indizes der
gefundenen Bankleitzahlen</p>
</li><li>
<p>das vierte Element ist der Statuscode (s.u.)</p>
</li><li>
<p>das fünfte Element gibt die Anzahl der gefundenen Banken zurück.</p>
</li></ul>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-78  (KEY_NOT_FOUND)              “Die Suche lieferte kein Ergebnis”</p>
</li><li>
<p>-70  (LUT1_FILE_USED)             “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-45  (LUT2_PZ_NOT_INITIALIZED)    “Das Feld Prüfziffer wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)       “die Programmbibliothek wurde noch nicht
initialisiert”</p>
</li><li>
<p>-9  (ERROR_MALLOC)               “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                         “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_suche_regel-source">
            <pre>static VALUE bank_suche_regel(int argc,VALUE* argv,VALUE self)
{
   return bank_suche_int(argc,argv,self,NULL,lut_suche_regel);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_suche_volltext" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_suche_volltext</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bank_suche_volltext-label-KontoCheckRaw-3A-3Abank_suche_volltext-28+suchwort+-5B-2Csort_uniq+-5B-2Csort-5D-5D-29"><a href="KontoCheckRaw.html#method-c-bank_suche_volltext">::bank_suche_volltext</a>( suchwort [,sort_uniq [,sort]])<span><a href="#method-c-bank_suche_volltext-label-KontoCheckRaw-3A-3Abank_suche_volltext-28+suchwort+-5B-2Csort_uniq+-5B-2Csort-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bank_suche_volltext-label-KontoCheck-3A-3Asuche-28-29"><a href="KontoCheck.html#method-c-suche">KontoCheck.suche</a><span><a href="#method-c-bank_suche_volltext-label-KontoCheck-3A-3Asuche-28-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion sucht alle Banken, bei denen in Name, Kurzname oder Ort das
angegebenen Wort &lt;suchwort&gt; vorkommt. Dabei wird immer nur ein
einziges Wort gesucht; falls mehrere Worte angegeben werden, wird der
Fehlerwert <a
href="KontoCheckRaw.html#LUT2_VOLLTEXT_SINGLE_WORD_ONLY">LUT2_VOLLTEXT_SINGLE_WORD_ONLY</a>
zurückgegeben. Die Rückgabe ist ein Array mit fünf Elementen:</p>
<ul><li>
<p>Das erste Element ist ein Array mit den gefundenen Suchworten</p>
</li><li>
<p>Das zweite Element ist ein Array mit den Bankleitzahlen, die auf das
Suchmuster passen</p>
</li><li>
<p>Das dritte Element ist ein Array mit den Zweigstellen-Indizes der
gefundenen Bankleitzahlen</p>
</li><li>
<p>das vierte Element ist der Statuscode (s.u.)</p>
</li><li>
<p>das fünfte Element gibt die Anzahl der gefundenen Banken zurück.</p>
</li></ul>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-118  (LUT2_VOLLTEXT_SINGLE_WORD_ONLY) “Die Volltextsuche sucht jeweils nur
ein einzelnes Wort; benutzen Sie <a
href="KontoCheckRaw.html#method-c-bank_suche_multiple">::bank_suche_multiple</a>()
zur Suche nach mehreren Worten”</p>
</li><li>
<p>-114  (LUT2_VOLLTEXT_NOT_INITIALIZED)  “Das Feld Volltext wurde nicht
initialisiert”</p>
</li><li>
<p>-78  (KEY_NOT_FOUND)              “Die Suche lieferte kein Ergebnis”</p>
</li><li>
<p>-70  (LUT1_FILE_USED)             “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)       “die Programmbibliothek wurde noch nicht
initialisiert”</p>
</li><li>
<p>-9  (ERROR_MALLOC)               “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                         “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_suche_volltext-source">
            <pre>static VALUE bank_suche_volltext(int argc,VALUE* argv,VALUE self)
{
   char such_wort[128],**base_name,error_msg[512];
   int i,j,k,retval,anzahl,anzahl2,last_blz,uniq,*start_idx,*zweigstelle,*blz_base,base_name_idx,zweigstellen_anzahl;
   int *idx_o,*cnt_o;
   VALUE ret_blz,ret_idx,ret_suche;

   get_params(argc,argv,such_wort,NULL,NULL,&amp;uniq,7);
   retval=lut_suche_volltext(such_wort,&amp;anzahl,&amp;base_name_idx,&amp;base_name,&amp;zweigstellen_anzahl,&amp;start_idx,&amp;zweigstelle,&amp;blz_base);
   if(retval==KEY_NOT_FOUND)return rb_ary_new3(5,Qnil,Qnil,Qnil,INT2FIX(retval),INT2FIX(0));
   if(retval&lt;0)RUNTIME_ERROR(retval);
   ret_suche=rb_ary_new2(anzahl);

      /* base_name ist hier komplett unabhängig von den Bankleitzahlen; auch
       * die Größe der beiden Arrays stimmt nicht überein!!! Daher müssen
       * die gefundenen Volltexte in einer eigenen Schleife gespeichert werden.
       */
   for(i=0;i&lt;anzahl;i++){  /* gefundene Volltexte zurückgeben */
      j=base_name_idx+i;
      rb_ary_store(ret_suche,i,rb_str_new2(base_name[j]));
   }
      /* die Anzahl der BLZs steht in der Variablen zweigstellen_anzahl */
   if(uniq) /* bei uniq&gt;0 sortieren, uniq&gt;1 sortieren + uniq */
      lut_suche_sort1(zweigstellen_anzahl,blz_base,zweigstelle,start_idx,&amp;anzahl2,&amp;idx_o,&amp;cnt_o,uniq&gt;1);
   else{
      anzahl2=zweigstellen_anzahl;
      idx_o=start_idx;
      cnt_o=NULL;
   }
   ret_blz=rb_ary_new2(anzahl2);
   ret_idx=rb_ary_new2(anzahl2);
   for(i=k=0,last_blz=-1;i&lt;anzahl2;i++){
      j=idx_o[i];   /* Index innerhalb der BLZ-Datei */
      if(uniq&gt;1 &amp;&amp; blz_base[j]==last_blz)
         continue;
      else
         last_blz=blz_base[j];
      rb_ary_store(ret_blz,k,INT2FIX(blz_base[j]));
      rb_ary_store(ret_idx,k++,INT2FIX(zweigstelle[j]));
   }
   if(uniq){
      kc_free((char*)idx_o);
      kc_free((char*)cnt_o);
   }
   return rb_ary_new3(5,ret_suche,ret_blz,ret_idx,INT2FIX(retval),INT2FIX(anzahl2));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bank_valid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bank_valid</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h4 id="method-c-bank_valid-label-KontoCheckRaw-3A-3Abank_valid-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheckRaw.html#method-c-bank_valid">::bank_valid</a>( blz [,filiale])<span><a href="#method-c-bank_valid-label-KontoCheckRaw-3A-3Abank_valid-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h4>

<h6 id="method-c-bank_valid-label-KontoCheck-3A-3Abank_valid-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheck.html#method-c-bank_valid">KontoCheck.bank_valid</a>( blz [,filiale])<span><a href="#method-c-bank_valid-label-KontoCheck-3A-3Abank_valid-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h6>

<h6 id="method-c-bank_valid-label-KontoCheck-3A-3Abank_valid-3F-28+blz+-5B-2Cfiliale-5D-29"><a href="KontoCheck.html#method-c-bank_valid-3F">KontoCheck.bank_valid?</a>( blz [,filiale])<span><a href="#method-c-bank_valid-label-KontoCheck-3A-3Abank_valid-3F-28+blz+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h6>

<p>Diese Funktion testet, ob eine gegebene BLZ gültig ist. Der Rückgabewert
ist ein Statuscode mit den unten angegebenen Werten. Falls das Argument
filiale auch angegeben ist, wird zusätzlich noch getestet, ob eine Filiale
mit dem gegebenen Index existiert.</p>

<p>Mögliche Rückgabewerte sind:</p>
<ul><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)    “Der Index für die Filiale ist ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)   “Das Feld BLZ wurde nicht initialisiert”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)         “die Bankleitzahl ist nicht achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                         “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bank_valid-source">
            <pre>static VALUE bank_valid(int argc,VALUE* argv,VALUE self)
{
   char blz[16],error_msg[512];
   int filiale,retval;

   get_params(argc,argv,blz,NULL,NULL,&amp;filiale,1);
   retval=lut_blz(blz,filiale);
   if(retval==LUT2_BLZ_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return INT2FIX(retval);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bic_aenderung" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bic_aenderung</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bic_aenderung-label-KontoCheckRaw-3A-3Abic_aenderung-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29"><a href="KontoCheckRaw.html#method-c-bic_aenderung">::bic_aenderung</a>( bic [,mode [,filiale]])<span><a href="#method-c-bic_aenderung-label-KontoCheckRaw-3A-3Abic_aenderung-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-bic_aenderung-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-bic_aenderung-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bic_aenderung-label-KontoCheck-3A-3Abic_aenderung-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">KontoCheck::bic_aenderung( bic [,mode [,filiale]])<span><a href="#method-c-bic_aenderung-label-KontoCheck-3A-3Abic_aenderung-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert das  &#39;Änderung&#39; Flag einer Bank (als
string). Mögliche Werte sind: A (Addition), M (Modified), U (Unchanged), D
(Deletion). Der Rückgabewert ist ein Array mit zwei Elementen: im ersten
steht ein String mit dem Änderungsflag, im zweiten ein Statuscode. Im
Fehlerfall wird für das Flag nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-78  (KEY_NOT_FOUND)                 “Die Suche lieferte kein Ergebnis”</p>
</li><li>
<p>-70  (LUT1_FILE_USED)                “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-43  (LUT2_AENDERUNG_NOT_INITIALIZED) “Das Feld Änderung wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)          “die Programmbibliothek wurde noch
nicht initialisiert”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)               “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)                  “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li><li>
<p>26  (OK_SHORT_BIC_USED)             “ok, für den BIC wurde die
Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bic_aenderung-source">
            <pre>static VALUE bic_aenderung_rb(int argc,VALUE* argv,VALUE self)
{
   char bic[16],aenderung[2],error_msg[512];
   int retval,filiale,mode;

   get_params_bic(argc,argv,bic,&amp;mode,&amp;filiale,0);
   *aenderung=bic_aenderung(bic,mode,filiale,&amp;retval);
   aenderung[1]=0;
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:rb_str_new2(aenderung),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bic_bic" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bic_bic</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bic_bic-label-KontoCheckRaw-3A-3Abic_bic-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29"><a href="KontoCheckRaw.html#method-c-bic_bic">::bic_bic</a>( bic [,mode [,filiale]])<span><a href="#method-c-bic_bic-label-KontoCheckRaw-3A-3Abic_bic-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-bic_bic-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-bic_bic-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bic_bic-label-KontoCheck-3A-3Abic_bic-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">KontoCheck::bic_bic( bic [,mode [,filiale]])<span><a href="#method-c-bic_bic-label-KontoCheck-3A-3Abic_bic-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert den BIC (Bank Identifier Code) einer Bank. Der
Rückgabewert ist ein Array mit zwei Elementen: im ersten steht ein String
mit dem BIC, im zweiten ein Statuscode. Im Fehlerfall wird für den BIC nil
zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-78  (KEY_NOT_FOUND)                 “Die Suche lieferte kein Ergebnis”</p>
</li><li>
<p>-70  (LUT1_FILE_USED)                “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)          “die Programmbibliothek wurde noch
nicht initialisiert”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)               “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)                  “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li><li>
<p>26  (OK_SHORT_BIC_USED)             “ok, für den BIC wurde die
Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bic_bic-source">
            <pre>static VALUE bic_bic_rb(int argc,VALUE* argv,VALUE self)
{
   char bic[16],error_msg[512];
   const char *ptr;
   int retval,filiale,mode;

   get_params_bic(argc,argv,bic,&amp;mode,&amp;filiale,0);
   ptr=bic_bic(bic,mode,filiale,&amp;retval);
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:rb_str_new2(ptr),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bic_check" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bic_check</span><span
            class="method-args">(p1)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bic_check-label-KontoCheckRaw-3A-3Abic_check-28+bic-29"><a href="KontoCheckRaw.html#method-c-bic_check">::bic_check</a>( bic)<span><a href="#method-c-bic_check-label-KontoCheckRaw-3A-3Abic_check-28+bic-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bic_check-label-KontoCheck-3A-3Abic_check-28+bic-29"><a href="KontoCheck.html#method-c-bic_check">KontoCheck.bic_check</a>( bic)<span><a href="#method-c-bic_check-label-KontoCheck-3A-3Abic_check-28+bic-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion testet die Existenz eines (deutschen) BIC. Die Rückgabe ist
ein Array mit zwei Elementen: im ersten (retval) wird das Testergebnis für
die zurückgegeben, im zweiten die Änzahl Banken, die diesen BIC benutzen.
Der BIC muß mit genau 8 oder 11 Stellen angegeben werden. Intern wird dabei
die Funktion lut_suche_bic() verwendet.</p>

<p>Die Funktion arbeitet nur für deutsche Banken, da für andere keine Infos
vorliegen.</p>

<h4 id="method-c-bic_check-label-Aufruf-3A">Aufruf:<span><a href="#method-c-bic_check-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>ret=KontoCheckRaw::bic_check( bic)</p>

<h4 id="method-c-bic_check-label-Parameter-3A">Parameter:<span><a href="#method-c-bic_check-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>bic: der bic, der getestet werden soll</p>
</li></ul>

<h4 id="method-c-bic_check-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-bic_check-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Rückgabe ist ein Array mit zwei Elementen:</p>
<ul><li>
<p>das erste Element enthält den Statuscode</p>
</li><li>
<p>das zweite Element enthält die Anzahl Banken, die diesen BIC benutzen</p>
</li></ul>

<h4 id="method-c-bic_check-label-M-C3-B6gliche+R-C3-BCckgabewerte-3A">Mögliche Rückgabewerte:<span><a href="#method-c-bic_check-label-M-C3-B6gliche+R-C3-BCckgabewerte-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>-146  (INVALID_PARAMETER_TYPE)  “Falscher Parametertyp für die Funktion”</p>
</li><li>
<p>-145  (BIC_ONLY_GERMAN)         “Es werden nur deutsche BICs unterstützt”</p>
</li><li>
<p>-144  (INVALID_BIC_LENGTH)      “Die Länge des BIC muß genau 8 oder 11
Zeichen sein”</p>
</li><li>
<p>-74  (NO_GERMAN_BIC)           “Ein Konto kann kann nur für deutsche Banken
geprüft werden”</p>
</li><li>
<p>0  (FALSE)                   “falsch”</p>
</li><li>
<p>1  (OK)                      “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bic_check-source">
            <pre>static VALUE bic_check_rb(VALUE self,VALUE bic_v)
{
   char bic[12];
   int retval,cnt;

   if(TYPE(bic_v)!=RUBY_T_STRING)return INT2FIX(INVALID_PARAMETER_TYPE);
   strncpy(bic,RSTRING_PTR(bic_v),11);
   *(bic+11)=0;
   retval=bic_check(bic,&amp;cnt);
   return rb_ary_new3(2,INT2FIX(retval),INT2FIX(cnt));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bic_info" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bic_info</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bic_info-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode [,filiale]])<span><a href="#method-c-bic_info-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bic_info-label-KontoCheck-3A-3Abic_info-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">KontoCheck::bic_info( bic [,mode [,filiale]])<span><a href="#method-c-bic_info-label-KontoCheck-3A-3Abic_info-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion sucht Banken mit einem bestimmten BIC und gibt die gefundene
Anzahl sowie den Startindex in den internen Arrays zurück. Sie ist für die
Funktionsgruppe biq_* gedacht, falls mehrere Werte aus der BLZ-Datei
bestimmt werden sollen (z.B. verschiedene Felder oder Werte für mehrere
Zweigstellen einer Bank). So erspart man sich die relativ aufwendige Suche;
sie ist nur einmal notwendig.</p>

<p>Parameter:</p>

<pre>* bic:  BIC zu dem die Banken bestimmt werden sollen (komplett oder teilweise)
* mode: Suchmodus; er kann die folgenden Werte annehmen:
        mode=1: Suche in allen BICs der BLZ-Datei (Haupt- und Nebenstellen)
        mode=2: Suche nur in den BICs der Hauptstellen
        mode=0: zunächst Suche bei den Hauptstellen, dann bei Haupt- und Nebenstellen;
                falls dann noch nichts gefunden wurde, werden die drei letzten Stellen
                (Filialcode) mit XXX gefüllt und noch einmal eine Suche gemacht.</pre>

<p>Zurückgegeben wird ein Array mit drei Elementen: Das erste ist der
Startindex in den internen Arrays (zur Verwendung in der Funktionsgruppe
biq_*()),  das zweite die Anzahl der gefundenen BICs und das dritte ein
Statuscode. Der Startindex kann sowohl positiv als auch negativ sein; im
Fehlerfall wird nil zurückgegeben. Daher sollte in jedem Fall der
Statuscode und die zurückgegebee Anzahl gefundener Banken kontrolliert
werden.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-78  <a href="KontoCheckRaw.html#KEY_NOT_FOUND">KEY_NOT_FOUND</a>          
“Die Suche lieferte kein Ergebnis”</p>
</li><li>
<p>-70  <a href="KontoCheckRaw.html#LUT1_FILE_USED">LUT1_FILE_USED</a>        
“Es wurde eine LUT-Datei im Format 1.0/1.1 geladen”</p>
</li><li>
<p>-46  <a
href="KontoCheckRaw.html#LUT2_BIC_NOT_INITIALIZED">LUT2_BIC_NOT_INITIALIZED</a>
“Das Feld BIC wurde nicht initialisiert”</p>
</li><li>
<p>-40  <a
href="KontoCheckRaw.html#LUT2_NOT_INITIALIZED">LUT2_NOT_INITIALIZED</a>    
“die Programmbibliothek wurde noch nicht initialisiert”</p>
</li><li>
<p>-10  <a href="KontoCheckRaw.html#FILE_READ_ERROR">FILE_READ_ERROR</a>      
“kann Datei nicht lesen”</p>
</li><li>
<p>-9  <a href="KontoCheckRaw.html#ERROR_MALLOC">ERROR_MALLOC</a>             
“kann keinen Speicher allokieren”</p>
</li><li>
<p>1  <a href="KontoCheckRaw.html#OK">OK</a>                        “ok”</p>
</li><li>
<p>26  <a href="KontoCheckRaw.html#OK_SHORT_BIC_USED">OK_SHORT_BIC_USED</a>   
“ok, für den BIC wurde die Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bic_info-source">
            <pre>static VALUE bic_info_rb(int argc,VALUE* argv,VALUE self)
{
   char bic[24],error_msg[512];
   int retval,cnt,mode,start_idx;

   get_params_bic(argc,argv,bic,&amp;mode,NULL,2);
   retval=bic_info(bic,mode,&amp;cnt,&amp;start_idx);
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(3,retval&lt;0?Qnil:INT2FIX(start_idx),INT2FIX(cnt),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bic_loeschung" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bic_loeschung</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bic_loeschung-label-KontoCheckRaw-3A-3Abic_loeschung-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29"><a href="KontoCheckRaw.html#method-c-bic_loeschung">::bic_loeschung</a>( bic [,mode [,filiale]])<span><a href="#method-c-bic_loeschung-label-KontoCheckRaw-3A-3Abic_loeschung-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-bic_loeschung-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-bic_loeschung-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bic_loeschung-label-KontoCheck-3A-3Abic_loeschung-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">KontoCheck::bic_loeschung( bic [,mode [,filiale]])<span><a href="#method-c-bic_loeschung-label-KontoCheck-3A-3Abic_loeschung-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert das Lösch-Flag für eine Bank zurück (als Integer;
mögliche Werte sind 0 und 1). Der Rückgabewert ist ein Array mit zwei
Elementen: im ersten steht das Flag, im zweiten ein Statuscode. Im
Fehlerfall wird für das Flag nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-78  (KEY_NOT_FOUND)                 “Die Suche lieferte kein Ergebnis”</p>
</li><li>
<p>-70  (LUT1_FILE_USED)                “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-42  (LUT2_LOESCHUNG_NOT_INITIALIZED) “Das Feld Löschung wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)          “die Programmbibliothek wurde noch
nicht initialisiert”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)               “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)                  “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li><li>
<p>26  (OK_SHORT_BIC_USED)             “ok, für den BIC wurde die
Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bic_loeschung-source">
            <pre>static VALUE bic_loeschung_rb(int argc,VALUE* argv,VALUE self)
{
   char bic[16],error_msg[512];
   int retval,loeschung,filiale,mode;

   get_params_bic(argc,argv,bic,&amp;mode,&amp;filiale,0);
   loeschung=bic_loeschung(bic,mode,filiale,&amp;retval)-&#39;0&#39;;
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(loeschung),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bic_nachfolge_blz" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bic_nachfolge_blz</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bic_nachfolge_blz-label-KontoCheckRaw-3A-3Abic_nachfolge_blz-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29"><a href="KontoCheckRaw.html#method-c-bic_nachfolge_blz">::bic_nachfolge_blz</a>( bic [,mode [,filiale]])<span><a href="#method-c-bic_nachfolge_blz-label-KontoCheckRaw-3A-3Abic_nachfolge_blz-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-bic_nachfolge_blz-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-bic_nachfolge_blz-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bic_nachfolge_blz-label-KontoCheck-3A-3Abic_nachfolge_blz-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">KontoCheck::bic_nachfolge_blz( bic [,mode [,filiale]])<span><a href="#method-c-bic_nachfolge_blz-label-KontoCheck-3A-3Abic_nachfolge_blz-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert die Nachfolge-BLZ für eine Bank, die gelöscht werden
soll (bei der das &#39;Löschung&#39; Flag 1 ist). Der Rückgabewert ist ein
Array mit zwei Elementen: im ersten steht die Nachfolge-BLZ, im zweiten ein
Statuscode. Im Fehlerfall wird für die Nachfolge-BLZ nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-78  (KEY_NOT_FOUND)                 “Die Suche lieferte kein Ergebnis”</p>
</li><li>
<p>-70  (LUT1_FILE_USED)                “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-41  (LUT2_NACHFOLGE_BLZ_NOT_INITIALIZED) “Das Feld Nachfolge-BLZ wurde
nicht initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)          “die Programmbibliothek wurde noch
nicht initialisiert”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)               “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)                  “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li><li>
<p>26  (OK_SHORT_BIC_USED)             “ok, für den BIC wurde die
Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bic_nachfolge_blz-source">
            <pre>static VALUE bic_nachfolge_blz_rb(int argc,VALUE* argv,VALUE self)
{
   char bic[16],error_msg[512];
   int retval,n_blz,filiale,mode;

   get_params_bic(argc,argv,bic,&amp;mode,&amp;filiale,0);
   n_blz=bic_nachfolge_blz(bic,mode,filiale,&amp;retval);
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(n_blz),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bic_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bic_name</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bic_name-label-KontoCheckRaw-3A-3Abic_name-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29"><a href="KontoCheckRaw.html#method-c-bic_name">::bic_name</a>( bic [,mode [,filiale]])<span><a href="#method-c-bic_name-label-KontoCheckRaw-3A-3Abic_name-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-bic_name-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-bic_name-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bic_name-label-KontoCheck-3A-3Abic_name-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">KontoCheck::bic_name( bic [,mode [,filiale]])<span><a href="#method-c-bic_name-label-KontoCheck-3A-3Abic_name-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert den Namen einer Bank. Der Rückgabewert ist ein Array
mit zwei Elementen: im ersten steht ein String mit dem Namen, im zweiten
ein Statuscode. Im Fehlerfall wird für den Namen nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-78  (KEY_NOT_FOUND)                 “Die Suche lieferte kein Ergebnis”</p>
</li><li>
<p>-70  (LUT1_FILE_USED)                “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-51  (LUT2_NAME_NOT_INITIALIZED)     “Das Feld Bankname wurde nicht
initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)          “die Programmbibliothek wurde noch
nicht initialisiert”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)               “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)                  “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li><li>
<p>26  (OK_SHORT_BIC_USED)             “ok, für den BIC wurde die
Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bic_name-source">
            <pre>static VALUE bic_name_rb(int argc,VALUE* argv,VALUE self)
{
   char bic[16],error_msg[512];
   const char *name;
   int retval,filiale,mode;

   get_params_bic(argc,argv,bic,&amp;mode,&amp;filiale,0);
   name=bic_name(bic,mode,filiale,&amp;retval);
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:rb_str_new2(name),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bic_name_kurz" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bic_name_kurz</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bic_name_kurz-label-KontoCheckRaw-3A-3Abic_name_kurz-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29"><a href="KontoCheckRaw.html#method-c-bic_name_kurz">::bic_name_kurz</a>( bic [,mode [,filiale]])<span><a href="#method-c-bic_name_kurz-label-KontoCheckRaw-3A-3Abic_name_kurz-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-bic_name_kurz-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-bic_name_kurz-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bic_name_kurz-label-KontoCheck-3A-3Abic_name_kurz-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">KontoCheck::bic_name_kurz( bic [,mode [,filiale]])<span><a href="#method-c-bic_name_kurz-label-KontoCheck-3A-3Abic_name_kurz-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert den Kurznamen einer Bank. Der Rückgabewert ist ein
Array mit zwei Elementen: im ersten steht ein String mit dem Namen, im
zweiten ein Statuscode. Im Fehlerfall wird für den Namen nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-78  (KEY_NOT_FOUND)                 “Die Suche lieferte kein Ergebnis”</p>
</li><li>
<p>-70  (LUT1_FILE_USED)                “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-48  (LUT2_NAME_KURZ_NOT_INITIALIZED) “Das Feld Kurzname wurde nicht
initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)          “die Programmbibliothek wurde noch
nicht initialisiert”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)               “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)                  “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li><li>
<p>26  (OK_SHORT_BIC_USED)             “ok, für den BIC wurde die
Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bic_name_kurz-source">
            <pre>static VALUE bic_name_kurz_rb(int argc,VALUE* argv,VALUE self)
{
   char bic[16],error_msg[512];
   const char *name;
   int retval,filiale,mode;

   get_params_bic(argc,argv,bic,&amp;mode,&amp;filiale,0);
   name=bic_name_kurz(bic,mode,filiale,&amp;retval);
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:rb_str_new2(name),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bic_nr" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bic_nr</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bic_nr-label-KontoCheckRaw-3A-3Abic_nr-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29"><a href="KontoCheckRaw.html#method-c-bic_nr">::bic_nr</a>( bic [,mode [,filiale]])<span><a href="#method-c-bic_nr-label-KontoCheckRaw-3A-3Abic_nr-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-bic_nr-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-bic_nr-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bic_nr-label-KontoCheck-3A-3Abic_nr-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">KontoCheck::bic_nr( bic [,mode [,filiale]])<span><a href="#method-c-bic_nr-label-KontoCheck-3A-3Abic_nr-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert die laufende Nummer einer Bank (internes Feld der
BLZ-Datei). Der Wert wird wahrscheinlich nicht oft benötigt, ist aber der
Vollständigkeit halber enthalten. Der Rückgabewert ist ein Array mit zwei
Elementen: im ersten steht die Nummer, im zweiten ein Statuscode. Im
Fehlerfall wird für die Nummer nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>

<p>Possible return values (and short description):</p>
<ul><li>
<p>-78  (KEY_NOT_FOUND)                 “Die Suche lieferte kein Ergebnis”</p>
</li><li>
<p>-70  (LUT1_FILE_USED)                “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-44  (LUT2_NR_NOT_INITIALIZED)       “Das Feld NR wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)          “die Programmbibliothek wurde noch
nicht initialisiert”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)               “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)                  “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li><li>
<p>26  (OK_SHORT_BIC_USED)             “ok, für den BIC wurde die
Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bic_nr-source">
            <pre>static VALUE bic_nr_rb(int argc,VALUE* argv,VALUE self)
{
   char bic[16],error_msg[512];
   int retval,nr,filiale,mode;

   get_params_bic(argc,argv,bic,&amp;mode,&amp;filiale,0);
   nr=bic_nr(bic,mode,filiale,&amp;retval);
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(nr),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bic_ort" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bic_ort</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bic_ort-label-KontoCheckRaw-3A-3Abic_ort-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29"><a href="KontoCheckRaw.html#method-c-bic_ort">::bic_ort</a>( bic [,mode [,filiale]])<span><a href="#method-c-bic_ort-label-KontoCheckRaw-3A-3Abic_ort-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-bic_ort-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-bic_ort-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bic_ort-label-KontoCheck-3A-3Abic_ort-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">KontoCheck::bic_ort( bic [,mode [,filiale]])<span><a href="#method-c-bic_ort-label-KontoCheck-3A-3Abic_ort-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert den Ort einer Bank. Falls der Parameter filiale
nicht angegeben ist, wird der Sitz der Hauptstelle ausgegeben. Der
Rückgabewert ist ein Array mit zwei Elementen: im ersten steht ein String
mit dem Namen, im zweiten ein Statuscode. Im Fehlerfall wird für den Ort
nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-78  (KEY_NOT_FOUND)                 “Die Suche lieferte kein Ergebnis”</p>
</li><li>
<p>-70  (LUT1_FILE_USED)                “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-49  (LUT2_ORT_NOT_INITIALIZED)   “Das Feld Ort wurde nicht initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)          “die Programmbibliothek wurde noch
nicht initialisiert”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)               “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)                  “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li><li>
<p>26  (OK_SHORT_BIC_USED)             “ok, für den BIC wurde die
Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bic_ort-source">
            <pre>static VALUE bic_ort_rb(int argc,VALUE* argv,VALUE self)
{
   char bic[16],error_msg[512];
   const char *ort;
   int retval,filiale,mode;

   get_params_bic(argc,argv,bic,&amp;mode,&amp;filiale,0);
   ort=bic_ort(bic,mode,filiale,&amp;retval);
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:rb_str_new2(ort),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bic_pan" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bic_pan</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bic_pan-label-KontoCheckRaw-3A-3Abic_pan-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29"><a href="KontoCheckRaw.html#method-c-bic_pan">::bic_pan</a>( bic [,mode [,filiale]])<span><a href="#method-c-bic_pan-label-KontoCheckRaw-3A-3Abic_pan-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-bic_pan-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-bic_pan-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bic_pan-label-KontoCheck-3A-3Abic_pan-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">KontoCheck::bic_pan( bic [,mode [,filiale]])<span><a href="#method-c-bic_pan-label-KontoCheck-3A-3Abic_pan-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert den PAN (Primary Account Number) einer Bank. Der
Rückgabewert ist ein Array mit zwei Elementen: im ersten steht der PAN, im
zweiten ein Statuscode. Im Fehlerfall wird für den PAN nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-78  (KEY_NOT_FOUND)                 “Die Suche lieferte kein Ergebnis”</p>
</li><li>
<p>-70  (LUT1_FILE_USED)                “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-47  (LUT2_PAN_NOT_INITIALIZED)      “Das Feld PAN wurde nicht
initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)          “die Programmbibliothek wurde noch
nicht initialisiert”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)               “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)                  “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li><li>
<p>26  (OK_SHORT_BIC_USED)             “ok, für den BIC wurde die
Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bic_pan-source">
            <pre>static VALUE bic_pan_rb(int argc,VALUE* argv,VALUE self)
{
   char bic[16],error_msg[512];
   int retval,pan,filiale,mode;

   get_params_bic(argc,argv,bic,&amp;mode,&amp;filiale,0);
   pan=bic_pan(bic,mode,filiale,&amp;retval);
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(pan),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bic_plz" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bic_plz</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bic_plz-label-KontoCheckRaw-3A-3Abic_plz-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29"><a href="KontoCheckRaw.html#method-c-bic_plz">::bic_plz</a>( bic [,mode [,filiale]])<span><a href="#method-c-bic_plz-label-KontoCheckRaw-3A-3Abic_plz-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-bic_plz-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-bic_plz-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bic_plz-label-KontoCheck-3A-3Abic_plz-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">KontoCheck::bic_plz( bic [,mode [,filiale]])<span><a href="#method-c-bic_plz-label-KontoCheck-3A-3Abic_plz-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert die Postleitzahl einer Bank. Falls der Parameter
filiale nicht angegeben ist, wird die PLZ der Hauptstelle ausgegeben. Der
Rückgabewert ist ein Array mit zwei Elementen: im ersten steht die PLZ, im
zweiten ein Statuscode. Im Fehlerfall wird für die PLZ nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-78  (KEY_NOT_FOUND)                 “Die Suche lieferte kein Ergebnis”</p>
</li><li>
<p>-70  (LUT1_FILE_USED)                “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-50  (LUT2_PLZ_NOT_INITIALIZED)      “Das Feld PLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)          “die Programmbibliothek wurde noch
nicht initialisiert”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)               “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)                  “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li><li>
<p>26  (OK_SHORT_BIC_USED)             “ok, für den BIC wurde die
Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bic_plz-source">
            <pre>static VALUE bic_plz_rb(int argc,VALUE* argv,VALUE self)
{
   char bic[16],error_msg[512];
   int retval,plz,filiale,mode;

   get_params_bic(argc,argv,bic,&amp;mode,&amp;filiale,0);
   plz=bic_plz(bic,mode,filiale,&amp;retval);
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(plz),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-bic_pz" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bic_pz</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-bic_pz-label-KontoCheckRaw-3A-3Abic_pz-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29"><a href="KontoCheckRaw.html#method-c-bic_pz">::bic_pz</a>( bic [,mode [,filiale]])<span><a href="#method-c-bic_pz-label-KontoCheckRaw-3A-3Abic_pz-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-bic_pz-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-bic_pz-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-bic_pz-label-KontoCheck-3A-3Abic_pz-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">KontoCheck::bic_pz( bic [,mode [,filiale]])<span><a href="#method-c-bic_pz-label-KontoCheck-3A-3Abic_pz-28+bic+-5B-2Cmode+-5B-2Cfiliale-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert die Prüfziffer einer Bank. Die Funktion unterstützt
keine Filialen; zu jeder bic kann es in der LUT-Datei nur eine
Prüfziffermethode geben. Der Rückgabewert ist ein Array mit zwei Elementen:
im ersten steht die Prüfziffer, im zweiten ein Statuscode. Im Fehlerfall
wird für den Prüfziffer nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-78  (KEY_NOT_FOUND)                 “Die Suche lieferte kein Ergebnis”</p>
</li><li>
<p>-70  (LUT1_FILE_USED)                “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-45  (LUT2_PZ_NOT_INITIALIZED)       “Das Feld Prüfziffer wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)          “die Programmbibliothek wurde noch
nicht initialisiert”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)               “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)                  “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li><li>
<p>26  (OK_SHORT_BIC_USED)             “ok, für den BIC wurde die
Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="bic_pz-source">
            <pre>static VALUE bic_pz_rb(int argc,VALUE* argv,VALUE self)
{
   char bic[16],error_msg[512];
   int retval,pz,filiale,mode;

   get_params_bic(argc,argv,bic,&amp;mode,&amp;filiale,0);
   pz=bic_pz(bic,mode,filiale,&amp;retval);
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(pz),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-biq_aenderung" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">biq_aenderung</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-biq_aenderung-label-KontoCheckRaw-3A-3Abiq_aenderung-28+idx-29"><a href="KontoCheckRaw.html#method-c-biq_aenderung">::biq_aenderung</a>( idx)<span><a href="#method-c-biq_aenderung-label-KontoCheckRaw-3A-3Abiq_aenderung-28+idx-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-biq_aenderung-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-biq_aenderung-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-biq_aenderung-label-KontoCheck-3A-3Abiq_aenderung-28+idx-29">KontoCheck::biq_aenderung( idx)<span><a href="#method-c-biq_aenderung-label-KontoCheck-3A-3Abiq_aenderung-28+idx-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert das  &#39;Änderung&#39; Flag einer Bank (als
string). Mögliche Werte sind: A (Addition), M (Modified), U (Unchanged), D
(Deletion). Der Rückgabewert ist ein Array mit zwei Elementen: im ersten
steht ein String mit dem Änderungsflag, im zweiten ein Statuscode. Im
Fehlerfall wird für das Flag nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-70  (LUT1_FILE_USED)                “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-43  (LUT2_AENDERUNG_NOT_INITIALIZED) “Das Feld Änderung wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)          “die Programmbibliothek wurde noch
nicht initialisiert”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)               “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)                  “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li><li>
<p>26  (OK_SHORT_BIC_USED)             “ok, für den BIC wurde die
Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="biq_aenderung-source">
            <pre>static VALUE biq_aenderung_rb(int argc,VALUE* argv,VALUE self)
{
   char aenderung[2],error_msg[512];
   int retval,idx;

   get_params_bic(argc,argv,NULL,&amp;idx,NULL,1);
   *aenderung=biq_aenderung(idx,&amp;retval);
   aenderung[1]=0;
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:rb_str_new2(aenderung),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-biq_bic" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">biq_bic</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-biq_bic-label-KontoCheckRaw-3A-3Abiq_bic-28+idx-29"><a href="KontoCheckRaw.html#method-c-biq_bic">::biq_bic</a>( idx)<span><a href="#method-c-biq_bic-label-KontoCheckRaw-3A-3Abiq_bic-28+idx-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-biq_bic-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-biq_bic-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-biq_bic-label-KontoCheck-3A-3Abiq_bic-28+idx-29">KontoCheck::biq_bic( idx)<span><a href="#method-c-biq_bic-label-KontoCheck-3A-3Abiq_bic-28+idx-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert den BIC (Bank Identifier Code) einer Bank. Der
Rückgabewert ist ein Array mit zwei Elementen: im ersten steht ein String
mit dem BIC, im zweiten ein Statuscode. Im Fehlerfall wird für den BIC nil
zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-70  (LUT1_FILE_USED)                “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)          “die Programmbibliothek wurde noch
nicht initialisiert”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)               “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)                  “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li><li>
<p>26  (OK_SHORT_BIC_USED)             “ok, für den BIC wurde die
Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="biq_bic-source">
            <pre>static VALUE biq_bic_rb(int argc,VALUE* argv,VALUE self)
{
   char error_msg[512];
   const char *ptr;
   int retval,idx;

   get_params_bic(argc,argv,NULL,&amp;idx,NULL,1);
   ptr=biq_bic(idx,&amp;retval);
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:rb_str_new2(ptr),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-biq_loeschung" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">biq_loeschung</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-biq_loeschung-label-KontoCheckRaw-3A-3Abiq_loeschung-28+idx-29"><a href="KontoCheckRaw.html#method-c-biq_loeschung">::biq_loeschung</a>( idx)<span><a href="#method-c-biq_loeschung-label-KontoCheckRaw-3A-3Abiq_loeschung-28+idx-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-biq_loeschung-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-biq_loeschung-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-biq_loeschung-label-KontoCheck-3A-3Abiq_loeschung-28+idx-29">KontoCheck::biq_loeschung( idx)<span><a href="#method-c-biq_loeschung-label-KontoCheck-3A-3Abiq_loeschung-28+idx-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert das Lösch-Flag für eine Bank zurück (als Integer;
mögliche Werte sind 0 und 1). Der Rückgabewert ist ein Array mit zwei
Elementen: im ersten steht das Flag, im zweiten ein Statuscode. Im
Fehlerfall wird für das Flag nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-70  (LUT1_FILE_USED)                “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-42  (LUT2_LOESCHUNG_NOT_INITIALIZED) “Das Feld Löschung wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)          “die Programmbibliothek wurde noch
nicht initialisiert”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)               “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)                  “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li><li>
<p>26  (OK_SHORT_BIC_USED)             “ok, für den BIC wurde die
Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="biq_loeschung-source">
            <pre>static VALUE biq_loeschung_rb(int argc,VALUE* argv,VALUE self)
{
   char error_msg[512];
   int retval,loeschung,idx;

   get_params_bic(argc,argv,NULL,&amp;idx,NULL,1);
   loeschung=biq_loeschung(idx,&amp;retval)-&#39;0&#39;;
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(loeschung),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-biq_nachfolge_blz" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">biq_nachfolge_blz</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-biq_nachfolge_blz-label-KontoCheckRaw-3A-3Abiq_nachfolge_blz-28+idx-29"><a href="KontoCheckRaw.html#method-c-biq_nachfolge_blz">::biq_nachfolge_blz</a>( idx)<span><a href="#method-c-biq_nachfolge_blz-label-KontoCheckRaw-3A-3Abiq_nachfolge_blz-28+idx-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-biq_nachfolge_blz-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-biq_nachfolge_blz-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-biq_nachfolge_blz-label-KontoCheck-3A-3Abiq_nachfolge_blz-28+idx-29">KontoCheck::biq_nachfolge_blz( idx)<span><a href="#method-c-biq_nachfolge_blz-label-KontoCheck-3A-3Abiq_nachfolge_blz-28+idx-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert die Nachfolge-BLZ für eine Bank, die gelöscht werden
soll (bei der das &#39;Löschung&#39; Flag 1 ist). Der Rückgabewert ist ein
Array mit zwei Elementen: im ersten steht die Nachfolge-BLZ, im zweiten ein
Statuscode. Im Fehlerfall wird für die Nachfolge-BLZ nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-70  (LUT1_FILE_USED)                “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-41  (LUT2_NACHFOLGE_BLZ_NOT_INITIALIZED) “Das Feld Nachfolge-BLZ wurde
nicht initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)          “die Programmbibliothek wurde noch
nicht initialisiert”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)               “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)                  “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li><li>
<p>26  (OK_SHORT_BIC_USED)             “ok, für den BIC wurde die
Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="biq_nachfolge_blz-source">
            <pre>static VALUE biq_nachfolge_blz_rb(int argc,VALUE* argv,VALUE self)
{
   char error_msg[512];
   int retval,n_blz,idx;

   get_params_bic(argc,argv,NULL,&amp;idx,NULL,1);
   n_blz=biq_nachfolge_blz(idx,&amp;retval);
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(n_blz),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-biq_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">biq_name</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-biq_name-label-KontoCheckRaw-3A-3Abiq_name-28+idx-29"><a href="KontoCheckRaw.html#method-c-biq_name">::biq_name</a>( idx)<span><a href="#method-c-biq_name-label-KontoCheckRaw-3A-3Abiq_name-28+idx-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-biq_name-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-biq_name-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-biq_name-label-KontoCheck-3A-3Abiq_name-28+idx-29">KontoCheck::biq_name( idx)<span><a href="#method-c-biq_name-label-KontoCheck-3A-3Abiq_name-28+idx-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert den Namen einer Bank. Der Rückgabewert ist ein Array
mit zwei Elementen: im ersten steht ein String mit dem Namen, im zweiten
ein Statuscode. Im Fehlerfall wird für den Namen nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-70  (LUT1_FILE_USED)                “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-51  (LUT2_NAME_NOT_INITIALIZED)     “Das Feld Bankname wurde nicht
initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)          “die Programmbibliothek wurde noch
nicht initialisiert”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)               “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)                  “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li><li>
<p>26  (OK_SHORT_BIC_USED)             “ok, für den BIC wurde die
Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="biq_name-source">
            <pre>static VALUE biq_name_rb(int argc,VALUE* argv,VALUE self)
{
   char error_msg[512];
   const char *name;
   int retval,idx;

   get_params_bic(argc,argv,NULL,&amp;idx,NULL,1);
   name=biq_name(idx,&amp;retval);
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:rb_str_new2(name),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-biq_name_kurz" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">biq_name_kurz</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-biq_name_kurz-label-KontoCheckRaw-3A-3Abiq_name_kurz-28+idx-29"><a href="KontoCheckRaw.html#method-c-biq_name_kurz">::biq_name_kurz</a>( idx)<span><a href="#method-c-biq_name_kurz-label-KontoCheckRaw-3A-3Abiq_name_kurz-28+idx-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-biq_name_kurz-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-biq_name_kurz-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-biq_name_kurz-label-KontoCheck-3A-3Abiq_name_kurz-28+idx-29">KontoCheck::biq_name_kurz( idx)<span><a href="#method-c-biq_name_kurz-label-KontoCheck-3A-3Abiq_name_kurz-28+idx-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert den Kurznamen einer Bank. Der Rückgabewert ist ein
Array mit zwei Elementen: im ersten steht ein String mit dem Namen, im
zweiten ein Statuscode. Im Fehlerfall wird für den Namen nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-70  (LUT1_FILE_USED)                “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-48  (LUT2_NAME_KURZ_NOT_INITIALIZED) “Das Feld Kurzname wurde nicht
initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)          “die Programmbibliothek wurde noch
nicht initialisiert”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)               “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)                  “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li><li>
<p>26  (OK_SHORT_BIC_USED)             “ok, für den BIC wurde die
Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="biq_name_kurz-source">
            <pre>static VALUE biq_name_kurz_rb(int argc,VALUE* argv,VALUE self)
{
   char error_msg[512];
   const char *name;
   int retval,idx;

   get_params_bic(argc,argv,NULL,&amp;idx,NULL,1);
   name=biq_name_kurz(idx,&amp;retval);
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:rb_str_new2(name),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-biq_nr" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">biq_nr</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-biq_nr-label-KontoCheckRaw-3A-3Abiq_nr-28+idx-29"><a href="KontoCheckRaw.html#method-c-biq_nr">::biq_nr</a>( idx)<span><a href="#method-c-biq_nr-label-KontoCheckRaw-3A-3Abiq_nr-28+idx-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-biq_nr-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-biq_nr-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-biq_nr-label-KontoCheck-3A-3Abiq_nr-28+idx-29">KontoCheck::biq_nr( idx)<span><a href="#method-c-biq_nr-label-KontoCheck-3A-3Abiq_nr-28+idx-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert die laufende Nummer einer Bank (internes Feld der
BLZ-Datei). Der Wert wird wahrscheinlich nicht oft benötigt, ist aber der
Vollständigkeit halber enthalten. Der Rückgabewert ist ein Array mit zwei
Elementen: im ersten steht die Nummer, im zweiten ein Statuscode. Im
Fehlerfall wird für die Nummer nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>

<p>Possible return values (and short description):</p>
<ul><li>
<p>-70  (LUT1_FILE_USED)                “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-44  (LUT2_NR_NOT_INITIALIZED)       “Das Feld NR wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)          “die Programmbibliothek wurde noch
nicht initialisiert”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)               “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)                  “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li><li>
<p>26  (OK_SHORT_BIC_USED)             “ok, für den BIC wurde die
Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="biq_nr-source">
            <pre>static VALUE biq_nr_rb(int argc,VALUE* argv,VALUE self)
{
   char error_msg[512];
   int retval,nr,idx;

   get_params_bic(argc,argv,NULL,&amp;idx,NULL,1);
   nr=biq_nr(idx,&amp;retval);
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(nr),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-biq_ort" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">biq_ort</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-biq_ort-label-KontoCheckRaw-3A-3Abiq_ort-28+idx-29"><a href="KontoCheckRaw.html#method-c-biq_ort">::biq_ort</a>( idx)<span><a href="#method-c-biq_ort-label-KontoCheckRaw-3A-3Abiq_ort-28+idx-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-biq_ort-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-biq_ort-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-biq_ort-label-KontoCheck-3A-3Abiq_ort-28+idx-29">KontoCheck::biq_ort( idx)<span><a href="#method-c-biq_ort-label-KontoCheck-3A-3Abiq_ort-28+idx-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert den Ort einer Bank. Falls der Parameter filiale
nicht angegeben ist, wird der Sitz der Hauptstelle ausgegeben. Der
Rückgabewert ist ein Array mit zwei Elementen: im ersten steht ein String
mit dem Namen, im zweiten ein Statuscode. Im Fehlerfall wird für den Ort
nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-70  (LUT1_FILE_USED)                “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-49  (LUT2_ORT_NOT_INITIALIZED)   “Das Feld Ort wurde nicht initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)          “die Programmbibliothek wurde noch
nicht initialisiert”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)               “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)                  “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li><li>
<p>26  (OK_SHORT_BIC_USED)             “ok, für den BIC wurde die
Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="biq_ort-source">
            <pre>static VALUE biq_ort_rb(int argc,VALUE* argv,VALUE self)
{
   char error_msg[512];
   const char *ort;
   int retval,idx;

   get_params_bic(argc,argv,NULL,&amp;idx,NULL,1);
   ort=biq_ort(idx,&amp;retval);
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:rb_str_new2(ort),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-biq_pan" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">biq_pan</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-biq_pan-label-KontoCheckRaw-3A-3Abiq_pan-28+idx-29"><a href="KontoCheckRaw.html#method-c-biq_pan">::biq_pan</a>( idx)<span><a href="#method-c-biq_pan-label-KontoCheckRaw-3A-3Abiq_pan-28+idx-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-biq_pan-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-biq_pan-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-biq_pan-label-KontoCheck-3A-3Abiq_pan-28+idx-29">KontoCheck::biq_pan( idx)<span><a href="#method-c-biq_pan-label-KontoCheck-3A-3Abiq_pan-28+idx-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert den PAN (Primary Account Number) einer Bank. Der
Rückgabewert ist ein Array mit zwei Elementen: im ersten steht der PAN, im
zweiten ein Statuscode. Im Fehlerfall wird für den PAN nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-70  (LUT1_FILE_USED)                “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-47  (LUT2_PAN_NOT_INITIALIZED)      “Das Feld PAN wurde nicht
initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)          “die Programmbibliothek wurde noch
nicht initialisiert”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)               “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)                  “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li><li>
<p>26  (OK_SHORT_BIC_USED)             “ok, für den BIC wurde die
Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="biq_pan-source">
            <pre>static VALUE biq_pan_rb(int argc,VALUE* argv,VALUE self)
{
   char error_msg[512];
   int retval,pan,idx;

   get_params_bic(argc,argv,NULL,&amp;idx,NULL,1);
   pan=biq_pan(idx,&amp;retval);
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(pan),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-biq_plz" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">biq_plz</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-biq_plz-label-KontoCheckRaw-3A-3Abiq_plz-28+idx-29"><a href="KontoCheckRaw.html#method-c-biq_plz">::biq_plz</a>( idx)<span><a href="#method-c-biq_plz-label-KontoCheckRaw-3A-3Abiq_plz-28+idx-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-biq_plz-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-biq_plz-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-biq_plz-label-KontoCheck-3A-3Abiq_plz-28+idx-29">KontoCheck::biq_plz( idx)<span><a href="#method-c-biq_plz-label-KontoCheck-3A-3Abiq_plz-28+idx-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert die Postleitzahl einer Bank. Falls der Parameter
filiale nicht angegeben ist, wird die PLZ der Hauptstelle ausgegeben. Der
Rückgabewert ist ein Array mit zwei Elementen: im ersten steht die PLZ, im
zweiten ein Statuscode. Im Fehlerfall wird für die PLZ nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-70  (LUT1_FILE_USED)                “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-50  (LUT2_PLZ_NOT_INITIALIZED)      “Das Feld PLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)          “die Programmbibliothek wurde noch
nicht initialisiert”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)               “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)                  “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li><li>
<p>26  (OK_SHORT_BIC_USED)             “ok, für den BIC wurde die
Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="biq_plz-source">
            <pre>static VALUE biq_plz_rb(int argc,VALUE* argv,VALUE self)
{
   char error_msg[512];
   int retval,plz,idx;

   get_params_bic(argc,argv,NULL,&amp;idx,NULL,1);
   plz=biq_plz(idx,&amp;retval);
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(plz),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-biq_pz" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">biq_pz</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-biq_pz-label-KontoCheckRaw-3A-3Abiq_pz-28+bic-29"><a href="KontoCheckRaw.html#method-c-biq_pz">::biq_pz</a>( bic)<span><a href="#method-c-biq_pz-label-KontoCheckRaw-3A-3Abiq_pz-28+bic-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-biq_pz-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-biq_pz-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-biq_pz-label-KontoCheck-3A-3Abiq_pz-28+bic-29">KontoCheck::biq_pz( bic)<span><a href="#method-c-biq_pz-label-KontoCheck-3A-3Abiq_pz-28+bic-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert die Prüfziffer einer Bank. Die Funktion unterstützt
keine Filialen; zu jeder bic kann es in der LUT-Datei nur eine
Prüfziffermethode geben. Der Rückgabewert ist ein Array mit zwei Elementen:
im ersten steht die Prüfziffer, im zweiten ein Statuscode. Im Fehlerfall
wird für den Prüfziffer nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-70  (LUT1_FILE_USED)                “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-45  (LUT2_PZ_NOT_INITIALIZED)       “Das Feld Prüfziffer wurde nicht
initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)          “die Programmbibliothek wurde noch
nicht initialisiert”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)               “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)                  “kann keinen Speicher allokieren”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li><li>
<p>26  (OK_SHORT_BIC_USED)             “ok, für den BIC wurde die
Zweigstellennummer allerdings durch XXX ersetzt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="biq_pz-source">
            <pre>static VALUE biq_pz_rb(int argc,VALUE* argv,VALUE self)
{
   char error_msg[512];
   int retval,pz,idx;

   get_params_bic(argc,argv,NULL,&amp;idx,NULL,1);
   pz=biq_pz(idx,&amp;retval);
   if(retval&lt;0 &amp;&amp; retval!=KEY_NOT_FOUND)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(pz),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-ci_check" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ci_check</span><span
            class="method-args">(p1)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-ci_check-label-KontoCheckRaw-3A-3Aci_check-28+ci-29"><a href="KontoCheckRaw.html#method-c-ci_check">::ci_check</a>( ci)<span><a href="#method-c-ci_check-label-KontoCheckRaw-3A-3Aci_check-28+ci-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-ci_check-label-KontoCheck-3A-3Aci_check-28+ci-29"><a href="KontoCheck.html#method-c-ci_check">KontoCheck.ci_check</a>( ci)<span><a href="#method-c-ci_check-label-KontoCheck-3A-3Aci_check-28+ci-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion testet eine Gläubiger-Identifikationsnummer (Credit
Identifier, ci)</p>

<h4 id="method-c-ci_check-label-Aufruf-3A">Aufruf:<span><a href="#method-c-ci_check-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>ret=KontoCheckRaw::ci_check( ci)</p>

<h4 id="method-c-ci_check-label-Parameter-3A">Parameter:<span><a href="#method-c-ci_check-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>ci: der CI, der getestet werden soll</p>
</li></ul>

<h4 id="method-c-ci_check-label-M-C3-B6gliche+R-C3-BCckgabewerte+f-C3-BCr+den+Test-3A">Mögliche Rückgabewerte für den Test:<span><a href="#method-c-ci_check-label-M-C3-B6gliche+R-C3-BCckgabewerte+f-C3-BCr+den+Test-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>-146  (INVALID_PARAMETER_TYPE)  “Falscher Parametertyp für die Funktion”</p>
</li><li>
<p>0  (FALSE)                   “falsch”</p>
</li><li>
<p>1  (OK)                      “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="ci_check-source">
            <pre>static VALUE ci_check_rb(VALUE self,VALUE ci_v)
{
   char ci[36];

   if(TYPE(ci_v)!=RUBY_T_STRING)return INT2FIX(INVALID_PARAMETER_TYPE);
   strncpy(ci,RSTRING_PTR(ci_v),35);
   *(ci+35)=0;
   return INT2FIX(ci_check(ci));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-current_lutfile_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">current_lutfile_name</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-current_lutfile_name-label-KontoCheckRaw-3A-3Acurrent_lutfile_name-28-29"><a href="KontoCheckRaw.html#method-c-current_lutfile_name">::current_lutfile_name</a><span><a href="#method-c-current_lutfile_name-label-KontoCheckRaw-3A-3Acurrent_lutfile_name-28-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-current_lutfile_name-label-KontoCheck-3A-3Acurrent_lutfile_name-28-29"><a href="KontoCheck.html#method-c-current_lutfile_name">KontoCheck.current_lutfile_name</a><span><a href="#method-c-current_lutfile_name-label-KontoCheck-3A-3Acurrent_lutfile_name-28-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<h5 id="method-c-current_lutfile_name-label-KontoCheck-3A-3Acurrent_lutfile_set-28-29"><a href="KontoCheck.html#method-c-current_lutfile_set">KontoCheck.current_lutfile_set</a><span><a href="#method-c-current_lutfile_name-label-KontoCheck-3A-3Acurrent_lutfile_set-28-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<h5 id="method-c-current_lutfile_name-label-KontoCheck-3A-3Acurrent_init_level-28-29"><a href="KontoCheck.html#method-c-current_init_level">KontoCheck.current_init_level</a><span><a href="#method-c-current_lutfile_name-label-KontoCheck-3A-3Acurrent_init_level-28-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion bestimmt den Dateinamen der zur Initialisierung benutzen
LUT-Datei, das benutzte Set und den Initialisierungslevel der aktuellen
Initialisierung.</p>

<h4 id="method-c-current_lutfile_name-label-Aufruf-3A">Aufruf:<span><a href="#method-c-current_lutfile_name-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>retval=KontoCheckRaw::current_lutfile_name</p>

<h4 id="method-c-current_lutfile_name-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-current_lutfile_name-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Rückgabewert ist ein Array mit vier Elementen: das erste ist der Dateiname
der LUT-Datei, das zweite  das benutzte Set (0, falls nicht initialisiert
wurde, sonst 1 oder 2), das dritte der Initialisierungslevel und das vierte
der Statuscode.</p>

<h4 id="method-c-current_lutfile_name-label-M-C3-B6gliche+Statuscodes-3A">Mögliche Statuscodes:<span><a href="#method-c-current_lutfile_name-label-M-C3-B6gliche+Statuscodes-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>-40  (LUT2_NOT_INITIALIZED)       “die Programmbibliothek wurde noch nicht
initialisiert”</p>
</li><li>
<p>1  (OK)                         “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="current_lutfile_name-source">
            <pre>static VALUE current_lutfile_name_rb(VALUE self)
{
   const char *lut_filename;
   int set,level,retval;
   VALUE lut_filename_rb;

   if(!(lut_filename=current_lutfile_name(&amp;set,&amp;level,&amp;retval)))
      lut_filename_rb=Qnil;
   else
      lut_filename_rb=rb_str_new2(lut_filename);
   return rb_ary_new3(4,lut_filename_rb,INT2FIX(set),INT2FIX(level),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-dump_lutfile" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">dump_lutfile</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-dump_lutfile-label-KontoCheckRaw-3A-3Adump_lutfile-28+lutfile-29"><a href="KontoCheckRaw.html#method-c-dump_lutfile">::dump_lutfile</a>( lutfile)<span><a href="#method-c-dump_lutfile-label-KontoCheckRaw-3A-3Adump_lutfile-28+lutfile-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-dump_lutfile-label-KontoCheck-3A-3Adump_lutfile-28+lutfile-29"><a href="KontoCheck.html#method-c-dump_lutfile">KontoCheck.dump_lutfile</a>( lutfile)<span><a href="#method-c-dump_lutfile-label-KontoCheck-3A-3Adump_lutfile-28+lutfile-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert detaillierte Informationen über alle Blocks, die in
der LUT-Datei gespeichert sind, sowie noch einige Internas der LUT-Datei.</p>

<h4 id="method-c-dump_lutfile-label-Aufruf-3A">Aufruf:<span><a href="#method-c-dump_lutfile-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>retval=KontoCheckRaw::dump_lutfile( lutfile)</p>

<h4 id="method-c-dump_lutfile-label-Parameter-3A">Parameter:<span><a href="#method-c-dump_lutfile-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>lutfile: Name der LUT-Datei.</p>
</li></ul>

<h4 id="method-c-dump_lutfile-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-dump_lutfile-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Der Rückgabewert ist ein Array mit zwei Elementen: im ersten steht ein
String mit den Infos, im zweiten ein Statuscode. Im Fehlerfall wird für den
Infostring nil zurückgegeben.</p>

<h4 id="method-c-dump_lutfile-label-M-C3-B6gliche+Statuscodes-3A">Mögliche Statuscodes:<span><a href="#method-c-dump_lutfile-label-M-C3-B6gliche+Statuscodes-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>-112  (KTO_CHECK_UNSUPPORTED_COMPRESSION) “die notwendige
Kompressions-Bibliothek wurde beim Kompilieren nicht eingebunden”</p>
</li><li>
<p>-70  (LUT1_FILE_USED)             “Es wurde eine LUT-Datei im Format
1.0/1.1 geladen”</p>
</li><li>
<p>-36  (LUT2_Z_MEM_ERROR)           “Memory error in den ZLIB-Routinen”</p>
</li><li>
<p>-35  (LUT2_Z_DATA_ERROR)          “Datenfehler im komprimierten LUT-Block”</p>
</li><li>
<p>-33  (LUT2_DECOMPRESS_ERROR)      “Fehler beim Dekomprimieren eines
LUT-Blocks”</p>
</li><li>
<p>-31  (LUT2_FILE_CORRUPTED)        “Die LUT-Datei ist korrumpiert”</p>
</li><li>
<p>-20  (LUT_CRC_ERROR)              “Prüfsummenfehler in der blz.lut Datei”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)            “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)               “kann keinen Speicher allokieren”</p>
</li><li>
<p>-7  (INVALID_LUT_FILE)           “die blz.lut Datei ist
inkosistent/ungültig”</p>
</li><li>
<p>1  (OK)                         “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="dump_lutfile-source">
            <pre>static VALUE dump_lutfile_rb(int argc,VALUE* argv,VALUE self)
{
   char lut_name[FILENAME_MAX+1],*ptr;
   int retval;
   VALUE dump;

   get_params_file(argc,argv,lut_name,NULL,NULL,2);
   retval=lut_dir_dump_str(lut_name,&amp;ptr);
   if(retval&lt;=0)
      dump=Qnil;
   else
      dump=rb_str_new2(ptr);
   kc_free(ptr);  /* die C-Funktion allokiert Speicher, der muß wieder freigegeben werden */
   return rb_ary_new3(2,dump,INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-encoding" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">encoding</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-encoding-label-KontoCheckRaw-3A-3Aencoding-28+-5Bmode-5D-29"><a href="KontoCheckRaw.html#method-c-encoding">::encoding</a>( [mode])<span><a href="#method-c-encoding-label-KontoCheckRaw-3A-3Aencoding-28+-5Bmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-encoding-label-KontoCheck-3A-3Aencoding-28+-5Bmode-5D-29"><a href="KontoCheck.html#method-c-encoding">KontoCheck.encoding</a>( [mode])<span><a href="#method-c-encoding-label-KontoCheck-3A-3Aencoding-28+-5Bmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<h5 id="method-c-encoding-label-KontoCheckRaw-3A-3Aencoding_str-28+-5Bmode-5D-29"><a href="KontoCheckRaw.html#method-c-encoding_str">::encoding_str</a>( [mode])<span><a href="#method-c-encoding-label-KontoCheckRaw-3A-3Aencoding_str-28+-5Bmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<h5 id="method-c-encoding-label-KontoCheckRaw-3A-3Akeep_raw_data-28+mode-29"><a href="KontoCheckRaw.html#method-c-keep_raw_data">::keep_raw_data</a>( mode)<span><a href="#method-c-encoding-label-KontoCheckRaw-3A-3Akeep_raw_data-28+mode-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion legt den benutzten Zeichensatz für Fehlermeldungen durch die
Funktion <a href="KontoCheckRaw.html#method-c-retval2txt">::retval2txt</a>
und einige Felder der LUT-Datei (Name, Kurzname, Ort) fest. Wenn die
Funktion nicht aufgerufen wird, wird der Wert DEFAULT_ENCODING aus
konto_check.h benutzt.</p>

<p><em>Achtung</em>: Das Verhalten der Funktion hängt von dem Flag <a
href="KontoCheckRaw.html#method-c-keep_raw_data">::keep_raw_data</a> der
C-Bibliothek ab. Falls das Flag gesetzt ist, werden die Rohdaten der Blocks
Name, Kurzname und Ort im Speicher gehalten; bei einem Wechsel der
Kodierung wird auch für diese Blocks die Kodierung umgesetzt. Falls das
Flag nicht gesetzt ist, sollte die Funktion <strong>vor</strong> der
Initialisierung aufgerufen werden, da in dem Fall die Daten der LUT-Datei
nur bei der Initialisierung konvertiert werden. Mit der Funktion <a
href="KontoCheckRaw.html#method-c-keep_raw_data">::keep_raw_data</a> kann
das Flag gesetzt gelöscht und abgefragt werden.</p>

<h4 id="method-c-encoding-label-Aufruf-3A">Aufruf:<span><a href="#method-c-encoding-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p><a href="KontoCheckRaw.html#method-c-encoding">::encoding</a>( [mode])</p>

<h4 id="method-c-encoding-label-Parameter-3A">Parameter:<span><a href="#method-c-encoding-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>mode: die gewünschte Kodierung. Falls der Parameter nicht angegeben wird,
wird die aktuelle Kodierung zurückgegeben. Ansonsten werden für den
Parameter mode die folgenden Werte akzeptiert (die Strings sind nicht case
sensitiv; Mi oder mI oder MI ist z.B. auch möglich.</p>
</li><li>
<p>0:            aktuelle Kodierung ausgeben</p>
</li><li>
<p>1,  &#39;i&#39;, &#39;I&#39;: ISO-8859-1</p>
</li><li>
<p>2,  &#39;u&#39;, &#39;U&#39;: UTF-8</p>
</li><li>
<p>3,  &#39;h&#39;, &#39;H&#39;: HTML</p>
</li><li>
<p>4,  &#39;d&#39;, &#39;D&#39;: DOS CP 850</p>
</li><li>
<p>51, &#39;mi&#39;:     ISO-8859-1, Makro für Fehlermeldungen</p>
</li><li>
<p>52, &#39;mu&#39;:     UTF-8, Makro für Fehlermeldungen</p>
</li><li>
<p>53, &#39;mh&#39;:     HTML, Makro für Fehlermeldungen</p>
</li><li>
<p>54, &#39;md&#39;:     DOS CP 850, Makro für Fehlermeldungen</p>
</li></ul>

<h4 id="method-c-encoding-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-encoding-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Rückgabewert ist die aktuelle Kodierung als Integer (falls zwei Kodierungen
angegeben sind, ist die erste die der Statusmeldungen, die zweite die der
LUT-Blocks):</p>
<ul><li>
<p>0:  “noch nicht spezifiziert” (vor der Initialisierung)</p>
</li><li>
<p>1:  “ISO-8859-1”;</p>
</li><li>
<p>2:  “UTF-8”;</p>
</li><li>
<p>3:  “HTML entities”;</p>
</li><li>
<p>4:  “DOS CP 850”;</p>
</li><li>
<p>12: “ISO-8859-1/UTF-8”;</p>
</li><li>
<p>13: “ISO-8859-1/HTML”;</p>
</li><li>
<p>14: “ISO-8859-1/DOS CP 850”;</p>
</li><li>
<p>21: “UTF-8/ISO-8859-1”;</p>
</li><li>
<p>23: “UTF-8/HTML”;</p>
</li><li>
<p>24: “UTF-8/DOS CP-850”;</p>
</li><li>
<p>31: “HTML entities/ISO-8859-1”;</p>
</li><li>
<p>32: “HTML entities/UTF-8”;</p>
</li><li>
<p>34: “HTML entities/DOS CP-850”;</p>
</li><li>
<p>41: “DOS CP-850/ISO-8859-1”;</p>
</li><li>
<p>42: “DOS CP-850/UTF-8”;</p>
</li><li>
<p>43: “DOS CP-850/HTML”;</p>
</li><li>
<p>51: “Makro/ISO-8859-1”;</p>
</li><li>
<p>52: “Makro/UTF-8”;</p>
</li><li>
<p>53: “Makro/HTML”;</p>
</li><li>
<p>54: “Makro/DOS CP 850”;</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="encoding-source">
            <pre>static VALUE encoding_rb(int argc,VALUE* argv,VALUE self)
{
   return INT2FIX(kto_check_encoding(enc_mode(argc,argv)));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-encoding_str" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">encoding_str</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-encoding_str-label-KontoCheckRaw-3A-3Aencoding_str-28+mode-29"><a href="KontoCheckRaw.html#method-c-encoding_str">::encoding_str</a>( mode)<span><a href="#method-c-encoding_str-label-KontoCheckRaw-3A-3Aencoding_str-28+mode-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-encoding_str-label-KontoCheck-3A-3Aencoding_str-28+mode-29"><a href="KontoCheck.html#method-c-encoding_str">KontoCheck.encoding_str</a>( mode)<span><a href="#method-c-encoding_str-label-KontoCheck-3A-3Aencoding_str-28+mode-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<h5 id="method-c-encoding_str-label-KontoCheckRaw-3A-3Aencoding-28+mode-29"><a href="KontoCheckRaw.html#method-c-encoding">::encoding</a>( mode)<span><a href="#method-c-encoding_str-label-KontoCheckRaw-3A-3Aencoding-28+mode-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<h5 id="method-c-encoding_str-label-KontoCheckRaw-3A-3Akeep_raw_data-28+mode-29"><a href="KontoCheckRaw.html#method-c-keep_raw_data">::keep_raw_data</a>( mode)<span><a href="#method-c-encoding_str-label-KontoCheckRaw-3A-3Akeep_raw_data-28+mode-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion entspricht der Funktion <a
href="KontoCheck.html#method-c-encoding">KontoCheck.encoding</a>.
Allerdings ist der Rückgabewert nicht numerisch, sondern ein String, der
die aktuelle Kodierung angibt.</p>

<h4 id="method-c-encoding_str-label-Aufruf-3A">Aufruf:<span><a href="#method-c-encoding_str-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p><a href="KontoCheckRaw.html#method-c-encoding_str">::encoding_str</a>(
[mode])</p>

<h4 id="method-c-encoding_str-label-Parameter-3A">Parameter:<span><a href="#method-c-encoding_str-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>wie bei <a href="KontoCheckRaw.html#method-c-encoding">::encoding</a></p>

<h4 id="method-c-encoding_str-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-encoding_str-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Rückgabewert ist die aktuelle Kodierung als String:</p>
<ul><li>
<p>“noch nicht spezifiziert” (vor der Initialisierung)</p>
</li><li>
<p>“ISO-8859-1”;</p>
</li><li>
<p>“UTF-8”;</p>
</li><li>
<p>“HTML entities”;</p>
</li><li>
<p>“DOS CP 850”;</p>
</li><li>
<p>“ISO-8859-1/UTF-8”;</p>
</li><li>
<p>“ISO-8859-1/HTML”;</p>
</li><li>
<p>“ISO-8859-1/DOS CP 850”;</p>
</li><li>
<p>“UTF-8/ISO-8859-1”;</p>
</li><li>
<p>“UTF-8/HTML”;</p>
</li><li>
<p>“UTF-8/DOS CP-850”;</p>
</li><li>
<p>“HTML entities/ISO-8859-1”;</p>
</li><li>
<p>“HTML entities/UTF-8”;</p>
</li><li>
<p>“HTML entities/DOS CP-850”;</p>
</li><li>
<p>“DOS CP-850/ISO-8859-1”;</p>
</li><li>
<p>“DOS CP-850/UTF-8”;</p>
</li><li>
<p>“DOS CP-850/HTML”;</p>
</li><li>
<p>“Makro/ISO-8859-1”;</p>
</li><li>
<p>“Makro/UTF-8”;</p>
</li><li>
<p>“Makro/HTML”;</p>
</li><li>
<p>“Makro/DOS CP 850”;</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="encoding_str-source">
            <pre>static VALUE encoding_str_rb(int argc,VALUE* argv,VALUE self)
{
   return rb_str_new2((kto_check_encoding_str(enc_mode(argc,argv))));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-free" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">free</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-free-label-KontoCheckRaw-3A-3Afree-28-29"><a href="KontoCheckRaw.html#method-c-free">::free</a><span><a href="#method-c-free-label-KontoCheckRaw-3A-3Afree-28-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-free-label-KontoCheck-3A-3Afree-28-29"><a href="KontoCheck.html#method-c-free">KontoCheck.free</a><span><a href="#method-c-free-label-KontoCheck-3A-3Afree-28-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion gibt allen allokierten Speicher wieder frei. Der
Rückgabewert ist immer true.</p>
          
          

          
          <div class="method-source-code" id="free-source">
            <pre>static VALUE free_rb(VALUE self)
{
   lut_cleanup();
   return Qtrue;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-generate_lutfile" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">generate_lutfile</span><span
            class="method-args">(p1, p2, p3 = v3, p4 = v4, p5 = v5, p6 = v6, p7 = v7, p8 = v8)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-generate_lutfile-label-KontoCheckRaw-3A-3Agenerate_lutfile-28+inputfile-2Coutputfile+-5B-2Cuser_info+-5B-2Cgueltigkeit+-5B-2Cfelder+-5B-2Cfilialen+-5B-2Cset+-5B-2Ciban_file-5D-5D-5D-5D-5D-5D-29"><a href="KontoCheckRaw.html#method-c-generate_lutfile">::generate_lutfile</a>( inputfile,outputfile [,user_info [,gueltigkeit [,felder [,filialen [,set [,iban_file]]]]]])<span><a href="#method-c-generate_lutfile-label-KontoCheckRaw-3A-3Agenerate_lutfile-28+inputfile-2Coutputfile+-5B-2Cuser_info+-5B-2Cgueltigkeit+-5B-2Cfelder+-5B-2Cfilialen+-5B-2Cset+-5B-2Ciban_file-5D-5D-5D-5D-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-generate_lutfile-label-KontoCheck-3A-3Agenerate_lutfile-28+inputfile-2Coutputfile+-5B-2Cuser_info+-5B-2Cgueltigkeit+-5B-2Cfelder+-5B-2Cfilialen+-5B-2Cset+-5B-2Ciban_file-5D-5D-5D-5D-5D-5D-29"><a href="KontoCheck.html#method-c-generate_lutfile">KontoCheck.generate_lutfile</a>( inputfile,outputfile [,user_info [,gueltigkeit [,felder [,filialen [,set [,iban_file]]]]]])<span><a href="#method-c-generate_lutfile-label-KontoCheck-3A-3Agenerate_lutfile-28+inputfile-2Coutputfile+-5B-2Cuser_info+-5B-2Cgueltigkeit+-5B-2Cfelder+-5B-2Cfilialen+-5B-2Cset+-5B-2Ciban_file-5D-5D-5D-5D-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion generiert eine neue LUT-Datei aus der BLZ-Datei der
Deutschen Bundesbank. Die folgenden Parameter werden unterstützt:</p>

<h4 id="method-c-generate_lutfile-label-Parameter-3A">Parameter:<span><a href="#method-c-generate_lutfile-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>inputfile: Eingabedatei (Textdatei) der Bundesbank</p>
</li><li>
<p>outputfile: Name der Ausgabedatei</p>
</li><li>
<p>user_info: Info-String der in die LUT-Datei geschrieben wird (frei wählbar;
wird in den Info-Block aufgenommen)</p>
</li><li>
<p>gueltigkeit: Gültigkeit des Datensatzes im Format JJJJMMTT-JJJJMMTT. Diese
Angabe wird benutzt, um festzustellen, ob ein Datensatz aktuell noch gültig
ist.</p>
</li><li>
<p>felder: (0-9) Welche Daten aufgenommmen werden sollen (PZ steht in der
folgenden Tabelle für Prüfziffer, NAME_NAME_KURZ ist ein Block, der sowohl
den Namen als auch den Kurznamen der Bank enthält; dieser läßt sich besser
komprimieren als wenn beide Blocks getrennt sind):</p>

<pre>0. BLZ,PZ
1. BLZ,PZ,NAME_KURZ
2. BLZ,PZ,NAME_KURZ,BIC
3. BLZ,PZ,NAME,PLZ,ORT
4. BLZ,PZ,NAME,PLZ,ORT,BIC
5. BLZ,PZ,NAME_NAME_KURZ,PLZ,ORT,BIC
6. BLZ,PZ,NAME_NAME_KURZ,PLZ,ORT,BIC,NACHFOLGE_BLZ
7. BLZ,PZ,NAME_NAME_KURZ,PLZ,ORT,BIC,NACHFOLGE_BLZ,
   AENDERUNG
8. BLZ,PZ,NAME_NAME_KURZ,PLZ,ORT,BIC,NACHFOLGE_BLZ,
   AENDERUNG,LOESCHUNG
9. BLZ,PZ,NAME_NAME_KURZ,PLZ,ORT,BIC,NACHFOLGE_BLZ,
   AENDERUNG,LOESCHUNG,PAN,NR</pre>
</li><li>
<p>filialen: (0 oder 1) Flag, ob nur die Daten der Hauptstellen (0) oder auch
die der Filialen aufgenommen werden sollen</p>
</li><li>
<p>set (0, 1 oder 2): Datensatz-Nummer. Jede LUT-Datei kann zwei Datensätze
enthalten. Falls bei der Initialisierung nicht ein bestimmter Datensatz
ausgewählt wird, wird derjenige genommen, der (laut Gültigkeitsstring)
aktuell gültig ist. Bei 0 wird eine neue LUT-Datei generiert, bei 1 oder 2
wird der entsprechende Datensatz angehängt.</p>
</li><li>
<p>iban_blacklist: Datei der Banken, die einer Selbstberechnung des IBAN nicht
zugestimmt haben, bzw. von der IBAN-Berechnung ausgeschlossen werden sollen</p>
</li></ul>

<h4 id="method-c-generate_lutfile-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-generate_lutfile-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<h4 id="method-c-generate_lutfile-label-M-C3-B6gliche+Statuscodes-3A">Mögliche Statuscodes:<span><a href="#method-c-generate_lutfile-label-M-C3-B6gliche+Statuscodes-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>-112  (KTO_CHECK_UNSUPPORTED_COMPRESSION) “die notwendige
Kompressions-Bibliothek wurde beim Kompilieren nicht eingebunden”</p>
</li><li>
<p>-57  (LUT2_GUELTIGKEIT_SWAPPED)   “Im Gültigkeitsdatum sind Anfangs- und
Enddatum vertauscht”</p>
</li><li>
<p>-56  (LUT2_INVALID_GUELTIGKEIT)   “Das angegebene Gültigkeitsdatum ist
ungültig (Soll: JJJJMMTT-JJJJMMTT)”</p>
</li><li>
<p>-32  (LUT2_COMPRESS_ERROR)        “Fehler beim Komprimieren eines
LUT-Blocks”</p>
</li><li>
<p>-31  (LUT2_FILE_CORRUPTED)        “Die LUT-Datei ist korrumpiert”</p>
</li><li>
<p>-30  (LUT2_NO_SLOT_FREE)          “Im Inhaltsverzeichnis der LUT-Datei ist
kein Slot mehr frei”</p>
</li><li>
<p>-15  (INVALID_BLZ_FILE)           “Fehler in der blz.txt Datei (falsche
Zeilenlänge)”</p>
</li><li>
<p>-11  (FILE_WRITE_ERROR)           “kann Datei nicht schreiben”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)            “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)               “kann keinen Speicher allokieren”</p>
</li><li>
<p>-7  (INVALID_LUT_FILE)           “die blz.lut Datei ist
inkosistent/ungültig”</p>
</li><li>
<p>1  (OK)                         “ok”</p>
</li><li>
<p>7  (LUT1_FILE_GENERATED)        “ok; es wurde allerdings eine LUT-Datei im
alten Format (1.0/1.1) generiert”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="generate_lutfile-source">
            <pre>static VALUE generate_lutfile_rb(int argc,VALUE* argv,VALUE self)
{
   char input_name[FILENAME_MAX+1],output_name[FILENAME_MAX+1],iban_blacklist[FILENAME_MAX+1];
   char user_info[256],gueltigkeit[20],buffer[16],error_msg[512];
   int retval,felder,filialen,set,len;
   VALUE input_name_rb,output_name_rb,user_info_rb,
         gueltigkeit_rb,felder_rb,filialen_rb,set_rb,iban_blacklist_rb;

   rb_scan_args(argc,argv,&quot;26&quot;,&amp;input_name_rb,&amp;output_name_rb,
         &amp;user_info_rb,&amp;gueltigkeit_rb,&amp;felder_rb,&amp;filialen_rb,&amp;set_rb,&amp;iban_blacklist_rb);

   if(TYPE(input_name_rb)==RUBY_T_STRING){
      if((len=RSTRING_LEN(input_name_rb))&gt;FILENAME_MAX)len=FILENAME_MAX;
      strncpy(input_name,RSTRING_PTR(input_name_rb),len);
      *(input_name+len)=0;
   }
   else
      rb_raise(rb_eTypeError,&quot;%s&quot;,&quot;Unable to convert given input filename.&quot;);

   if(TYPE(output_name_rb)==RUBY_T_STRING){
      if((len=RSTRING_LEN(output_name_rb))&gt;FILENAME_MAX)len=FILENAME_MAX;
      strncpy(output_name,RSTRING_PTR(output_name_rb),len);
      *(output_name+len)=0;
   }
   else
      rb_raise(rb_eTypeError,&quot;%s&quot;,&quot;Unable to convert given output filename.&quot;);

   if(NIL_P(user_info_rb)){
      *user_info=0;
   }
   else if(TYPE(user_info_rb)==RUBY_T_STRING){
      if((len=RSTRING_LEN(user_info_rb))&gt;255)len=255;
      strncpy(user_info,RSTRING_PTR(user_info_rb),len);
      *(user_info+len)=0;
   }
   else
      rb_raise(rb_eTypeError,&quot;%s&quot;,&quot;Unable to convert given user_info string.&quot;);

   if(NIL_P(gueltigkeit_rb)){
      *gueltigkeit=0;
   }
   else if(TYPE(gueltigkeit_rb)==RUBY_T_STRING){
      if((len=RSTRING_LEN(gueltigkeit_rb))&gt;19)len=19;
      strncpy(gueltigkeit,RSTRING_PTR(gueltigkeit_rb),len);
      *(gueltigkeit+len)=0;
   }
   else
      rb_raise(rb_eTypeError,&quot;%s&quot;,&quot;Unable to convert given gueltigkeit string.&quot;);

   if(NIL_P(felder_rb))
      felder=DEFAULT_LUT_FIELDS_NUM;
   else if(TYPE(felder_rb)==RUBY_T_STRING){
      if((len=RSTRING_LEN(felder_rb))&gt;15)len=15;
      strncpy(buffer,RSTRING_PTR(felder_rb),len);
      *(buffer+len)=0;
      felder=atoi(buffer);
   }
   else
      felder=NUM2INT(felder_rb);

   if(NIL_P(filialen_rb))
      filialen=0;
   else if(TYPE(filialen_rb)==RUBY_T_STRING){
      if((len=RSTRING_LEN(felder_rb))&gt;15)len=15;
      strncpy(buffer,RSTRING_PTR(filialen_rb),len);
      *(buffer+len)=0;
      filialen=atoi(buffer);
   }
   else
      filialen=NUM2INT(filialen_rb);

   if(NIL_P(set_rb))
      set=0;
   else if(TYPE(set_rb)==RUBY_T_STRING){
      if((len=RSTRING_LEN(set_rb))&gt;15)len=15;
      strncpy(buffer,RSTRING_PTR(set_rb),len);
      *(buffer+len)=0;
      set=atoi(buffer);
   }
   else
      set=NUM2INT(set_rb);

   if(NIL_P(iban_blacklist_rb)){
      *iban_blacklist=0;
   }
   else if(TYPE(iban_blacklist_rb)==RUBY_T_STRING){
      if((len=RSTRING_LEN(iban_blacklist_rb))&gt;FILENAME_MAX)len=FILENAME_MAX;
      strncpy(iban_blacklist,RSTRING_PTR(iban_blacklist_rb),len);
      *(iban_blacklist+len)=0;
   }
   else
      rb_raise(rb_eTypeError,&quot;%s&quot;,&quot;Unable to convert given iban file name to string.&quot;);

   retval=generate_lut2_p(input_name,output_name,user_info,gueltigkeit,felder,filialen,0,0,set);
   if(retval&lt;0)RUNTIME_ERROR(retval);
   if(*iban_blacklist)lut_keine_iban_berechnung(iban_blacklist,output_name,0);
   return INT2FIX(retval);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-iban2bic" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">iban2bic</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-iban2bic-label-KontoCheckRaw-3A-3Aiban2bic-28+iban-29"><a href="KontoCheckRaw.html#method-c-iban2bic">::iban2bic</a>( iban)<span><a href="#method-c-iban2bic-label-KontoCheckRaw-3A-3Aiban2bic-28+iban-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-iban2bic-label-KontoCheck-3A-3Aiban2bic-28+iban-29"><a href="KontoCheck.html#method-c-iban2bic">KontoCheck.iban2bic</a>( iban)<span><a href="#method-c-iban2bic-label-KontoCheck-3A-3Aiban2bic-28+iban-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion bestimmt zu einer (deutschen!) IBAN den zugehörigen BIC
(Bank Identifier Code). Der BIC wird für eine EU-Standard-Überweisung im
SEPA-Verfahren (Single Euro Payments Area) benötigt; für die deutschen
Banken ist er in der BLZ-Datei enthalten. Nähere Infos gibt es z.B. unter
<a href="http://www.bic-code.de">www.bic-code.de</a>/</p>

<h4 id="method-c-iban2bic-label-Aufruf-3A">Aufruf:<span><a href="#method-c-iban2bic-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>ret=KontoCheckRaw::iban2bic( iban)</p>

<h4 id="method-c-iban2bic-label-Parameter-3A">Parameter:<span><a href="#method-c-iban2bic-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>iban: die IBAN, zu der der entsprechende BIC bestimmt werden soll.</p>
</li></ul>

<h4 id="method-c-iban2bic-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-iban2bic-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Der Rückgabewert ist ein Array mit vier Elementen: im ersten steht der BIC,
im zweiten ein Statuscode, im dritten die BLZ und im vierten die
Kontonummer (die beiden letzteren werden aus der IBAN extrahiert). Im
Fehlerfall wird für BIC, BLZ und Kontonummer nil zurückgegeben.</p>

<h4 id="method-c-iban2bic-label-M-C3-B6gliche+Statuscodes-3A">Mögliche Statuscodes:<span><a href="#method-c-iban2bic-label-M-C3-B6gliche+Statuscodes-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>-130  (IBAN_CHKSUM_OK_RULE_IGNORED “Die IBAN-Prüfsumme stimmt, es wurde
allerdings eine IBAN-Regel nicht beachtet (wahrscheinlich falsch)”</p>
</li><li>
<p>-124  (NO_IBAN_CALCULATION)        “Für die Bankverbindung ist keine
IBAN-Berechnung erlaubt”</p>
</li><li>
<p>-121  (INVALID_IBAN_LENGTH)        “Die Länge der IBAN für das angegebene
Länderkürzel ist falsch”</p>
</li><li>
<p>-68  (IBAN2BIC_ONLY_GERMAN)       “Die Funktion iban2bic() arbeitet nur mit
deutschen Bankleitzahlen”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)   “Das Feld BIC wurde nicht initialisiert”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)       “die Programmbibliothek wurde noch nicht
initialisiert”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)         “die Bankleitzahl ist nicht achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                         “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="iban2bic-source">
            <pre>static VALUE iban2bic_rb(int argc,VALUE* argv,VALUE self)
{
   char iban[128],blz[10],kto[16];
//   char error_msg[512];
   const char *bic;
   int retval;

   get_params(argc,argv,iban,NULL,NULL,NULL,3);
   bic=iban2bic(iban,&amp;retval,blz,kto);
   return rb_ary_new3(4,!*bic?Qnil:rb_str_new2(bic),INT2FIX(retval),
         !*blz?Qnil:rb_str_new2(blz),!*kto?Qnil:rb_str_new2(kto));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-iban_aenderung" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">iban_aenderung</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-iban_aenderung-label-KontoCheckRaw-3A-3Aiban_aenderung-28+iban+-5B-2Cfiliale-5D-29"><a href="KontoCheckRaw.html#method-c-iban_aenderung">::iban_aenderung</a>( iban [,filiale])<span><a href="#method-c-iban_aenderung-label-KontoCheckRaw-3A-3Aiban_aenderung-28+iban+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-iban_aenderung-label-KontoCheck-3A-3Aiban_aenderung-28+iban+-5B-2Cfiliale-5D-29">KontoCheck::iban_aenderung( iban [,filiale])<span><a href="#method-c-iban_aenderung-label-KontoCheck-3A-3Aiban_aenderung-28+iban+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert das  &#39;Änderung&#39; Flag einer Bank (als
string). Mögliche Werte sind: A (Addition), M (Modified), U (Unchanged), D
(Deletion). Der Rückgabewert ist ein Array mit zwei Elementen: im ersten
steht ein String mit dem Änderungsflag, im zweiten ein Statuscode. Im
Fehlerfall wird für das Flag nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-147  (IBAN_ONLY_GERMAN)              “Es werden nur deutsche IBANs
unterstützt”</p>
</li><li>
<p>-121  (INVALID_IBAN_LENGTH)           “Die Länge der IBAN für das
angegebene Länderkürzel ist falsch”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-43  (LUT2_AENDERUNG_NOT_INITIALIZED) “Das Feld Änderung wurde nicht
initialisiert”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)            “die Bankleitzahl ist nicht
achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                   “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="iban_aenderung-source">
            <pre>static VALUE iban_aenderung_rb(int argc,VALUE* argv,VALUE self)
{
   char iban[64],aenderung[2],error_msg[512];
   int retval,filiale;

   get_params_bic(argc,argv,iban,&amp;filiale,NULL,3);
   *aenderung=iban_aenderung(iban,filiale,&amp;retval);
   aenderung[1]=0;
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_AENDERUNG_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:rb_str_new2(aenderung),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-iban_bic" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">iban_bic</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-iban_bic-label-KontoCheckRaw-3A-3Aiban_bic-28+iban+-5B-2Cfiliale-5D-29"><a href="KontoCheckRaw.html#method-c-iban_bic">::iban_bic</a>( iban [,filiale])<span><a href="#method-c-iban_bic-label-KontoCheckRaw-3A-3Aiban_bic-28+iban+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-iban_bic-label-KontoCheck-3A-3Aiban_bic-28+iban+-5B-2Cfiliale-5D-29">KontoCheck::iban_bic( iban [,filiale])<span><a href="#method-c-iban_bic-label-KontoCheck-3A-3Aiban_bic-28+iban+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert den BIC (Bank Identifier Code) einer Bank. Der
Rückgabewert ist ein Array mit zwei Elementen: im ersten steht ein String
mit dem BIC, im zweiten ein Statuscode. Im Fehlerfall wird für den BIC nil
zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-147  (IBAN_ONLY_GERMAN)              “Es werden nur deutsche IBANs
unterstützt”</p>
</li><li>
<p>-121  (INVALID_IBAN_LENGTH)           “Die Länge der IBAN für das
angegebene Länderkürzel ist falsch”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-46  (LUT2_BIC_NOT_INITIALIZED)      “Das Feld BIC wurde nicht
initialisiert”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)            “die Bankleitzahl ist nicht
achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                   “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="iban_bic-source">
            <pre>static VALUE iban_bic_rb(int argc,VALUE* argv,VALUE self)
{
   char iban[64],error_msg[512];
   const char *ptr;
   int retval,filiale;

   get_params_bic(argc,argv,iban,&amp;filiale,NULL,3);
   ptr=iban_bic(iban,filiale,&amp;retval);
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_BIC_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:rb_str_new2(ptr),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-iban_check" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">iban_check</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-iban_check-label-KontoCheckRaw-3A-3Aiban_check-28+iban-29"><a href="KontoCheckRaw.html#method-c-iban_check">::iban_check</a>( iban)<span><a href="#method-c-iban_check-label-KontoCheckRaw-3A-3Aiban_check-28+iban-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-iban_check-label-KontoCheck-3A-3Aiban_check-28+iban-29"><a href="KontoCheck.html#method-c-iban_check">KontoCheck.iban_check</a>( iban)<span><a href="#method-c-iban_check-label-KontoCheck-3A-3Aiban_check-28+iban-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion testet eine IBAN; bei deutschen Bankverbindungen wird
zusätzlich noch die Plausibilität der Bankverbindung getestet und im
Statuswert zurückgegeben. Die Rückgabe ist ein Array mit zwei Elementen: im
ersten (retval) wird das Testergebnis für die IBAN zurückgegeben, im
zweiten (bei deutschen Bankverbindungen) das Testergebnis des Kontotests.</p>

<h4 id="method-c-iban_check-label-Aufruf-3A">Aufruf:<span><a href="#method-c-iban_check-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>ret=KontoCheckRaw::iban_check( iban)</p>

<h4 id="method-c-iban_check-label-Parameter-3A">Parameter:<span><a href="#method-c-iban_check-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>iban: die IBAN, die getestet werden soll</p>
</li></ul>

<h4 id="method-c-iban_check-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-iban_check-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Rückgabe ist ein Array mit zwei Elementen:</p>
<ul><li>
<p>das erste Element enthält den Statuscode für den IBAN-Test</p>
</li><li>
<p>das zweite Element enthält den Statuscode für den Test der Bankverbindung
(nur für deutsche Kontoverbindungen)</p>
</li></ul>

<h4 id="method-c-iban_check-label-M-C3-B6gliche+R-C3-BCckgabewerte+f-C3-BCr+den+IBAN-Test-3A">Mögliche Rückgabewerte für den IBAN-Test:<span><a href="#method-c-iban_check-label-M-C3-B6gliche+R-C3-BCckgabewerte+f-C3-BCr+den+IBAN-Test-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>-67  (IBAN_OK_KTO_NOT)         “Die Prüfziffer der IBAN stimmt, die der
Kontonummer nicht”</p>
</li><li>
<p>-66  (KTO_OK_IBAN_NOT)         “Die Prüfziffer der Kontonummer stimmt, die
der IBAN nicht”</p>
</li><li>
<p>0  (FALSE)                   “falsch”</p>
</li><li>
<p>1  (OK)                      “ok”</p>
</li></ul>

<h4 id="method-c-iban_check-label-M-C3-B6gliche+R-C3-BCckgabewerte+f-C3-BCr+den+Kontotest-3A">Mögliche Rückgabewerte für den Kontotest:<span><a href="#method-c-iban_check-label-M-C3-B6gliche+R-C3-BCckgabewerte+f-C3-BCr+den+Kontotest-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>-77  (BAV_FALSE)               “BAV denkt, das Konto ist falsch
(konto_check hält es für richtig)”</p>
</li><li>
<p>-74  (NO_GERMAN_BIC)           “Ein Konto kann kann nur für deutsche Banken
geprüft werden”</p>
</li><li>
<p>-69  (MISSING_PARAMETER)       “Bei der Kontoprüfung fehlt ein notwendiger
Parameter (BLZ oder Konto)”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)    “die Programmbibliothek wurde noch nicht
initialisiert”</p>
</li><li>
<p>-29  (UNDEFINED_SUBMETHOD)     “Die (Unter)Methode ist nicht definiert”</p>
</li><li>
<p>-12  (INVALID_KTO_LENGTH)      “ein Konto muß zwischen 1 und 10 Stellen
haben”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)      “die Bankleitzahl ist nicht achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)             “Die (Unter)Methode ist nicht definiert”</p>
</li><li>
<p>-3  (INVALID_KTO)             “das Konto ist ungültig”</p>
</li><li>
<p>-2  (NOT_IMPLEMENTED)         “die Methode wurde noch nicht implementiert”</p>
</li><li>
<p>-1  (NOT_DEFINED)             “die Methode ist nicht definiert”</p>
</li><li>
<p>0  (FALSE)                   “falsch”</p>
</li><li>
<p>1  (OK)                      “ok”</p>
</li><li>
<p>2  (OK_NO_CHK)               “ok, ohne Prüfung”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="iban_check-source">
            <pre>static VALUE iban_check_rb(int argc,VALUE* argv,VALUE self)
{
   char iban[128];
   int retval,retval_kc;

   get_params(argc,argv,iban,NULL,NULL,NULL,3);
   retval=iban_check(iban,&amp;retval_kc);
   return rb_ary_new3(2,INT2FIX(retval),INT2FIX(retval_kc));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-iban_gen" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">iban_gen</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-iban_gen-label-KontoCheckRaw-3A-3Aiban_gen-28+blz-2Ckto-29"><a href="KontoCheckRaw.html#method-c-iban_gen">::iban_gen</a>( blz,kto)<span><a href="#method-c-iban_gen-label-KontoCheckRaw-3A-3Aiban_gen-28+blz-2Ckto-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-iban_gen-label-KontoCheck-3A-3Aiban_gen-28+kto-2Cblz-29"><a href="KontoCheck.html#method-c-iban_gen">KontoCheck.iban_gen</a>( kto,blz)<span><a href="#method-c-iban_gen-label-KontoCheck-3A-3Aiban_gen-28+kto-2Cblz-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion generiert aus (deutscher) BLZ und Konto einen IBAN, sowie
den zugehörigen BIC.</p>

<p>Nachdem im Mai 2013 die IBAN-Regeln zur Berechnung von IBAN und BIC aus
Kontonummer und BLZ veröffentlicht wurden, gibt es endlich ein
verbindliches Verfahren zur Bestimmung der IBAN. Die definierten
IBAN-Regeln wurden in der C-Datei eingearbeitet und werden automatisch
ausgewertet, falls der Block mit den IBAN-Regeln in der LUT-Datei enthalten
ist. Andere LUT-Dateien sollten für die IBAN-Berechnung möglichst nicht
verwendet werden, da die Anzahl der BLZs mit Sonderregelungen doch sehr
groß ist.</p>

<p>Es ist möglich, sowohl die Prüfung auf Stimmigkeit der Kontonummer als auch
die “schwarze Liste” (ausgeschlossene BLZs) zu deaktivieren. Falls die IBAN
ohne Test der Blacklist berechnet werden soll, ist vor die BLZ ein @ zu
setzen; falls auch bei falscher Bankverbindung ein IBAN berechnet werden
soll, ist vor die BLZ ein + zu setzen. Um beide Prüfungen zu deaktiviern,
kann @+ (oder +@) vor die BLZ gesetzt werden. Die so erhaltenen IBANs sind
dann u.U. allerdings wohl nicht gültig.</p>

<h4 id="method-c-iban_gen-label-Aufruf-3A">Aufruf:<span><a href="#method-c-iban_gen-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>ret=KontoCheckRaw::iban_gen( blz,kto)</p>

<h4 id="method-c-iban_gen-label-Parameter-3A">Parameter:<span><a href="#method-c-iban_gen-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>blz: die BLZ, zu der die IBAN generiert werden soll</p>
</li><li>
<p>kto: Kontonummer</p>
</li></ul>

<h4 id="method-c-iban_gen-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-iban_gen-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Rückgabe ist ein Array mit sieben Elementen:</p>
<ul><li>
<p>das erste Element enthält die generierten IBAN in komprimierter Form</p>
</li><li>
<p>das zweite Element enthält die generierte IBAN in Papierform (mit
eingestreuten Blanks)</p>
</li><li>
<p>das dritte Element enthält den Statuscode der Funktion</p>
</li><li>
<p>das vierte Element enthält den BIC (dieser unterscheidet sich u.U. von
demjenigen der BLZ-Datei!!). Dieses und die folgenden Elemente waren
ursprünglich nicht in der Funktion enthalten und wurde erst nach Einführung
der IBAN-Regeln (Juni 2013) hinzugefügt.</p>
</li><li>
<p>das fünfte Element enthält die verwendete BLZ</p>
</li><li>
<p>das sechste Element enthält die verwendete Kontonummer</p>
</li><li>
<p>das siebte Element enthält die verwendete IBAN-Regel</p>
</li></ul>

<h4 id="method-c-iban_gen-label-M-C3-B6gliche+Statuscodes-3A">Mögliche Statuscodes:<span><a href="#method-c-iban_gen-label-M-C3-B6gliche+Statuscodes-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>-128  (IBAN_INVALID_RULE)       “Die BLZ passt nicht zur angegebenen
IBAN-Regel”</p>
</li><li>
<p>-127  (IBAN_AMBIGUOUS_KTO)      “Die Kontonummer ist nicht eindeutig (es
gibt mehrere Möglichkeiten)”</p>
</li><li>
<p>-125  (IBAN_RULE_UNKNOWN)       “Die IBAN-Regel ist nicht bekannt”</p>
</li><li>
<p>-124  (NO_IBAN_CALCULATION)     “Für die Bankverbindung ist keine
IBAN-Berechnung erlaubt”</p>
</li><li>
<p>-123  (OLD_BLZ_OK_NEW_NOT)      “Die Bankverbindung ist mit der alten BLZ
stimmig, mit der Nachfolge-BLZ nicht”</p>
</li><li>
<p>-122  (LUT2_IBAN_REGEL_NOT_INITIALIZED) “Das Feld IBAN-Regel wurde nicht
initialisiert”</p>
</li><li>
<p>-120  (LUT2_NO_ACCOUNT_GIVEN)   “Keine Bankverbindung/IBAN angegeben”</p>
</li><li>
<p>-113  (NO_OWN_IBAN_CALCULATION) “das Institut erlaubt keine eigene
IBAN-Berechnung”</p>
</li><li>
<p>-77  (BAV_FALSE)               “BAV denkt, das Konto ist falsch
(konto_check hält es für richtig)”</p>
</li><li>
<p>-74  (NO_GERMAN_BIC)           “Ein Konto kann kann nur für deutsche Banken
geprüft werden”</p>
</li><li>
<p>-69  (MISSING_PARAMETER)       “Bei der Kontoprüfung fehlt ein notwendiger
Parameter (BLZ oder Konto)”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)    “die Programmbibliothek wurde noch nicht
initialisiert”</p>
</li><li>
<p>-29  (UNDEFINED_SUBMETHOD)     “Die (Unter)Methode ist nicht definiert”</p>
</li><li>
<p>-12  (INVALID_KTO_LENGTH)      “ein Konto muß zwischen 1 und 10 Stellen
haben”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)      “die Bankleitzahl ist nicht achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)             “Die Bankleitzahl ist nicht definiert”</p>
</li><li>
<p>-3  (INVALID_KTO)             “das Konto ist ungültig”</p>
</li><li>
<p>-2  (NOT_IMPLEMENTED)         “die Methode wurde noch nicht implementiert”</p>
</li><li>
<p>-1  (NOT_DEFINED)             “die (Unter)Methode ist nicht definiert”</p>
</li><li>
<p>0  (FALSE)                   “falsch”</p>
</li><li>
<p>1  (OK)                      “ok”</p>
</li><li>
<p>2  (OK_NO_CHK)               “ok, ohne Prüfung”</p>
</li><li>
<p>11  (OK_UNTERKONTO_POSSIBLE)  “wahrscheinlich ok; die Kontonummer kann
allerdings (nicht angegebene) Unterkonten enthalten”</p>
</li><li>
<p>12  (OK_UNTERKONTO_GIVEN)     “wahrscheinlich ok; die Kontonummer enthält
eine Unterkontonummer”</p>
</li><li>
<p>18  (OK_KTO_REPLACED)         “ok; die Kontonummer wurde allerdings
ersetzt”</p>
</li><li>
<p>19  (OK_BLZ_REPLACED)         “ok; die Bankleitzahl wurde allerdings
ersetzt”</p>
</li><li>
<p>20  (OK_BLZ_KTO_REPLACED)     “ok; die Bankleitzahl und Kontonummer wurde
allerdings ersetzt”</p>
</li><li>
<p>21  (OK_IBAN_WITHOUT_KC_TEST) “ok; die Bankverbindung ist (ohne Test) als
richtig anzusehen”</p>
</li><li>
<p>22  (OK_INVALID_FOR_IBAN)     “ok; für IBAN ist (durch eine Regel)
allerdings ein anderer BIC definiert”</p>
</li><li>
<p>24  (OK_KTO_REPLACED_NO_PZ)   “ok; die Kontonummer wurde ersetzt, die neue
Kontonummer hat keine Prüfziffer”</p>
</li><li>
<p>25  (OK_UNTERKONTO_ATTACHED)  “ok; es wurde ein (weggelassenes) Unterkonto
angefügt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="iban_gen-source">
            <pre>static VALUE iban_gen_rb(int argc,VALUE* argv,VALUE self)
{
   char iban[128],*papier,*ptr,*dptr,blz[20],kto[20],blz2[20],kto2[20];
   const char *bic;
   int retval,regel;
   VALUE iban_rb,papier_rb,bic_rb,blz2_rb,kto2_rb;

   get_params(argc,argv,blz,kto,NULL,NULL,2);
   papier=iban_bic_gen(blz,kto,&amp;bic,blz2,kto2,&amp;retval);
   regel=-1;
   if(retval&gt;0){
      for(ptr=papier,dptr=iban;*ptr;ptr++)if(*ptr!=&#39; &#39;)*dptr++=*ptr;
      *dptr=0;
      iban_rb=rb_str_new2(iban);
      papier_rb=rb_str_new2(papier);
      bic_rb=rb_str_new2(bic);
      blz2_rb=rb_str_new2(blz2);
      kto2_rb=rb_str_new2(kto2);
      kc_free(papier);  /* die C-Funktion allokiert Speicher, der muß wieder freigegeben werden */
      regel=lut_iban_regel(blz,0,NULL)/100;
   }
   else
      iban_rb=papier_rb=blz2_rb=kto2_rb=bic_rb=Qnil;
   return rb_ary_new3(7,iban_rb,papier_rb,INT2FIX(retval),bic_rb,blz2_rb,kto2_rb,INT2FIX(regel));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-iban_loeschung" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">iban_loeschung</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-iban_loeschung-label-KontoCheckRaw-3A-3Aiban_loeschung-28+iban+-5B-2Cfiliale-5D-29"><a href="KontoCheckRaw.html#method-c-iban_loeschung">::iban_loeschung</a>( iban [,filiale])<span><a href="#method-c-iban_loeschung-label-KontoCheckRaw-3A-3Aiban_loeschung-28+iban+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-iban_loeschung-label-KontoCheck-3A-3Aiban_loeschung-28+iban+-5B-2Cfiliale-5D-29">KontoCheck::iban_loeschung( iban [,filiale])<span><a href="#method-c-iban_loeschung-label-KontoCheck-3A-3Aiban_loeschung-28+iban+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert das Lösch-Flag für eine Bank zurück (als Integer;
mögliche Werte sind 0 und 1). Der Rückgabewert ist ein Array mit zwei
Elementen: im ersten steht das Flag, im zweiten ein Statuscode. Im
Fehlerfall wird für das Flag nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-147  (IBAN_ONLY_GERMAN)              “Es werden nur deutsche IBANs
unterstützt”</p>
</li><li>
<p>-121  (INVALID_IBAN_LENGTH)           “Die Länge der IBAN für das
angegebene Länderkürzel ist falsch”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-42  (LUT2_LOESCHUNG_NOT_INITIALIZED) “Das Feld Löschung wurde nicht
initialisiert”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)            “die Bankleitzahl ist nicht
achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                   “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="iban_loeschung-source">
            <pre>static VALUE iban_loeschung_rb(int argc,VALUE* argv,VALUE self)
{
   char iban[64],error_msg[512];
   int retval,loeschung,filiale;

   get_params_bic(argc,argv,iban,&amp;filiale,NULL,3);
   loeschung=iban_loeschung(iban,filiale,&amp;retval)-&#39;0&#39;;
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_LOESCHUNG_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(loeschung),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-iban_nachfolge_blz" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">iban_nachfolge_blz</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-iban_nachfolge_blz-label-KontoCheckRaw-3A-3Aiban_nachfolge_iban-28+iban+-5B-2Cfiliale-5D-29">KontoCheckRaw::iban_nachfolge_iban( iban [,filiale])<span><a href="#method-c-iban_nachfolge_blz-label-KontoCheckRaw-3A-3Aiban_nachfolge_iban-28+iban+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-iban_nachfolge_blz-label-KontoCheck-3A-3Aiban_nachfolge_iban-28+iban+-5B-2Cfiliale-5D-29">KontoCheck::iban_nachfolge_iban( iban [,filiale])<span><a href="#method-c-iban_nachfolge_blz-label-KontoCheck-3A-3Aiban_nachfolge_iban-28+iban+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert die Nachfolge-BLZ für eine Bank, die gelöscht werden
soll (bei der das &#39;Löschung&#39; Flag 1 ist). Der Rückgabewert ist ein
Array mit zwei Elementen: im ersten steht die Nachfolge-BLZ, im zweiten ein
Statuscode. Im Fehlerfall wird für die Nachfolge-BLZ nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-147  (IBAN_ONLY_GERMAN)              “Es werden nur deutsche IBANs
unterstützt”</p>
</li><li>
<p>-121  (INVALID_IBAN_LENGTH)           “Die Länge der IBAN für das
angegebene Länderkürzel ist falsch”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-41  (LUT2_NACHFOLGE_BLZ_NOT_INITIALIZED) “Das Feld Nachfolge-BLZ wurde
nicht initialisiert”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)            “die Bankleitzahl ist nicht
achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                   “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="iban_nachfolge_blz-source">
            <pre>static VALUE iban_nachfolge_blz_rb(int argc,VALUE* argv,VALUE self)
{
   char iban[64],error_msg[512];
   int retval,n_iban,filiale;

   get_params_bic(argc,argv,iban,&amp;filiale,NULL,3);
   n_iban=iban_nachfolge_blz(iban,filiale,&amp;retval);
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_NACHFOLGE_BLZ_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(n_iban),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-iban_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">iban_name</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-iban_name-label-KontoCheckRaw-3A-3Aiban_name-28+iban+-5B-2Cfiliale-5D-29"><a href="KontoCheckRaw.html#method-c-iban_name">::iban_name</a>( iban [,filiale])<span><a href="#method-c-iban_name-label-KontoCheckRaw-3A-3Aiban_name-28+iban+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h3 id="method-c-iban_name-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29"><a href="KontoCheckRaw.html#method-c-bic_info">::bic_info</a>( bic [,mode])<span><a href="#method-c-iban_name-label-KontoCheckRaw-3A-3Abic_info-28+bic+-5B-2Cmode-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-iban_name-label-KontoCheck-3A-3Aiban_name-28+iban+-5B-2Cfiliale-5D-29">KontoCheck::iban_name( iban [,filiale])<span><a href="#method-c-iban_name-label-KontoCheck-3A-3Aiban_name-28+iban+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert den Namen einer Bank. Der Rückgabewert ist ein Array
mit zwei Elementen: im ersten steht ein String mit dem Namen, im zweiten
ein Statuscode. Im Fehlerfall wird für den Namen nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-147  (IBAN_ONLY_GERMAN)              “Es werden nur deutsche IBANs
unterstützt”</p>
</li><li>
<p>-121  (INVALID_IBAN_LENGTH)           “Die Länge der IBAN für das
angegebene Länderkürzel ist falsch”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-51  (LUT2_NAME_NOT_INITIALIZED)     “Das Feld Bankname wurde nicht
initialisiert”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)            “die Bankleitzahl ist nicht
achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                   “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="iban_name-source">
            <pre>static VALUE iban_name_rb(int argc,VALUE* argv,VALUE self)
{
   char iban[64],error_msg[512];
   const char *name;
   int retval,filiale;

   get_params_bic(argc,argv,iban,&amp;filiale,NULL,1);
   name=iban_name(iban,filiale,&amp;retval);
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_NAME_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:rb_str_new2(name),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-iban_name_kurz" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">iban_name_kurz</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-iban_name_kurz-label-KontoCheckRaw-3A-3Aiban_name_kurz-28+iban+-5B-2Cfiliale-5D-29"><a href="KontoCheckRaw.html#method-c-iban_name_kurz">::iban_name_kurz</a>( iban [,filiale])<span><a href="#method-c-iban_name_kurz-label-KontoCheckRaw-3A-3Aiban_name_kurz-28+iban+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-iban_name_kurz-label-KontoCheck-3A-3Aiban_name_kurz-28+iban+-5B-2Cfiliale-5D-29">KontoCheck::iban_name_kurz( iban [,filiale])<span><a href="#method-c-iban_name_kurz-label-KontoCheck-3A-3Aiban_name_kurz-28+iban+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert den Kurznamen einer Bank. Der Rückgabewert ist ein
Array mit zwei Elementen: im ersten steht ein String mit dem Namen, im
zweiten ein Statuscode. Im Fehlerfall wird für den Namen nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-147  (IBAN_ONLY_GERMAN)              “Es werden nur deutsche IBANs
unterstützt”</p>
</li><li>
<p>-121  (INVALID_IBAN_LENGTH)           “Die Länge der IBAN für das
angegebene Länderkürzel ist falsch”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)            “die Bankleitzahl ist nicht
achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                   “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="iban_name_kurz-source">
            <pre>static VALUE iban_name_kurz_rb(int argc,VALUE* argv,VALUE self)
{
   char iban[64],error_msg[512];
   const char *name;
   int retval,filiale;

   get_params_bic(argc,argv,iban,&amp;filiale,NULL,3);
   name=iban_name_kurz(iban,filiale,&amp;retval);
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_NAME_KURZ_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:rb_str_new2(name),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-iban_nr" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">iban_nr</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-iban_nr-label-KontoCheckRaw-3A-3Aiban_nr-28+iban+-5B-2Cfiliale-5D-29"><a href="KontoCheckRaw.html#method-c-iban_nr">::iban_nr</a>( iban [,filiale])<span><a href="#method-c-iban_nr-label-KontoCheckRaw-3A-3Aiban_nr-28+iban+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-iban_nr-label-KontoCheck-3A-3Aiban_nr-28+iban+-5B-2Cfiliale-5D-29">KontoCheck::iban_nr( iban [,filiale])<span><a href="#method-c-iban_nr-label-KontoCheck-3A-3Aiban_nr-28+iban+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert die laufende Nummer einer Bank (internes Feld der
BLZ-Datei). Der Wert wird wahrscheinlich nicht oft benötigt, ist aber der
Vollständigkeit halber enthalten. Der Rückgabewert ist ein Array mit zwei
Elementen: im ersten steht die Nummer, im zweiten ein Statuscode. Im
Fehlerfall wird für die Nummer nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>

<p>Possible return values (and short description):</p>
<ul><li>
<p>-147  (IBAN_ONLY_GERMAN)              “Es werden nur deutsche IBANs
unterstützt”</p>
</li><li>
<p>-121  (INVALID_IBAN_LENGTH)           “Die Länge der IBAN für das
angegebene Länderkürzel ist falsch”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-44  (LUT2_NR_NOT_INITIALIZED)       “Das Feld NR wurde nicht
initialisiert”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)            “die Bankleitzahl ist nicht
achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                   “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="iban_nr-source">
            <pre>static VALUE iban_nr_rb(int argc,VALUE* argv,VALUE self)
{
   char iban[64],error_msg[512];
   int retval,nr,filiale;

   get_params_bic(argc,argv,iban,&amp;filiale,NULL,3);
   nr=iban_nr(iban,filiale,&amp;retval);
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_NR_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(nr),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-iban_ort" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">iban_ort</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-iban_ort-label-KontoCheckRaw-3A-3Aiban_ort-28+iban+-5B-2Cfiliale-5D-29"><a href="KontoCheckRaw.html#method-c-iban_ort">::iban_ort</a>( iban [,filiale])<span><a href="#method-c-iban_ort-label-KontoCheckRaw-3A-3Aiban_ort-28+iban+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-iban_ort-label-KontoCheck-3A-3Aiban_ort-28+iban+-5B-2Cfiliale-5D-29">KontoCheck::iban_ort( iban [,filiale])<span><a href="#method-c-iban_ort-label-KontoCheck-3A-3Aiban_ort-28+iban+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert den Ort einer Bank. Falls der Parameter filiale
nicht angegeben ist, wird der Sitz der Hauptstelle ausgegeben. Der
Rückgabewert ist ein Array mit zwei Elementen: im ersten steht ein String
mit dem Namen, im zweiten ein Statuscode. Im Fehlerfall wird für den Ort
nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-147  (IBAN_ONLY_GERMAN)           “Es werden nur deutsche IBANs
unterstützt”</p>
</li><li>
<p>-121  (INVALID_IBAN_LENGTH)        “Die Länge der IBAN für das angegebene
Länderkürzel ist falsch”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)   “Das Feld BLZ wurde nicht initialisiert”</p>
</li><li>
<p>-49  (LUT2_ORT_NOT_INITIALIZED)   “Das Feld Ort wurde nicht initialisiert”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)    “Der Index für die Filiale ist ungültig”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)         “die Bankleitzahl ist nicht achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                         “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="iban_ort-source">
            <pre>static VALUE iban_ort_rb(int argc,VALUE* argv,VALUE self)
{
   char iban[64],error_msg[512];
   const char *ort;
   int retval,filiale;

   get_params_bic(argc,argv,iban,&amp;filiale,NULL,3);
   ort=iban_ort(iban,filiale,&amp;retval);
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_ORT_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:rb_str_new2(ort),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-iban_pan" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">iban_pan</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-iban_pan-label-KontoCheckRaw-3A-3Aiban_pan-28+iban+-5B-2Cfiliale-5D-29"><a href="KontoCheckRaw.html#method-c-iban_pan">::iban_pan</a>( iban [,filiale])<span><a href="#method-c-iban_pan-label-KontoCheckRaw-3A-3Aiban_pan-28+iban+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-iban_pan-label-KontoCheck-3A-3Aiban_pan-28+iban+-5B-2Cfiliale-5D-29">KontoCheck::iban_pan( iban [,filiale])<span><a href="#method-c-iban_pan-label-KontoCheck-3A-3Aiban_pan-28+iban+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert den PAN (Primary Account Number) einer Bank. Der
Rückgabewert ist ein Array mit zwei Elementen: im ersten steht der PAN, im
zweiten ein Statuscode. Im Fehlerfall wird für den PAN nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-147  (IBAN_ONLY_GERMAN)              “Es werden nur deutsche IBANs
unterstützt”</p>
</li><li>
<p>-121  (INVALID_IBAN_LENGTH)           “Die Länge der IBAN für das
angegebene Länderkürzel ist falsch”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-47  (LUT2_PAN_NOT_INITIALIZED)      “Das Feld PAN wurde nicht
initialisiert”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)            “die Bankleitzahl ist nicht
achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                   “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="iban_pan-source">
            <pre>static VALUE iban_pan_rb(int argc,VALUE* argv,VALUE self)
{
   char iban[64],error_msg[512];
   int retval,pan,filiale;

   get_params_bic(argc,argv,iban,&amp;filiale,NULL,3);
   pan=iban_pan(iban,filiale,&amp;retval);
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_PAN_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(pan),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-iban_plz" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">iban_plz</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-iban_plz-label-KontoCheckRaw-3A-3Aiban_plz-28+iban+-5B-2Cfiliale-5D-29"><a href="KontoCheckRaw.html#method-c-iban_plz">::iban_plz</a>( iban [,filiale])<span><a href="#method-c-iban_plz-label-KontoCheckRaw-3A-3Aiban_plz-28+iban+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-iban_plz-label-KontoCheck-3A-3Aiban_plz-28+iban+-5B-2Cfiliale-5D-29">KontoCheck::iban_plz( iban [,filiale])<span><a href="#method-c-iban_plz-label-KontoCheck-3A-3Aiban_plz-28+iban+-5B-2Cfiliale-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert die Postleitzahl einer Bank. Falls der Parameter
filiale nicht angegeben ist, wird die PLZ der Hauptstelle ausgegeben. Der
Rückgabewert ist ein Array mit zwei Elementen: im ersten steht die PLZ, im
zweiten ein Statuscode. Im Fehlerfall wird für die PLZ nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-147  (IBAN_ONLY_GERMAN)              “Es werden nur deutsche IBANs
unterstützt”</p>
</li><li>
<p>-121  (INVALID_IBAN_LENGTH)           “Die Länge der IBAN für das
angegebene Länderkürzel ist falsch”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-50  (LUT2_PLZ_NOT_INITIALIZED)      “Das Feld PLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)            “die Bankleitzahl ist nicht
achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                   “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="iban_plz-source">
            <pre>static VALUE iban_plz_rb(int argc,VALUE* argv,VALUE self)
{
   char iban[64],error_msg[512];
   int retval,plz,filiale;

   get_params_bic(argc,argv,iban,&amp;filiale,NULL,3);
   plz=iban_plz(iban,filiale,&amp;retval);
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_PLZ_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(plz),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-iban_pz" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">iban_pz</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-iban_pz-label-KontoCheckRaw-3A-3Aiban_pz-28+iban-29"><a href="KontoCheckRaw.html#method-c-iban_pz">::iban_pz</a>( iban)<span><a href="#method-c-iban_pz-label-KontoCheckRaw-3A-3Aiban_pz-28+iban-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-iban_pz-label-KontoCheck-3A-3Aiban_pz-28+iban-29">KontoCheck::iban_pz( iban)<span><a href="#method-c-iban_pz-label-KontoCheck-3A-3Aiban_pz-28+iban-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert die Prüfziffer einer Bank. Die Funktion unterstützt
keine Filialen; zu jeder BLZ kann es in der LUT-Datei nur eine
Prüfziffermethode geben. Der Rückgabewert ist ein Array mit zwei Elementen:
im ersten steht die Prüfziffer, im zweiten ein Statuscode. Im Fehlerfall
wird für den Prüfziffer nil zurückgegeben.</p>

<p>Mögliche Statuscodes:</p>
<ul><li>
<p>-147  (IBAN_ONLY_GERMAN)              “Es werden nur deutsche IBANs
unterstützt”</p>
</li><li>
<p>-121  (INVALID_IBAN_LENGTH)           “Die Länge der IBAN für das
angegebene Länderkürzel ist falsch”</p>
</li><li>
<p>-55  (LUT2_INDEX_OUT_OF_RANGE)       “Der Index für die Filiale ist
ungültig”</p>
</li><li>
<p>-53  (LUT2_BLZ_NOT_INITIALIZED)      “Das Feld BLZ wurde nicht
initialisiert”</p>
</li><li>
<p>-45  (LUT2_PZ_NOT_INITIALIZED)       “Das Feld Prüfziffer wurde nicht
initialisiert”</p>
</li><li>
<p>-5  (INVALID_BLZ_LENGTH)            “die Bankleitzahl ist nicht
achtstellig”</p>
</li><li>
<p>-4  (INVALID_BLZ)                   “die Bankleitzahl ist ungültig”</p>
</li><li>
<p>1  (OK)                            “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="iban_pz-source">
            <pre>static VALUE iban_pz_rb(int argc,VALUE* argv,VALUE self)
{
   char iban[64],error_msg[512];
   int retval,pz,filiale;

   get_params_bic(argc,argv,iban,&amp;filiale,NULL,3);
   pz=iban_pz(iban,0,&amp;retval);
   if(retval==LUT2_BLZ_NOT_INITIALIZED || retval==LUT2_PZ_NOT_INITIALIZED)RUNTIME_ERROR(retval);
   return rb_ary_new3(2,retval&lt;=0?Qnil:INT2FIX(pz),INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-init" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">init</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-init-label-KontoCheckRaw-3A-3Ainit-28+-5Bp1+-5B-2Cp2+-5B-2Cset-5D-5D-5D-29"><a href="KontoCheckRaw.html#method-c-init">::init</a>( [p1 [,p2 [,set]]])<span><a href="#method-c-init-label-KontoCheckRaw-3A-3Ainit-28+-5Bp1+-5B-2Cp2+-5B-2Cset-5D-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-init-label-KontoCheck-3A-3Ainit-28+-5Bp1+-5B-2Cp2+-5B-2Cset-5D-5D-5D-29"><a href="KontoCheck.html#method-c-init">KontoCheck.init</a>( [p1 [,p2 [,set]]])<span><a href="#method-c-init-label-KontoCheck-3A-3Ainit-28+-5Bp1+-5B-2Cp2+-5B-2Cset-5D-5D-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion initialisiert die Bibliothek und lädt die gewünschten
Datenblocks in den Speicher. Alle Argumente sind optional; in konto_check.h
werden die Defaultwerte definiert.</p>

<h4 id="method-c-init-label-Aufruf-3A">Aufruf:<span><a href="#method-c-init-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>ret=KontoCheckRaw::init( [p1 [,p2 [,set]]])</p>
</li></ul>

<h5 id="method-c-init-label-Beispielsaufrufe-3A">Beispielsaufrufe:<span><a href="#method-c-init-label-Beispielsaufrufe-3A">&para;</a> <a href="#top">&uarr;</a></span></h5>
<ul><li>
<p>ret=KontoCheckRaw::init</p>
</li><li>
<p>ret=KontoCheckRaw::init( 5)</p>
</li><li>
<p>ret=KontoCheckRaw::init( “/etc/blz.lut”)</p>
</li><li>
<p>ret=KontoCheckRaw::init( 3,“/etc/blz.lut”)</p>
</li><li>
<p>ret=KontoCheckRaw::init( “/etc/blz.lut”,9,2)</p>
</li></ul>

<h4 id="method-c-init-label-Parameter-3A">Parameter:<span><a href="#method-c-init-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>Die Variablen p1 und p2 stehen für den Initialisierungslevel und den
Dateinamen der LUT-Datei (in beliebiger Reihenfolge); die Zuordnung der
beiden Parameter erfolgt on the fly durch eine Typüberprüfung. Der
Dateiname ist immer als String anzugeben, der Initialisierungslevel immer
als Zahl, ansonsten gibt es eine TypeError Exception. Auf diese Weise ist
es eindeutig möglich festzustellen, wie die Parameter p1 und p2 den
Variablen lutfile und level zuzuordnen sind.</p>
</li><li>
<p>Der Initialisierungslevel ist eine Zahl zwischen 0 und 9, die die zu
ladenden Blocks angibt. Die folgenden Werte sind definiert:</p>

<pre>0. BLZ,PZ
1. BLZ,PZ,NAME_KURZ
2. BLZ,PZ,NAME_KURZ,BIC
3. BLZ,PZ,NAME,PLZ,ORT
4. BLZ,PZ,NAME,PLZ,ORT,BIC
5. BLZ,PZ,NAME_NAME_KURZ,PLZ,ORT,BIC
6. BLZ,PZ,NAME_NAME_KURZ,PLZ,ORT,BIC,NACHFOLGE_BLZ
7. BLZ,PZ,NAME_NAME_KURZ,PLZ,ORT,BIC,NACHFOLGE_BLZ,AENDERUNG
8. BLZ,PZ,NAME_NAME_KURZ,PLZ,ORT,BIC,NACHFOLGE_BLZ,AENDERUNG,
   LOESCHUNG
9. BLZ,PZ,NAME_NAME_KURZ,PLZ,ORT,BIC,NACHFOLGE_BLZ,AENDERUNG,
   LOESCHUNG,PAN,NR</pre>
</li><li>
<p>Der Parameter set bezeichnet den zu ladenden Datensatz (1 oder 2) der
LUT-Datei. Falls der Parameter set nicht angegeben oder 0 ist, wird
versucht, das aktuell gültige Set aus dem Systemdatum und dem
Gültigkeitszeitraum der in der LUT-Datei gespeicherten Sets zu bestimmen.</p>
</li></ul>

<p>Für die LUT-Datei ist als Defaultwert sowohl für den Pfad als auch den
Dateinamen eine Liste möglich, die sequenziell abgearbeitet wird; diese
wird in konto_check.h spezifiziert (Compilerzeit-Konstante der
C-Bibliothek). Die folgenden Werte sind in der aktuellen konto_check.h
definiert:</p>
<ul><li>
<p>DEFAULT_LUT_NAME blz.lut; blz.lut2f; blz.lut2</p>
</li><li>
<p>DEFAULT_LUT_PATH ., /usr/local/etc/; /etc/; /usr/local/bin/;
/opt/konto_check/ <em>(für nicht-Windows-Systeme)</em></p>
</li><li>
<p>DEFAULT_LUT_PATH .; C:; C:\Programme\konto_check  <em>(für
Windows-Systeme)</em></p>
</li></ul>

<p>Der Defaultwert für level ist ebenfalls in konto_check.h definiert; in der
aktuellen Version ist er 5. Bei diesem Level werden die Blocks BLZ,
Prüfziffer, Name, Kurzname, PLZ, Ort und BIC geladen.</p>

<h4 id="method-c-init-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-init-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Es wird ein skalarer Statuscode zurückgegeben, der Auskunft über die
Initialisierung bzw. aufgetretene Fehler gibt.</p>

<h4 id="method-c-init-label-M-C3-B6gliche+Statuscodes-3A">Mögliche Statuscodes:<span><a href="#method-c-init-label-M-C3-B6gliche+Statuscodes-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>-112  (KTO_CHECK_UNSUPPORTED_COMPRESSION) “die notwendige
Kompressions-Bibliothek wurde beim Kompilieren nicht eingebunden”</p>
</li><li>
<p>-64  (INIT_FATAL_ERROR)        “Initialisierung fehlgeschlagen (init_wait
geblockt)”</p>
</li><li>
<p>-63  (INCREMENTAL_INIT_NEEDS_INFO) “Ein inkrementelles Initialisieren
benötigt einen Info-Block in der LUT-Datei”</p>
</li><li>
<p>-62  (INCREMENTAL_INIT_FROM_DIFFERENT_FILE)   “Ein inkrementelles
Initialisieren mit einer anderen LUT-Datei ist nicht möglich”</p>
</li><li>
<p>-38  (LUT2_PARTIAL_OK)         “es wurden nicht alle Blocks geladen”</p>
</li><li>
<p>-36  (LUT2_Z_MEM_ERROR)        “Memory error in den ZLIB-Routinen”</p>
</li><li>
<p>-35  (LUT2_Z_DATA_ERROR)       “Datenfehler im komprimierten LUT-Block”</p>
</li><li>
<p>-34  (LUT2_BLOCK_NOT_IN_FILE)  “Der Block ist nicht in der LUT-Datei
enthalten”</p>
</li><li>
<p>-33  (LUT2_DECOMPRESS_ERROR)   “Fehler beim Dekomprimieren eines
LUT-Blocks”</p>
</li><li>
<p>-31  (LUT2_FILE_CORRUPTED)     “Die LUT-Datei ist korrumpiert”</p>
</li><li>
<p>-20  (LUT_CRC_ERROR)           “Prüfsummenfehler in der blz.lut Datei”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)         “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)            “kann keinen Speicher allokieren”</p>
</li><li>
<p>-7  (INVALID_LUT_FILE)        “die blz.lut Datei ist inkosistent/ungültig”</p>
</li><li>
<p>-6  (NO_LUT_FILE)             “die blz.lut Datei wurde nicht gefunden”</p>
</li><li>
<p>1  (OK)                      “ok”</p>
</li><li>
<p>6  (LUT1_SET_LOADED)         “Die Datei ist im alten LUT-Format (1.0/1.1)”</p>
</li></ul>

<h4 id="method-c-init-label-Anmerkung-3A">Anmerkung:<span><a href="#method-c-init-label-Anmerkung-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Falls der Statuscode <a
href="KontoCheckRaw.html#LUT2_PARTIAL_OK">LUT2_PARTIAL_OK</a> ist, waren
bei der Initialisierung nicht alle Blocks in der LUT-Datei enthalten; in
vielen Situationen ist dies mehr eine Warnung, nicht ein Fehler.</p>
          
          

          
          <div class="method-source-code" id="init-source">
            <pre>static VALUE init(int argc,VALUE* argv,VALUE self)
{
   char lut_name[FILENAME_MAX+1],error_msg[512];
   int retval,level,set;

   get_params_file(argc,argv,lut_name,&amp;level,&amp;set,1);
   retval=lut_init(lut_name,level,set);
   switch(retval){
      case OK:
      case LUT1_SET_LOADED:
      case LUT2_PARTIAL_OK:
         break;
      default:
         RUNTIME_ERROR(retval);
   }
   return INT2FIX(retval);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-ipi_check" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ipi_check</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-ipi_check-label-KontoCheckRaw-3A-3Aipi_check-28+zweck-29"><a href="KontoCheckRaw.html#method-c-ipi_check">::ipi_check</a>( zweck)<span><a href="#method-c-ipi_check-label-KontoCheckRaw-3A-3Aipi_check-28+zweck-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-ipi_check-label-KontoCheck-3A-3Aipi_check-28+zweck-29"><a href="KontoCheck.html#method-c-ipi_check">KontoCheck.ipi_check</a>( zweck)<span><a href="#method-c-ipi_check-label-KontoCheck-3A-3Aipi_check-28+zweck-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Die Funktion testet, ob ein Strukturierter Verwendungszweck gültig ist
(Anzahl Zeichen, Prüfziffer).</p>

<h4 id="method-c-ipi_check-label-Aufruf-3A">Aufruf:<span><a href="#method-c-ipi_check-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>ret=KontoCheckRaw::ipi_check( zweck)</p>

<h4 id="method-c-ipi_check-label-Parameter-3A">Parameter:<span><a href="#method-c-ipi_check-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>zweck: der Strukturierte Verwendungszweck, der getestet werden soll</p>
</li></ul>

<h4 id="method-c-ipi_check-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-ipi_check-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Zurückgegeben wird ein skalarer Statuscode.</p>

<h4 id="method-c-ipi_check-label-M-C3-B6gliche+Statuscodes-3A">Mögliche Statuscodes:<span><a href="#method-c-ipi_check-label-M-C3-B6gliche+Statuscodes-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>-73  (IPI_CHECK_INVALID_LENGTH)   “Der zu validierende strukturierete
Verwendungszweck muß genau 20 Zeichen enthalten”</p>
</li><li>
<p>0  (FALSE)                      “falsch”</p>
</li><li>
<p>1  (OK)                         “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="ipi_check-source">
            <pre>static VALUE ipi_check_rb(int argc,VALUE* argv,VALUE self)
{
   char zweck[128];

   get_params(argc,argv,zweck,NULL,NULL,NULL,3);
   return INT2FIX(ipi_check(zweck));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-ipi_gen" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ipi_gen</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-ipi_gen-label-KontoCheckRaw-3A-3Aipi_gen-28+zweck-29"><a href="KontoCheckRaw.html#method-c-ipi_gen">::ipi_gen</a>( zweck)<span><a href="#method-c-ipi_gen-label-KontoCheckRaw-3A-3Aipi_gen-28+zweck-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-ipi_gen-label-KontoCheck-3A-3Aipi_gen-28+zweck-29"><a href="KontoCheck.html#method-c-ipi_gen">KontoCheck.ipi_gen</a>( zweck)<span><a href="#method-c-ipi_gen-label-KontoCheck-3A-3Aipi_gen-28+zweck-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion generiert einen “Strukturierten Verwendungszweck” für
SEPA-Überweisungen. Der Rückgabewert ist der Strukturierte Verwendungszweck
als String oder nil, falls ein Fehler aufgetreten ist.</p>

<p><em>ACHTUNG</em> Die Reihenfolge der Parameter dieser Funktion hat sich in
Version 0.2.2 geändert; der Statuscode wird nun als letzter Arraywert
zurückgegeben, die Papierform als zweiter Wert (wie bei <a
href="KontoCheckRaw.html#method-c-iban_gen">::iban_gen</a>(). Es ist nicht
schön,so allerdings insgesamt konsistenter (ich habe auch eine Abneigung
gegen Änderungen des Interfaces, aber an dieser Stelle schien es geboten zu
sein).</p>

<h4 id="method-c-ipi_gen-label-Aufruf-3A">Aufruf:<span><a href="#method-c-ipi_gen-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>ret=KontoCheckRaw::ipi_gen( zweck)</p>

<h4 id="method-c-ipi_gen-label-Parameter-3A">Parameter:<span><a href="#method-c-ipi_gen-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>zweck: String für den ein Strukturierter Verwendungszweck generiert werden
soll. Der String für den Strukturierten Verwendungszweck darf maximal 18
Byte lang sein und nur alphanumerische Zeichen enthalten (also auch keine
Umlaute).</p>
</li></ul>

<h4 id="method-c-ipi_gen-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-ipi_gen-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Der Rückgabewert ist ein Array mit drei Elementen:</p>
<ul><li>
<p>im ersten steht der Strukturierte Verwendungszweck,</p>
</li><li>
<p>im zweiten die Papierform (mit eingestreuten Blanks).</p>
</li><li>
<p>im dritten ein Statuscode</p>
</li></ul>

<h4 id="method-c-ipi_gen-label-M-C3-B6gliche+Statuscodes-3A">Mögliche Statuscodes:<span><a href="#method-c-ipi_gen-label-M-C3-B6gliche+Statuscodes-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>-71  (IPI_INVALID_LENGTH)         “Die Länge des IPI-Verwendungszwecks darf
maximal 18 Byte sein”</p>
</li><li>
<p>-72  (IPI_INVALID_CHARACTER)      “Im strukturierten Verwendungszweck
dürfen nur alphanumerische Zeichen vorkommen”</p>
</li><li>
<p>1  (OK)                         “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="ipi_gen-source">
            <pre>static VALUE ipi_gen_rb(int argc,VALUE* argv,VALUE self)
{
   char zweck[24],dst[24],papier[30];
   int retval;

   get_params(argc,argv,zweck,NULL,NULL,NULL,4);
   retval=ipi_gen(zweck,dst,papier);
   if(retval==OK)
      return rb_ary_new3(3,rb_str_new2(dst),rb_str_new2(papier),INT2FIX(retval));
   else
      return rb_ary_new3(3,Qnil,Qnil,INT2FIX(retval));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-keep_raw_data" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">keep_raw_data</span><span
            class="method-args">(p1)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-keep_raw_data-label-KontoCheckRaw-3A-3Akeep_raw_data-28+mode-29"><a href="KontoCheckRaw.html#method-c-keep_raw_data">::keep_raw_data</a>( mode)<span><a href="#method-c-keep_raw_data-label-KontoCheckRaw-3A-3Akeep_raw_data-28+mode-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-keep_raw_data-label-KontoCheckRaw-3A-3Aencoding-28+mode-29"><a href="KontoCheckRaw.html#method-c-encoding">::encoding</a>( mode)<span><a href="#method-c-keep_raw_data-label-KontoCheckRaw-3A-3Aencoding-28+mode-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<h5 id="method-c-keep_raw_data-label-KontoCheck-3A-3Aencoding-28+mode-29"><a href="KontoCheck.html#method-c-encoding">KontoCheck.encoding</a>( mode)<span><a href="#method-c-keep_raw_data-label-KontoCheck-3A-3Aencoding-28+mode-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion setzt bzw. liest das Flag <a
href="KontoCheckRaw.html#method-c-keep_raw_data">::keep_raw_data</a> in der
C-Bibliothek. Falls es gesetzt ist, werden werden die Rohdaten der Blocks
Name, Kurzname und Ort im Speicher gehalten; bei einem Wechsel der
Kodierung werden diese Blocks dann auch auf die neue Kodierung umgesetzt.
Für die Speicherung der Blocks werden allerdings etwa 900 KB Hauptspeicher
benötigt, die andernfalls wieder freigegeben würden.</p>

<p>Da diese Funktion etwas exotisch ist, ist sie nur in der <a
href="KontoCheckRaw.html">KontoCheckRaw</a> Bibliothek enthalten, nicht in
<a href="KontoCheck.html">KontoCheck</a>.</p>

<h4 id="method-c-keep_raw_data-label-Aufruf-3A">Aufruf:<span><a href="#method-c-keep_raw_data-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>retval=KontoCheck::encoding( mode)</p>

<h4 id="method-c-keep_raw_data-label-Parameter-3A">Parameter:<span><a href="#method-c-keep_raw_data-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Das Verhalten der Funktion wird durch den Parameter mode gesteuert:</p>
<ul><li>
<p>-1: Flag <a
href="KontoCheckRaw.html#method-c-keep_raw_data">::keep_raw_data</a>
ausschalten</p>
</li><li>
<p>1: Flag <a
href="KontoCheckRaw.html#method-c-keep_raw_data">::keep_raw_data</a>
einschalten</p>
</li><li>
<p>0/nil: Flag lesen</p>
</li></ul>

<h4 id="method-c-keep_raw_data-label-M-C3-B6gliche+R-C3-BCckgabewerte">Mögliche Rückgabewerte<span><a href="#method-c-keep_raw_data-label-M-C3-B6gliche+R-C3-BCckgabewerte">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Der Rückgabewert ist true oder false.</p>
          
          

          
          <div class="method-source-code" id="keep_raw_data-source">
            <pre>static VALUE keep_raw_data_rb(VALUE self, VALUE mode_rb)
{
   int t,mode;

   if(NIL_P(mode_rb))
      mode=0;
   else if((t=TYPE(mode_rb))==RUBY_T_STRING)
      mode=*(RSTRING_PTR(mode_rb))-&#39;0&#39;;
   else if(t==RUBY_T_FLOAT || t==RUBY_T_FIXNUM || t==RUBY_T_BIGNUM)
      mode=FIX2INT(mode_rb);
   else  /* nicht unterstützter Typ */
      mode=0;
   return keep_raw_data(mode)?Qtrue:Qfalse;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-konto_check" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">konto_check</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-konto_check-label-KontoCheckRaw-3A-3Akonto_check-28+blz-2C+kto-29"><a href="KontoCheckRaw.html#method-c-konto_check">::konto_check</a>( blz, kto)<span><a href="#method-c-konto_check-label-KontoCheckRaw-3A-3Akonto_check-28+blz-2C+kto-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-konto_check-label-KontoCheck-3A-3Akonto_check-28+blz-2C+kto-29"><a href="KontoCheck.html#method-c-konto_check">KontoCheck.konto_check</a>( blz, kto)<span><a href="#method-c-konto_check-label-KontoCheck-3A-3Akonto_check-28+blz-2C+kto-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Test, ob eine BLZ/Konto-Kombination eine gültige Prüfziffer enthält.</p>

<h4 id="method-c-konto_check-label-Aufruf-3A">Aufruf:<span><a href="#method-c-konto_check-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>ret=KontoCheckRaw::konto_check( blz, kto)</p>

<h4 id="method-c-konto_check-label-Parameter-3A">Parameter:<span><a href="#method-c-konto_check-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>blz: Die Bankleitzahl der zu testenden Bankverbindung</p>
</li><li>
<p>kto: Die Kontonummer der zu testenden Bankverbindung</p>
</li></ul>

<h4 id="method-c-konto_check-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-konto_check-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Rückgabe ist ein skalarer Statuswert, der das Ergebnis der Prüfung enthält.</p>

<h4 id="method-c-konto_check-label-M-C3-B6gliche+Statuscodes-3A">Mögliche Statuscodes:<span><a href="#method-c-konto_check-label-M-C3-B6gliche+Statuscodes-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>-77  <a href="KontoCheckRaw.html#BAV_FALSE">BAV_FALSE</a>              
“BAV denkt, das Konto ist falsch (konto_check hält es für richtig)”</p>
</li><li>
<p>-69  <a href="KontoCheckRaw.html#MISSING_PARAMETER">MISSING_PARAMETER</a>  
“Bei der Kontoprüfung fehlt ein notwendiger Parameter (BLZ oder Konto)”</p>
</li><li>
<p>-40  <a
href="KontoCheckRaw.html#LUT2_NOT_INITIALIZED">LUT2_NOT_INITIALIZED</a>   
“die Programmbibliothek wurde noch nicht initialisiert”</p>
</li><li>
<p>-29  <a
href="KontoCheckRaw.html#UNDEFINED_SUBMETHOD">UNDEFINED_SUBMETHOD</a>    
“Die (Unter)Methode ist nicht definiert”</p>
</li><li>
<p>-12  <a href="KontoCheckRaw.html#INVALID_KTO_LENGTH">INVALID_KTO_LENGTH</a>
“ein Konto muß zwischen 1 und 10 Stellen haben”</p>
</li><li>
<p>-5  <a href="KontoCheckRaw.html#INVALID_BLZ_LENGTH">INVALID_BLZ_LENGTH</a> 
“die Bankleitzahl ist nicht achtstellig”</p>
</li><li>
<p>-4  <a href="KontoCheckRaw.html#INVALID_BLZ">INVALID_BLZ</a>            
“die Bankleitzahl ist ungültig”</p>
</li><li>
<p>-3  <a href="KontoCheckRaw.html#INVALID_KTO">INVALID_KTO</a>            
“das Konto ist ungültig”</p>
</li><li>
<p>-2  <a href="KontoCheckRaw.html#NOT_IMPLEMENTED">NOT_IMPLEMENTED</a>       
“die Methode wurde noch nicht implementiert”</p>
</li><li>
<p>-1  <a href="KontoCheckRaw.html#NOT_DEFINED">NOT_DEFINED</a>            
“die Methode ist nicht definiert”</p>
</li><li>
<p>0  <a href="KontoCheckRaw.html#FALSE">FALSE</a>                   “falsch”</p>
</li><li>
<p>1  <a href="KontoCheckRaw.html#OK">OK</a>                      “ok”</p>
</li><li>
<p>2  <a href="KontoCheckRaw.html#OK_NO_CHK">OK_NO_CHK</a>               “ok,
ohne Prüfung”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="konto_check-source">
            <pre>static VALUE konto_check(int argc,VALUE* argv,VALUE self)
{
   char kto[16],blz[16],error_msg[512];
   int retval;

   get_params(argc,argv,blz,kto,NULL,NULL,2);
   if((*blz==&#39;0&#39; || strlen(blz)!=8) &amp;&amp; lut_blz(kto+2,0)==OK)   /* BLZ/Kto vertauscht, altes Interface */
      rb_raise(rb_eRuntimeError,&quot;%s&quot;,&quot;It seems that you use the old interface of konto_check?\n&quot;
            &quot;Please check the order of function arguments for konto_test(); should be (blz,kto)&quot;);
   if((retval=kto_check_blz(blz,kto))==LUT2_NOT_INITIALIZED || retval==MISSING_PARAMETER)RUNTIME_ERROR(retval);
   return INT2FIX(retval);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-konto_check_pz" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">konto_check_pz</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-konto_check_pz-label-KontoCheckRaw-3A-3Akonto_check_pz-28+pz-2C+kto+-5B-2Cblz-5D-29"><a href="KontoCheckRaw.html#method-c-konto_check_pz">::konto_check_pz</a>( pz, kto [,blz])<span><a href="#method-c-konto_check_pz-label-KontoCheckRaw-3A-3Akonto_check_pz-28+pz-2C+kto+-5B-2Cblz-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-konto_check_pz-label-KontoCheck-3A-3Akonto_check_pz-28+pz-2C+kto+-5B-2Cblz-5D-29"><a href="KontoCheck.html#method-c-konto_check_pz">KontoCheck.konto_check_pz</a>( pz, kto [,blz])<span><a href="#method-c-konto_check_pz-label-KontoCheck-3A-3Akonto_check_pz-28+pz-2C+kto+-5B-2Cblz-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion testet, ob eine gegebene Prüfziffer/Kontonummer-Kombination
gültig ist.</p>

<h4 id="method-c-konto_check_pz-label-Aufruf-3A">Aufruf:<span><a href="#method-c-konto_check_pz-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>ret=KontoCheckRaw::konto_check_pz( pz, kto [,blz])</p>

<h4 id="method-c-konto_check_pz-label-Parameter-3A">Parameter:<span><a href="#method-c-konto_check_pz-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>pz: Prüfzifferverfahren das benutzt werden soll</p>
</li><li>
<p>kto: Kontonummer die getestet werden soll</p>
</li><li>
<p>blz: Dieser Parameter ist nur für die Verfahren 52, 53, B6 und C0
notwendig; bei allen anderen Prüfzifferverfahren wird er ignoriert. Bei
diesen Verfahren geht die BLZ in die Berechnung der Prüfziffer ein. Wird
der Parameter bei einem dieser Verfahren nicht angegeben, wird stattdessen
eine Test-BLZ (wie in der Beschreibung der Prüfziffermethoden von der
Deutschen Bundesbank angegeben) eingesetzt.</p>
</li></ul>

<h4 id="method-c-konto_check_pz-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-konto_check_pz-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Die Funktion gibt einen skalaren Statuscode zurück, der das Ergebnis der
Prüfung enthält.</p>

<h4 id="method-c-konto_check_pz-label-M-C3-B6gliche+Statuscodes-3A">Mögliche Statuscodes:<span><a href="#method-c-konto_check_pz-label-M-C3-B6gliche+Statuscodes-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>-77  (BAV_FALSE)               “BAV denkt, das Konto ist falsch
(konto_check hält es für richtig)”</p>
</li><li>
<p>-69  (MISSING_PARAMETER)       “bei der Kontoprüfung fehlt ein notwendiger
Parameter (BLZ oder Konto)”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)    “die Programmbibliothek wurde noch nicht
initialisiert”</p>
</li><li>
<p>-29  (UNDEFINED_SUBMETHOD)     “die (Unter)Methode ist nicht definiert”</p>
</li><li>
<p>-12  (INVALID_KTO_LENGTH)      “ein Konto muß zwischen 1 und 10 Stellen
haben”</p>
</li><li>
<p>-3  (INVALID_KTO)             “das Konto ist ungültig”</p>
</li><li>
<p>-2  (NOT_IMPLEMENTED)         “die Methode wurde noch nicht implementiert”</p>
</li><li>
<p>-1  (NOT_DEFINED)             “die Methode ist nicht definiert”</p>
</li><li>
<p>0  (FALSE)                   “falsch”</p>
</li><li>
<p>1  (OK)                      “ok”</p>
</li><li>
<p>2  (OK_NO_CHK)               “ok, ohne Prüfung”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="konto_check_pz-source">
            <pre>static VALUE konto_check_pz(int argc,VALUE* argv,VALUE self)
{
   char pz[16],blz[16],kto[16],error_msg[512];
   int retval;

   get_params(argc,argv,pz,kto,blz,NULL,5);
   if((retval=kto_check_pz(pz,kto,blz))==LUT2_NOT_INITIALIZED || retval==MISSING_PARAMETER)RUNTIME_ERROR(retval);
   return INT2FIX(retval);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-konto_check_regel" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">konto_check_regel</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-konto_check_regel-label-KontoCheckRaw-3A-3Akonto_check_regel-28+blz-2C+kto-29"><a href="KontoCheckRaw.html#method-c-konto_check_regel">::konto_check_regel</a>( blz, kto)<span><a href="#method-c-konto_check_regel-label-KontoCheckRaw-3A-3Akonto_check_regel-28+blz-2C+kto-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-konto_check_regel-label-KontoCheckRaw-3A-3Akonto_check_regel_dbg-28+blz-2C+kto-29"><a href="KontoCheckRaw.html#method-c-konto_check_regel_dbg">::konto_check_regel_dbg</a>( blz, kto)<span><a href="#method-c-konto_check_regel-label-KontoCheckRaw-3A-3Akonto_check_regel_dbg-28+blz-2C+kto-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<h5 id="method-c-konto_check_regel-label-KontoCheck-3A-3Akonto_check_regel-28+blz-2C+kto-29"><a href="KontoCheck.html#method-c-konto_check_regel">KontoCheck.konto_check_regel</a>( blz, kto)<span><a href="#method-c-konto_check_regel-label-KontoCheck-3A-3Akonto_check_regel-28+blz-2C+kto-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<h5 id="method-c-konto_check_regel-label-KontoCheck-3A-3Akonto_check_regel-3F-28+blz-2C+kto-29"><a href="KontoCheck.html#method-c-konto_check_regel-3F">KontoCheck.konto_check_regel?</a>( blz, kto)<span><a href="#method-c-konto_check_regel-label-KontoCheck-3A-3Akonto_check_regel-3F-28+blz-2C+kto-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Test, ob eine BLZ/Konto-Kombination eine gültige Prüfziffer enthält. Vor
der Prüfung werden die IBAN-Regeln angewendet; dabei wird u.U. BLZ und/oder
Kontonummer ersetzt.</p>

<h4 id="method-c-konto_check_regel-label-Aufruf-3A">Aufruf:<span><a href="#method-c-konto_check_regel-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>ret=KontoCheckRaw::konto_check_regel( blz, kto)</p>

<h4 id="method-c-konto_check_regel-label-Parameter-3A">Parameter:<span><a href="#method-c-konto_check_regel-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>blz: Die Bankleitzahl der zu testenden Bankverbindung</p>
</li><li>
<p>kto: Die Kontonummer der zu testenden Bankverbindung</p>
</li></ul>

<h4 id="method-c-konto_check_regel-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-konto_check_regel-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Rückgabe ist ein skalarer Statuswert, der das Ergebnis der Prüfung enthält.
Es sind auch die Rückgabewerte der Initialisierung möglich (wegen
iban_init()), deshalb gibt es so viele mögliche Rückgabewerte.</p>

<h4 id="method-c-konto_check_regel-label-M-C3-B6gliche+Statuscodes-3A">Mögliche Statuscodes:<span><a href="#method-c-konto_check_regel-label-M-C3-B6gliche+Statuscodes-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>-135  <a
href="KontoCheckRaw.html#FALSE_UNTERKONTO_ATTACHED">FALSE_UNTERKONTO_ATTACHED</a>
“falsch, es wurde ein Unterkonto hinzugefügt (IBAN-Regel)”</p>
</li><li>
<p>-133  <a
href="KontoCheckRaw.html#BLZ_MARKED_AS_DELETED">BLZ_MARKED_AS_DELETED</a>  
“Die BLZ ist in der Bundesbank-Datei als gelöscht markiert und somit
ungültig”</p>
</li><li>
<p>-128  <a href="KontoCheckRaw.html#IBAN_INVALID_RULE">IBAN_INVALID_RULE</a> 
“Die BLZ passt nicht zur angegebenen IBAN-Regel”</p>
</li><li>
<p>-127  <a
href="KontoCheckRaw.html#IBAN_AMBIGUOUS_KTO">IBAN_AMBIGUOUS_KTO</a>       
“Die Kontonummer ist nicht eindeutig (es gibt mehrere Möglichkeiten)”</p>
</li><li>
<p>-125  <a href="KontoCheckRaw.html#IBAN_RULE_UNKNOWN">IBAN_RULE_UNKNOWN</a> 
“Die IBAN-Regel ist nicht bekannt”</p>
</li><li>
<p>-124  <a
href="KontoCheckRaw.html#NO_IBAN_CALCULATION">NO_IBAN_CALCULATION</a>      
“Für die Bankverbindung ist keine IBAN-Berechnung erlaubt”</p>
</li><li>
<p>-112  <a
href="KontoCheckRaw.html#KTO_CHECK_UNSUPPORTED_COMPRESSION">KTO_CHECK_UNSUPPORTED_COMPRESSION</a>
“die notwendige Kompressions-Bibliothek wurde beim Kompilieren nicht
eingebunden”</p>
</li><li>
<p>-77  <a href="KontoCheckRaw.html#BAV_FALSE">BAV_FALSE</a>                
“BAV denkt, das Konto ist falsch (konto_check hält es für richtig)”</p>
</li><li>
<p>-69  <a href="KontoCheckRaw.html#MISSING_PARAMETER">MISSING_PARAMETER</a>  
“Für die aufgerufene Funktion fehlt ein notwendiger Parameter”</p>
</li><li>
<p>-64  <a href="KontoCheckRaw.html#INIT_FATAL_ERROR">INIT_FATAL_ERROR</a>    
“Initialisierung fehlgeschlagen (init_wait geblockt)”</p>
</li><li>
<p>-63  <a
href="KontoCheckRaw.html#INCREMENTAL_INIT_NEEDS_INFO">INCREMENTAL_INIT_NEEDS_INFO</a>
“Ein inkrementelles Initialisieren benötigt einen Info-Block in der
LUT-Datei”</p>
</li><li>
<p>-62  <a
href="KontoCheckRaw.html#INCREMENTAL_INIT_FROM_DIFFERENT_FILE">INCREMENTAL_INIT_FROM_DIFFERENT_FILE</a>
“Ein inkrementelles Initialisieren mit einer anderen LUT-Datei ist nicht
möglich”</p>
</li><li>
<p>-40  <a
href="KontoCheckRaw.html#LUT2_NOT_INITIALIZED">LUT2_NOT_INITIALIZED</a>    
“die Programmbibliothek wurde noch nicht initialisiert”</p>
</li><li>
<p>-38  <a href="KontoCheckRaw.html#LUT2_PARTIAL_OK">LUT2_PARTIAL_OK</a>      
“es wurden nicht alle Blocks geladen”</p>
</li><li>
<p>-36  <a href="KontoCheckRaw.html#LUT2_Z_MEM_ERROR">LUT2_Z_MEM_ERROR</a>    
“Memory error in den ZLIB-Routinen”</p>
</li><li>
<p>-35  <a href="KontoCheckRaw.html#LUT2_Z_DATA_ERROR">LUT2_Z_DATA_ERROR</a>  
“Datenfehler im komprimierten LUT-Block”</p>
</li><li>
<p>-34  <a
href="KontoCheckRaw.html#LUT2_BLOCK_NOT_IN_FILE">LUT2_BLOCK_NOT_IN_FILE</a>
“Der Block ist nicht in der LUT-Datei enthalten”</p>
</li><li>
<p>-33  <a
href="KontoCheckRaw.html#LUT2_DECOMPRESS_ERROR">LUT2_DECOMPRESS_ERROR</a>  
“Fehler beim Dekomprimieren eines LUT-Blocks”</p>
</li><li>
<p>-31  <a
href="KontoCheckRaw.html#LUT2_FILE_CORRUPTED">LUT2_FILE_CORRUPTED</a>      
“Die LUT-Datei ist korrumpiert”</p>
</li><li>
<p>-29  <a
href="KontoCheckRaw.html#UNDEFINED_SUBMETHOD">UNDEFINED_SUBMETHOD</a>      
“Die (Unter)Methode ist nicht definiert”</p>
</li><li>
<p>-20  <a href="KontoCheckRaw.html#LUT_CRC_ERROR">LUT_CRC_ERROR</a>          
“Prüfsummenfehler in der blz.lut Datei”</p>
</li><li>
<p>-12  <a href="KontoCheckRaw.html#INVALID_KTO_LENGTH">INVALID_KTO_LENGTH</a>
“ein Konto muß zwischen 1 und 10 Stellen haben”</p>
</li><li>
<p>-10  <a href="KontoCheckRaw.html#FILE_READ_ERROR">FILE_READ_ERROR</a>      
“kann Datei nicht lesen”</p>
</li><li>
<p>-9  <a href="KontoCheckRaw.html#ERROR_MALLOC">ERROR_MALLOC</a>             
“kann keinen Speicher allokieren”</p>
</li><li>
<p>-7  <a href="KontoCheckRaw.html#INVALID_LUT_FILE">INVALID_LUT_FILE</a>     
“die blz.lut Datei ist inkosistent/ungültig”</p>
</li><li>
<p>-6  <a href="KontoCheckRaw.html#NO_LUT_FILE">NO_LUT_FILE</a>              
“die blz.lut Datei wurde nicht gefunden”</p>
</li><li>
<p>-5  <a href="KontoCheckRaw.html#INVALID_BLZ_LENGTH">INVALID_BLZ_LENGTH</a> 
“die Bankleitzahl ist nicht achtstellig”</p>
</li><li>
<p>-4  <a href="KontoCheckRaw.html#INVALID_BLZ">INVALID_BLZ</a>              
“die Bankleitzahl ist ungültig”</p>
</li><li>
<p>-3  <a href="KontoCheckRaw.html#INVALID_KTO">INVALID_KTO</a>              
“das Konto ist ungültig”</p>
</li><li>
<p>-2  <a href="KontoCheckRaw.html#NOT_IMPLEMENTED">NOT_IMPLEMENTED</a>       
“die Methode wurde noch nicht implementiert”</p>
</li><li>
<p>-1  <a href="KontoCheckRaw.html#NOT_DEFINED">NOT_DEFINED</a>              
“die Methode ist nicht definiert”</p>
</li><li>
<p>0  <a href="KontoCheckRaw.html#FALSE">FALSE</a>                    
“falsch”</p>
</li><li>
<p>1  <a href="KontoCheckRaw.html#OK">OK</a>                        “ok”</p>
</li><li>
<p>1  <a href="KontoCheckRaw.html#OK">OK</a>                        “ok”</p>
</li><li>
<p>2  <a href="KontoCheckRaw.html#OK_NO_CHK">OK_NO_CHK</a>                
“ok, ohne Prüfung”</p>
</li><li>
<p>6  <a href="KontoCheckRaw.html#LUT1_SET_LOADED">LUT1_SET_LOADED</a>        
“Die Datei ist im alten LUT-Format (1.0/1.1)”</p>
</li><li>
<p>18  <a href="KontoCheckRaw.html#OK_KTO_REPLACED">OK_KTO_REPLACED</a>       
“ok, die Kontonummer wurde allerdings ersetzt”</p>
</li><li>
<p>21  <a
href="KontoCheckRaw.html#OK_IBAN_WITHOUT_KC_TEST">OK_IBAN_WITHOUT_KC_TEST</a>
“ok, die Bankverbindung ist (ohne Test) als richtig anzusehen”</p>
</li><li>
<p>25  <a
href="KontoCheckRaw.html#OK_UNTERKONTO_ATTACHED">OK_UNTERKONTO_ATTACHED</a>
“ok, es wurde ein (weggelassenes) Unterkonto angefügt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="konto_check_regel-source">
            <pre>static VALUE konto_check_regel(int argc,VALUE* argv,VALUE self)
{
   char kto[16],blz[16],error_msg[512];
   int retval;

   get_params(argc,argv,blz,kto,NULL,NULL,2);
   if((retval=kto_check_regel(blz,kto))==LUT2_NOT_INITIALIZED || retval==MISSING_PARAMETER)RUNTIME_ERROR(retval);
   return INT2FIX(retval);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-konto_check_regel_dbg" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">konto_check_regel_dbg</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-konto_check_regel_dbg-label-KontoCheckRaw-3A-3Akonto_check_regel_dbg-28+blz-2C+kto-29"><a href="KontoCheckRaw.html#method-c-konto_check_regel_dbg">::konto_check_regel_dbg</a>( blz, kto)<span><a href="#method-c-konto_check_regel_dbg-label-KontoCheckRaw-3A-3Akonto_check_regel_dbg-28+blz-2C+kto-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-konto_check_regel_dbg-label-KontoCheckRaw-3A-3Akonto_check_regel-28+blz-2C+kto-29"><a href="KontoCheckRaw.html#method-c-konto_check_regel">::konto_check_regel</a>( blz, kto)<span><a href="#method-c-konto_check_regel_dbg-label-KontoCheckRaw-3A-3Akonto_check_regel-28+blz-2C+kto-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<h5 id="method-c-konto_check_regel_dbg-label-KontoCheck-3A-3Akonto_check_regel-28+blz-2C+kto-29"><a href="KontoCheck.html#method-c-konto_check_regel">KontoCheck.konto_check_regel</a>( blz, kto)<span><a href="#method-c-konto_check_regel_dbg-label-KontoCheck-3A-3Akonto_check_regel-28+blz-2C+kto-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<h5 id="method-c-konto_check_regel_dbg-label-KontoCheck-3A-3Akonto_check_regel-3F-28+blz-2C+kto-29"><a href="KontoCheck.html#method-c-konto_check_regel-3F">KontoCheck.konto_check_regel?</a>( blz, kto)<span><a href="#method-c-konto_check_regel_dbg-label-KontoCheck-3A-3Akonto_check_regel-3F-28+blz-2C+kto-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Test, ob eine BLZ/Konto-Kombination eine gültige Prüfziffer enthält. Vor
der Prüfung werden die IBAN-Regeln angewendet; dabei wird u.U. BLZ und/oder
Kontonummer ersetzt. Die Funktion gibt viele Interna</p>
<dl class="rdoc-list note-list"><dt>zurück und ist daher nur in der <a href="KontoCheckRaw.html">KontoCheckRaw</a>
<dd>
<p>Bibliothek enthalten.</p>
</dd></dl>

<h4 id="method-c-konto_check_regel_dbg-label-Aufruf-3A">Aufruf:<span><a href="#method-c-konto_check_regel_dbg-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>ret=KontoCheckRaw::konto_check_regel_dbg( blz, kto)</p>

<h4 id="method-c-konto_check_regel_dbg-label-Parameter-3A">Parameter:<span><a href="#method-c-konto_check_regel_dbg-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>blz: Die Bankleitzahl der zu testenden Bankverbindung</p>
</li><li>
<p>kto: Die Kontonummer der zu testenden Bankverbindung</p>
</li></ul>

<h4 id="method-c-konto_check_regel_dbg-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-konto_check_regel_dbg-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Rückgabe ist ein Array mit 10 Elementen, der das Ergebnis der Prüfung sowie
eine Reihe interner Werte enthält. Für den Statuscode sind auch die
Rückgabewerte der Initialisierung möglich (wegen iban_init()), deshalb gibt
es so viele mögliche Werte.</p>
<ul><li>
<p>das erste Element enthält den Statuscode</p>
</li><li>
<p>das zweite Element enthält die benutzte BLZ (die BLZ wird durch die
IBAN-Regeln u.U. ersetzt)</p>
</li><li>
<p>das dritte Element enthält die benutzte Kontonummer (wird manchmal auch
ersetzt)</p>
</li><li>
<p>das vierte Element enthält den BIC der Bank</p>
</li><li>
<p>das fünfte Element enthält die benutzte IBAN-Regel</p>
</li><li>
<p>das sechste Element enthält die Regel-Version</p>
</li><li>
<p>das siebte Element enthält Prüfziffermethode als Text</p>
</li><li>
<p>das achte Element enthält die Prüfziffermethode (numerisch)</p>
</li><li>
<p>das neunte Element enthält die Prüfziffer</p>
</li><li>
<p>das zehnte Element enthält die Position der Prüfziffer</p>
</li></ul>

<h4 id="method-c-konto_check_regel_dbg-label-M-C3-B6gliche+Statuscodes-3A">Mögliche Statuscodes:<span><a href="#method-c-konto_check_regel_dbg-label-M-C3-B6gliche+Statuscodes-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>-135  <a
href="KontoCheckRaw.html#FALSE_UNTERKONTO_ATTACHED">FALSE_UNTERKONTO_ATTACHED</a>
“falsch, es wurde ein Unterkonto hinzugefügt (IBAN-Regel)”</p>
</li><li>
<p>-133  <a
href="KontoCheckRaw.html#BLZ_MARKED_AS_DELETED">BLZ_MARKED_AS_DELETED</a>  
“Die BLZ ist in der Bundesbank-Datei als gelöscht markiert und somit
ungültig”</p>
</li><li>
<p>-128  <a href="KontoCheckRaw.html#IBAN_INVALID_RULE">IBAN_INVALID_RULE</a> 
“Die BLZ passt nicht zur angegebenen IBAN-Regel”</p>
</li><li>
<p>-127  <a
href="KontoCheckRaw.html#IBAN_AMBIGUOUS_KTO">IBAN_AMBIGUOUS_KTO</a>       
“Die Kontonummer ist nicht eindeutig (es gibt mehrere Möglichkeiten)”</p>
</li><li>
<p>-125  <a href="KontoCheckRaw.html#IBAN_RULE_UNKNOWN">IBAN_RULE_UNKNOWN</a> 
“Die IBAN-Regel ist nicht bekannt”</p>
</li><li>
<p>-124  <a
href="KontoCheckRaw.html#NO_IBAN_CALCULATION">NO_IBAN_CALCULATION</a>      
“Für die Bankverbindung ist keine IBAN-Berechnung erlaubt”</p>
</li><li>
<p>-112  <a
href="KontoCheckRaw.html#KTO_CHECK_UNSUPPORTED_COMPRESSION">KTO_CHECK_UNSUPPORTED_COMPRESSION</a>
“die notwendige Kompressions-Bibliothek wurde beim Kompilieren nicht
eingebunden”</p>
</li><li>
<p>-77  <a href="KontoCheckRaw.html#BAV_FALSE">BAV_FALSE</a>                
“BAV denkt, das Konto ist falsch (konto_check hält es für richtig)”</p>
</li><li>
<p>-69  <a href="KontoCheckRaw.html#MISSING_PARAMETER">MISSING_PARAMETER</a>  
“Für die aufgerufene Funktion fehlt ein notwendiger Parameter”</p>
</li><li>
<p>-64  <a href="KontoCheckRaw.html#INIT_FATAL_ERROR">INIT_FATAL_ERROR</a>    
“Initialisierung fehlgeschlagen (init_wait geblockt)”</p>
</li><li>
<p>-63  <a
href="KontoCheckRaw.html#INCREMENTAL_INIT_NEEDS_INFO">INCREMENTAL_INIT_NEEDS_INFO</a>
“Ein inkrementelles Initialisieren benötigt einen Info-Block in der
LUT-Datei”</p>
</li><li>
<p>-62  <a
href="KontoCheckRaw.html#INCREMENTAL_INIT_FROM_DIFFERENT_FILE">INCREMENTAL_INIT_FROM_DIFFERENT_FILE</a>
“Ein inkrementelles Initialisieren mit einer anderen LUT-Datei ist nicht
möglich”</p>
</li><li>
<p>-40  <a
href="KontoCheckRaw.html#LUT2_NOT_INITIALIZED">LUT2_NOT_INITIALIZED</a>    
“die Programmbibliothek wurde noch nicht initialisiert”</p>
</li><li>
<p>-38  <a href="KontoCheckRaw.html#LUT2_PARTIAL_OK">LUT2_PARTIAL_OK</a>      
“es wurden nicht alle Blocks geladen”</p>
</li><li>
<p>-36  <a href="KontoCheckRaw.html#LUT2_Z_MEM_ERROR">LUT2_Z_MEM_ERROR</a>    
“Memory error in den ZLIB-Routinen”</p>
</li><li>
<p>-35  <a href="KontoCheckRaw.html#LUT2_Z_DATA_ERROR">LUT2_Z_DATA_ERROR</a>  
“Datenfehler im komprimierten LUT-Block”</p>
</li><li>
<p>-34  <a
href="KontoCheckRaw.html#LUT2_BLOCK_NOT_IN_FILE">LUT2_BLOCK_NOT_IN_FILE</a>
“Der Block ist nicht in der LUT-Datei enthalten”</p>
</li><li>
<p>-33  <a
href="KontoCheckRaw.html#LUT2_DECOMPRESS_ERROR">LUT2_DECOMPRESS_ERROR</a>  
“Fehler beim Dekomprimieren eines LUT-Blocks”</p>
</li><li>
<p>-31  <a
href="KontoCheckRaw.html#LUT2_FILE_CORRUPTED">LUT2_FILE_CORRUPTED</a>      
“Die LUT-Datei ist korrumpiert”</p>
</li><li>
<p>-29  <a
href="KontoCheckRaw.html#UNDEFINED_SUBMETHOD">UNDEFINED_SUBMETHOD</a>      
“Die (Unter)Methode ist nicht definiert”</p>
</li><li>
<p>-20  <a href="KontoCheckRaw.html#LUT_CRC_ERROR">LUT_CRC_ERROR</a>          
“Prüfsummenfehler in der blz.lut Datei”</p>
</li><li>
<p>-12  <a href="KontoCheckRaw.html#INVALID_KTO_LENGTH">INVALID_KTO_LENGTH</a>
“ein Konto muß zwischen 1 und 10 Stellen haben”</p>
</li><li>
<p>-10  <a href="KontoCheckRaw.html#FILE_READ_ERROR">FILE_READ_ERROR</a>      
“kann Datei nicht lesen”</p>
</li><li>
<p>-9  <a href="KontoCheckRaw.html#ERROR_MALLOC">ERROR_MALLOC</a>             
“kann keinen Speicher allokieren”</p>
</li><li>
<p>-7  <a href="KontoCheckRaw.html#INVALID_LUT_FILE">INVALID_LUT_FILE</a>     
“die blz.lut Datei ist inkosistent/ungültig”</p>
</li><li>
<p>-6  <a href="KontoCheckRaw.html#NO_LUT_FILE">NO_LUT_FILE</a>              
“die blz.lut Datei wurde nicht gefunden”</p>
</li><li>
<p>-5  <a href="KontoCheckRaw.html#INVALID_BLZ_LENGTH">INVALID_BLZ_LENGTH</a> 
“die Bankleitzahl ist nicht achtstellig”</p>
</li><li>
<p>-4  <a href="KontoCheckRaw.html#INVALID_BLZ">INVALID_BLZ</a>              
“die Bankleitzahl ist ungültig”</p>
</li><li>
<p>-3  <a href="KontoCheckRaw.html#INVALID_KTO">INVALID_KTO</a>              
“das Konto ist ungültig”</p>
</li><li>
<p>-2  <a href="KontoCheckRaw.html#NOT_IMPLEMENTED">NOT_IMPLEMENTED</a>       
“die Methode wurde noch nicht implementiert”</p>
</li><li>
<p>-1  <a href="KontoCheckRaw.html#NOT_DEFINED">NOT_DEFINED</a>              
“die Methode ist nicht definiert”</p>
</li><li>
<p>0  <a href="KontoCheckRaw.html#FALSE">FALSE</a>                    
“falsch”</p>
</li><li>
<p>1  <a href="KontoCheckRaw.html#OK">OK</a>                        “ok”</p>
</li><li>
<p>1  <a href="KontoCheckRaw.html#OK">OK</a>                        “ok”</p>
</li><li>
<p>2  <a href="KontoCheckRaw.html#OK_NO_CHK">OK_NO_CHK</a>                
“ok, ohne Prüfung”</p>
</li><li>
<p>6  <a href="KontoCheckRaw.html#LUT1_SET_LOADED">LUT1_SET_LOADED</a>        
“Die Datei ist im alten LUT-Format (1.0/1.1)”</p>
</li><li>
<p>18  <a href="KontoCheckRaw.html#OK_KTO_REPLACED">OK_KTO_REPLACED</a>       
“ok, die Kontonummer wurde allerdings ersetzt”</p>
</li><li>
<p>21  <a
href="KontoCheckRaw.html#OK_IBAN_WITHOUT_KC_TEST">OK_IBAN_WITHOUT_KC_TEST</a>
“ok, die Bankverbindung ist (ohne Test) als richtig anzusehen”</p>
</li><li>
<p>25  <a
href="KontoCheckRaw.html#OK_UNTERKONTO_ATTACHED">OK_UNTERKONTO_ATTACHED</a>
“ok, es wurde ein (weggelassenes) Unterkonto angefügt”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="konto_check_regel_dbg-source">
            <pre>static VALUE konto_check_regel_dbg(int argc,VALUE* argv,VALUE self)
{
   char kto[16],blz[16],kto2[16],blz2[16],error_msg[512];
   const char *bic2;
   int retval,regel;
   RETVAL rv;

   get_params(argc,argv,blz,kto,NULL,NULL,2);
   if((retval=kto_check_regel_dbg(blz,kto,blz2,kto2,&amp;bic2,&amp;regel,&amp;rv))==LUT2_NOT_INITIALIZED || retval==MISSING_PARAMETER)RUNTIME_ERROR(retval);
   return rb_ary_new3(10,INT2FIX(retval),rb_str_new2(blz2),rb_str_new2(kto2),rb_str_new2(bic2),INT2FIX(regel/100),INT2FIX(regel%100),
         rv.methode?rb_str_new2(rv.methode):Qnil,INT2FIX(rv.pz_methode),INT2FIX(rv.pz),INT2FIX(rv.pz_pos));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-load_bank_data" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">load_bank_data</span><span
            class="method-args">(p1)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-load_bank_data-label-KontoCheckRaw-3A-3Aload_bank_data-28+datafile-29"><a href="KontoCheckRaw.html#method-c-load_bank_data">::load_bank_data</a>( datafile)<span><a href="#method-c-load_bank_data-label-KontoCheckRaw-3A-3Aload_bank_data-28+datafile-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-load_bank_data-label-KontoCheck-3A-3Aload_bank_data-28+datafile-29"><a href="KontoCheck.html#method-c-load_bank_data">KontoCheck.load_bank_data</a>( datafile)<span><a href="#method-c-load_bank_data-label-KontoCheck-3A-3Aload_bank_data-28+datafile-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion war die alte Initialisierungsroutine für <a
href="KontoCheckRaw.html#method-c-konto_check">::konto_check</a>; es ist
nun durch die Funktionen <a
href="KontoCheck.html#method-c-init">KontoCheck.init</a> und <a
href="KontoCheck.html#method-c-generate_lutfile">KontoCheck.generate_lutfile</a>
ersetzt. Zur Initialisierung  benutzte sie die Textdatei der Deutschen
Bundesbank und generierte daraus eine LUT-Datei, die dann von der
Initialisierungsroutine der C-Bibliothek benutzt wurde.</p>

<p>Die init() Funktion ist wesentlich schneller (7…20 mal so schnell ohne
Generierung der Indexblocks; mit Indexblocks macht es noch wesentlich mehr
aus) und hat eine Reihe weiterer Vorteile. So ist es z.B. möglich, zwei
Datensätze mit unterschiedlichem Gültigkeitszeitraum in einer Datei zu
halten und den jeweils gültigen Satz automatisch (nach der Systemzeit)
auswählen zu lassen. Die einzelnen Datenblocks (Bankleitzahlen,
Prüfziffermethoden, PLZ, Ort…) sind in der LUT-Datei in jeweils
unabhängigen Blocks gespeichert und können einzeln geladen werden; die
Bankdatei von der Deutschen Bundesbank enthält alle Felder in einem
linearen Format, so daß einzelne Blocks nicht unabhängig von anderen
geladen werden können.</p>

<p>Die Funktion <a
href="KontoCheckRaw.html#method-c-load_bank_data">::load_bank_data</a>()
wird nur noch als ein Schibbolet benutzt, um zu testen, ob jemand das alte
Interface benutzt. Bei der Routine <a
href="KontoCheck.html#method-c-konto_check">KontoCheck.konto_check</a>
wurde die Reihenfolge der Parameter getauscht, so daß man in dem Falle den
alten Code umstellen muß.</p>

<h4 id="method-c-load_bank_data-label-Aufruf-3A">Aufruf:<span><a href="#method-c-load_bank_data-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>retval=KontoCheckRaw::load_bank_data( datafile)</p>

<h4 id="method-c-load_bank_data-label-Parameter-3A">Parameter:<span><a href="#method-c-load_bank_data-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>der alte Parameter datafile ist die BLZ-Datei der Deutschen Bundesbank; er
wird ignoriert.</p>
</li></ul>

<h4 id="method-c-load_bank_data-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-load_bank_data-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>es erfolgt keine Rückgabe, sondern es wird nur eine runtime Exception
generiert, daß scheinbar das alte Interface benutzt wurde, dieses aber
nicht mehr unterstützt wird.</p>
          
          

          
          <div class="method-source-code" id="load_bank_data-source">
            <pre>static VALUE load_bank_data(VALUE self, VALUE path_rb)
{
   rb_raise(rb_eRuntimeError,&quot;%s&quot;,&quot;Perhaps you used the old interface of konto_check.\n&quot;
         &quot;Use KontoCheck::init() to initialize the library\n&quot;
         &quot;and check the order of function arguments for konto_test(blz,kto)&quot;);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-lut_blocks" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">lut_blocks</span><span
            class="method-args">(p1 = v1)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-lut_blocks-label-KontoCheckRaw-3A-3Alut_blocks-28+mode-29"><a href="KontoCheckRaw.html#method-c-lut_blocks">::lut_blocks</a>( mode)<span><a href="#method-c-lut_blocks-label-KontoCheckRaw-3A-3Alut_blocks-28+mode-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-lut_blocks-label-KontoCheck-3A-3Alut_blocks-28+mode-29"><a href="KontoCheck.html#method-c-lut_blocks">KontoCheck.lut_blocks</a>( mode)<span><a href="#method-c-lut_blocks-label-KontoCheck-3A-3Alut_blocks-28+mode-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Die Funktion gibt Auskunft, ob bei der Initialisierung alle angeforderten
Blocks der LUT-Datei geladen wurden und gibt den Dateinamen der LUT-Datei,
eine Liste der geladenen Blocks sowie eine Liste der Blocks die nicht
geladen werden konnten, zurück.</p>

<h4 id="method-c-lut_blocks-label-Aufruf-3A">Aufruf:<span><a href="#method-c-lut_blocks-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>ret=KontoCheckRaw::lut_blocks( mode)</p>

<h4 id="method-c-lut_blocks-label-Parameter-3A">Parameter:<span><a href="#method-c-lut_blocks-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>mode: Ausgabeformat (1..3)</p>
</li></ul>

<h4 id="method-c-lut_blocks-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-lut_blocks-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Rückgabe ist ein Array mit vier Elementen, das den Statuscode sowie drei
Strings mit dem Dateinamen sowie den Blocklisten enthält:</p>
<ul><li>
<p>das erste Element enthält den Statuscode</p>
</li><li>
<p>das zweite Element enthält den Dateinamen der verwendeten LUT-Datei</p>
</li><li>
<p>das dritte Element enthält eine Liste der geladenen LUT-Blocks</p>
</li><li>
<p>das vierte Element enthält eine Liste der LUT-Blocks, die nicht geladen
werden konnten</p>
</li></ul>

<h4 id="method-c-lut_blocks-label-M-C3-B6gliche+Statuscodes-3A">Mögliche Statuscodes:<span><a href="#method-c-lut_blocks-label-M-C3-B6gliche+Statuscodes-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>-136  <a
href="KontoCheckRaw.html#LUT2_BLOCKS_MISSING">LUT2_BLOCKS_MISSING</a>      
“ok, bei der Initialisierung konnten allerdings ein oder mehrere Blocks
nicht geladen werden”</p>
</li><li>
<p>-40  <a
href="KontoCheckRaw.html#LUT2_NOT_INITIALIZED">LUT2_NOT_INITIALIZED</a>    
“die Programmbibliothek wurde noch nicht initialisiert”</p>
</li><li>
<p>-9  <a href="KontoCheckRaw.html#ERROR_MALLOC">ERROR_MALLOC</a>             
“kann keinen Speicher allokieren”</p>
</li><li>
<p>1  <a href="KontoCheckRaw.html#OK">OK</a>                        “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="lut_blocks-source">
            <pre>static VALUE lut_blocks_rb(int argc,VALUE* argv,VALUE self)
{
   char *lut_filename,*lut_blocks_ok,*lut_blocks_fehler;
   int mode,retval;
   VALUE mode_rb,filename_rb,blocks_ok_rb,blocks_fehler_rb;

   rb_scan_args(argc,argv,&quot;01&quot;,&amp;mode_rb);
   if(NIL_P(mode_rb))
      mode=1;
   else{
      switch(TYPE(mode_rb)){
         case RUBY_T_FLOAT:
         case RUBY_T_FIXNUM:
         case RUBY_T_BIGNUM:
            mode=NUM2INT(mode_rb);
            break;
         default:
            mode=1;
            rb_raise(rb_eTypeError,&quot;%s&quot;,&quot;lut_blocks() requires an int parameter&quot;);
            break;
      }
   }

   if((retval=lut_blocks(mode,&amp;lut_filename,&amp;lut_blocks_ok,&amp;lut_blocks_fehler))==LUT2_NOT_INITIALIZED || retval==ERROR_MALLOC)
      filename_rb=blocks_ok_rb=blocks_fehler_rb=Qnil;
   else{
      filename_rb=rb_str_new2(lut_filename);
      blocks_ok_rb=rb_str_new2(lut_blocks_ok);
      blocks_fehler_rb=rb_str_new2(lut_blocks_fehler);
      kc_free(lut_filename);
      kc_free(lut_blocks_ok);
      kc_free(lut_blocks_fehler);
   }
   return rb_ary_new3(4,INT2FIX(retval),filename_rb,blocks_ok_rb,blocks_fehler_rb);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-lut_blocks1" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">lut_blocks1</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-lut_blocks1-label-KontoCheckRaw-3A-3Alut_blocks1-28+-29"><a href="KontoCheckRaw.html#method-c-lut_blocks1">::lut_blocks1</a>( )<span><a href="#method-c-lut_blocks1-label-KontoCheckRaw-3A-3Alut_blocks1-28+-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-lut_blocks1-label-KontoCheckRaw-3A-3Alut_blocks-28+mode-29"><a href="KontoCheckRaw.html#method-c-lut_blocks">::lut_blocks</a>( mode)<span><a href="#method-c-lut_blocks1-label-KontoCheckRaw-3A-3Alut_blocks-28+mode-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<h5 id="method-c-lut_blocks1-label-KontoCheck-3A-3Alut_blocks-28+-29"><a href="KontoCheck.html#method-c-lut_blocks">KontoCheck.lut_blocks</a>( )<span><a href="#method-c-lut_blocks1-label-KontoCheck-3A-3Alut_blocks-28+-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion entspricht weitgehend der Funktion <a
href="KontoCheckRaw.html#method-c-lut_blocks">::lut_blocks</a>(); sie gibt
allerdings nur den Statuscode zurück, keine Strings. Sie wird für die
Funktion <a
href="KontoCheck.html#method-c-lut_blocks">KontoCheck.lut_blocks</a>
benutzt.</p>

<h4 id="method-c-lut_blocks1-label-Parameter-3A">Parameter:<span><a href="#method-c-lut_blocks1-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>keine</p>
</li></ul>

<h4 id="method-c-lut_blocks1-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-lut_blocks1-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Rückgabe ist ein Integerwert, der Aufschluß über den aktuellen Stand der
Initialisierung gibt.</p>

<h4 id="method-c-lut_blocks1-label-M-C3-B6gliche+Statuscodes-3A">Mögliche Statuscodes:<span><a href="#method-c-lut_blocks1-label-M-C3-B6gliche+Statuscodes-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>-136  <a
href="KontoCheckRaw.html#LUT2_BLOCKS_MISSING">LUT2_BLOCKS_MISSING</a>      
“ok, bei der Initialisierung konnten allerdings ein oder mehrere Blocks
nicht geladen werden”</p>
</li><li>
<p>-40  <a
href="KontoCheckRaw.html#LUT2_NOT_INITIALIZED">LUT2_NOT_INITIALIZED</a>    
“die Programmbibliothek wurde noch nicht initialisiert”</p>
</li><li>
<p>-9  <a href="KontoCheckRaw.html#ERROR_MALLOC">ERROR_MALLOC</a>             
“kann keinen Speicher allokieren”</p>
</li><li>
<p>1  <a href="KontoCheckRaw.html#OK">OK</a>                        “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="lut_blocks1-source">
            <pre>static VALUE lut_blocks1_rb(int argc,VALUE* argv,VALUE self)
{
   rb_scan_args(argc,argv,&quot;0&quot;,NULL);
   return INT2FIX(lut_blocks(0,NULL,NULL,NULL));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-lut_info" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">lut_info</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-lut_info-label-KontoCheckRaw-3A-3Alut_info-28+-5Blutfile-5D-29"><a href="KontoCheckRaw.html#method-c-lut_info">::lut_info</a>( [lutfile])<span><a href="#method-c-lut_info-label-KontoCheckRaw-3A-3Alut_info-28+-5Blutfile-5D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-lut_info-label-KontoCheck-3A-3Alut_info-28-29"><a href="KontoCheck.html#method-c-lut_info">KontoCheck.lut_info</a><span><a href="#method-c-lut_info-label-KontoCheck-3A-3Alut_info-28-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<h5 id="method-c-lut_info-label-KontoCheck-3A-3Alut_info1-28+lutfile-29"><a href="KontoCheck.html#method-c-lut_info1">KontoCheck.lut_info1</a>( lutfile)<span><a href="#method-c-lut_info-label-KontoCheck-3A-3Alut_info1-28+lutfile-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<h5 id="method-c-lut_info-label-KontoCheck-3A-3Alut_info2-28+lutfile-29"><a href="KontoCheck.html#method-c-lut_info2">KontoCheck.lut_info2</a>( lutfile)<span><a href="#method-c-lut_info-label-KontoCheck-3A-3Alut_info2-28+lutfile-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion liefert Informationen über die Datensätze sowie die beiden
Infoblocks einer LUT-Date oder die in den Speicher geladenen Blocks.</p>

<h4 id="method-c-lut_info-label-Aufruf-3A">Aufruf:<span><a href="#method-c-lut_info-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>ret=KontoCheckRaw::lut_info( [lutfile])</p>

<h4 id="method-c-lut_info-label-Parameter-3A">Parameter:<span><a href="#method-c-lut_info-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>lutfile: Name der LUT-Datei, falls angegeben. Falls der Parameter
weggelassen wird, werden Infnos über die geladenen Blocks zurückgegeben.</p>
</li></ul>

<h4 id="method-c-lut_info-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-lut_info-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Der Rückgabewert ist ein Array mit 5 Elementen:</p>
<ul><li>
<p>das erste Element (retval) enthält den Statuscode für die Funktion
insgesamt</p>
</li><li>
<p>das zweite Element (valid1) enthält den Gültigkeitscode für den ersten
Block</p>
</li><li>
<p>das dritte Element (valid2) enthält den Gültigkeitscode für den zweiten
Block</p>
</li><li>
<p>das vierte Element (info1) enthält den erster Infoblock, oder nil, falls
der Block nicht existiert</p>
</li><li>
<p>das fünfte Element (info2) enthält den zweiter Infoblock, oder nil, falls
der Block nicht existiert</p>
</li></ul>

<h4 id="method-c-lut_info-label-M-C3-B6gliche+Statuscodes+f-C3-BCr+valid1+and+valid2-3A">Mögliche Statuscodes für valid1 and valid2:<span><a href="#method-c-lut_info-label-M-C3-B6gliche+Statuscodes+f-C3-BCr+valid1+and+valid2-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>-105  (LUT2_NO_LONGER_VALID_BETTER)   “Beide Datensätze sind nicht mehr
gültig; dieser ist  aber jünger als der andere”</p>
</li><li>
<p>-59  (LUT2_NOT_YET_VALID)            “Der Datenblock ist noch nicht gültig”</p>
</li><li>
<p>-58  (LUT2_NO_LONGER_VALID)          “Der Datenblock ist nicht mehr gültig”</p>
</li><li>
<p>-34  (LUT2_BLOCK_NOT_IN_FILE)        “Die LUT-Datei enthält den Infoblock
nicht”</p>
</li><li>
<p>4  (LUT2_VALID)                    “Der Datenblock ist aktuell gültig”</p>
</li><li>
<p>5  (LUT2_NO_VALID_DATE)            “Der Datenblock enthält kein
Gültigkeitsdatum”</p>
</li></ul>

<h4 id="method-c-lut_info-label-M-C3-B6gliche+Werte+f-C3-BCr+den+Statuscode+retval-3A">Mögliche Werte für den Statuscode retval:<span><a href="#method-c-lut_info-label-M-C3-B6gliche+Werte+f-C3-BCr+den+Statuscode+retval-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>-112  (KTO_CHECK_UNSUPPORTED_COMPRESSION) “die notwendige
Kompressions-Bibliothek wurde beim Kompilieren nicht eingebunden”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)        “kann Datei nicht lesen”</p>
</li><li>
<p>-70  (LUT1_FILE_USED)         “Es wurde eine LUT-Datei im Format 1.0/1.1
geladen”</p>
</li><li>
<p>-40  (LUT2_NOT_INITIALIZED)   “die Programmbibliothek wurde noch nicht
initialisiert”</p>
</li><li>
<p>-37  (LUT2_Z_BUF_ERROR)       “Buffer error in den ZLIB Routinen”</p>
</li><li>
<p>-36  (LUT2_Z_MEM_ERROR)       “Memory error in den ZLIB-Routinen”</p>
</li><li>
<p>-35  (LUT2_Z_DATA_ERROR)      “Datenfehler im komprimierten LUT-Block”</p>
</li><li>
<p>-34  (LUT2_BLOCK_NOT_IN_FILE) “Der Block ist nicht in der LUT-Datei
enthalten”</p>
</li><li>
<p>-31  (LUT2_FILE_CORRUPTED)    “Die LUT-Datei ist korrumpiert”</p>
</li><li>
<p>-20  (LUT_CRC_ERROR)          “Prüfsummenfehler in der blz.lut Datei”</p>
</li><li>
<p>-9  (ERROR_MALLOC)           “kann keinen Speicher allokieren”</p>
</li><li>
<p>-7  (INVALID_LUT_FILE)       “die blz.lut Datei ist inkosistent/ungültig”</p>
</li><li>
<p>1  (OK)                     “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="lut_info-source">
            <pre>static VALUE lut_info_rb(int argc,VALUE* argv,VALUE self)
{
   char lut_name[FILENAME_MAX+1],*info1,*info2,error_msg[512];
   int retval,valid1,valid2;
   VALUE info1_rb,info2_rb;

   get_params_file(argc,argv,lut_name,NULL,NULL,3);
   retval=lut_info(lut_name,&amp;info1,&amp;info2,&amp;valid1,&amp;valid2);
   if(!info1)
      info1_rb=Qnil;
   else
      info1_rb=rb_str_new2(info1);
   if(!info2)
      info2_rb=Qnil;
   else
      info2_rb=rb_str_new2(info2);
   kc_free(info1);  /* die C-Funktion allokiert Speicher, der muß wieder freigegeben werden */
   kc_free(info2);
   if(retval&lt;0)RUNTIME_ERROR(retval);
   return rb_ary_new3(5,INT2FIX(retval),INT2FIX(valid1),INT2FIX(valid2),info1_rb,info2_rb);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-pz_aenderungen_enable" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pz_aenderungen_enable</span><span
            class="method-args">(p1 = v1)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-pz_aenderungen_enable-label-KontoCheckRaw-3A-3Apz_aenderungen_enable-28+set-29"><a href="KontoCheckRaw.html#method-c-pz_aenderungen_enable">::pz_aenderungen_enable</a>( set)<span><a href="#method-c-pz_aenderungen_enable-label-KontoCheckRaw-3A-3Apz_aenderungen_enable-28+set-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-pz_aenderungen_enable-label-KontoCheck-3A-3Apz_aenderungen_enable-28+set-29"><a href="KontoCheck.html#method-c-pz_aenderungen_enable">KontoCheck.pz_aenderungen_enable</a>( set)<span><a href="#method-c-pz_aenderungen_enable-label-KontoCheck-3A-3Apz_aenderungen_enable-28+set-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Die Funktion <a
href="KontoCheckRaw.html#method-c-pz_aenderungen_enable">::pz_aenderungen_enable</a>()
dient dazu, den Status des Flags pz_aenderungen_aktivieren abzufragen bzw.
zu setzen. Falls die Variable set 1 ist, werden die Änderungen aktiviert,
falls sie 0 ist, werden die Änderungen deaktiviert. Beim Aufruf ohne
Parameter oder mit einem anderen Wert wird das aktuelle Flag nicht
verändert, sondern nur der Status zurückgegeben.</p>

<h4 id="method-c-pz_aenderungen_enable-label-Parameter-3A">Parameter:<span><a href="#method-c-pz_aenderungen_enable-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>set:           0 oder 1: Änderungen deaktivieren/aktivieren</p>

<pre>anderer Wert: nur Abfrage des Status</pre>

<h4 id="method-c-pz_aenderungen_enable-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-pz_aenderungen_enable-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Rückgabe:      aktueller Status des Flags</p>
          
          

          
          <div class="method-source-code" id="pz_aenderungen_enable-source">
            <pre>static VALUE pz_aenderungen_enable_rb(int argc,VALUE *argv,VALUE self)
{
   int mode;
   VALUE mode_rb=Qnil;

   rb_scan_args(argc,argv,&quot;01&quot;,&amp;mode_rb);
   if(mode_rb==Qnil)
      mode=-1;  /* Abfrage */
   else switch(TYPE(mode_rb)){
      case RUBY_T_FLOAT:
      case RUBY_T_FIXNUM:
      case RUBY_T_BIGNUM:
         mode=NUM2INT(mode_rb);
         break;
      default:
         rb_raise(rb_eTypeError,&quot;%s&quot;,&quot;Unable to convert given value to int&quot;);
         break;
   }
   return INT2FIX(pz_aenderungen_enable(mode));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-rebuild_blzfile" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rebuild_blzfile</span><span
            class="method-args">(p1, p2, p3)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-rebuild_blzfile-label-KontoCheckRaw-3A-3Arebuild_blzfile-28+inputfile-2Coutputfile-2Cset-29"><a href="KontoCheckRaw.html#method-c-rebuild_blzfile">::rebuild_blzfile</a>( inputfile,outputfile,set)<span><a href="#method-c-rebuild_blzfile-label-KontoCheckRaw-3A-3Arebuild_blzfile-28+inputfile-2Coutputfile-2Cset-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-rebuild_blzfile-label-KontoCheck-3A-3Arebuild_blzfile-28+inputfile-2Coutputfile-2Cset-29"><a href="KontoCheck.html#method-c-rebuild_blzfile">KontoCheck.rebuild_blzfile</a>( inputfile,outputfile,set)<span><a href="#method-c-rebuild_blzfile-label-KontoCheck-3A-3Arebuild_blzfile-28+inputfile-2Coutputfile-2Cset-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Die Funktion <a
href="KontoCheckRaw.html#method-c-rebuild_blzfile">::rebuild_blzfile</a>()
war ursprünglich als Härtetest für die LUT2-Routinen konzipiert: mit ihr
lässt sich die BLZ-Datei komplett aus einer LUT-Datei neu generieren. Die
Funktion ist allerdings auch so interessant, so daß sie in alle Ports
eingebunden wurde. Die generierte BLZ-Datei sollte (bis auf die Sortierung
und die vier Testbanken) keinen Unterschied zur originalen BLZ-Datei
aufweisen.</p>

<p>Falls der Parameter set 1 oder 2 ist, wird als Eingabedatei eine LUT- datei
erwartet; bei einem set-Parameter von 0 eine Klartextdatei
(Bundesbankdatei).</p>

<p>Copyright (C) 2014 Michael Plugge &lt;m.plugge@hs-mannheim.de&gt;</p>

<h4 id="method-c-rebuild_blzfile-label-Aufruf-3A">Aufruf:<span><a href="#method-c-rebuild_blzfile-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>retval=KontoCheckRaw::rebuild_blzfile(inputname,outputname,set)</p>

<h4 id="method-c-rebuild_blzfile-label-Parameter-3A">Parameter:<span><a href="#method-c-rebuild_blzfile-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>inputfile: Eingabedatei (LUT-Datei oder Textdatei der Deutschen Bundesbank)</p>
</li><li>
<p>outputfile: Name der Ausgabedatei</p>
</li><li>
<p>set: (0, 1 oder 2)</p>

<pre>0: Die Eingabedatei ist eine Textdatei; es wird eine LUT-Datei generieret und diese wieder zurück umgewandlt.
1. Das erste Set der LUT-Datei wird extrahiert
2. Das zweite Set der LUT-Datei wird extrahiert</pre>
</li></ul>

<h4 id="method-c-rebuild_blzfile-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-rebuild_blzfile-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Rückgabe ist ein skalarer Statuscode, der die folgenden Werte annehmen
kann:</p>

<h4 id="method-c-rebuild_blzfile-label-M-C3-B6gliche+Statuscodes-3A">Mögliche Statuscodes:<span><a href="#method-c-rebuild_blzfile-label-M-C3-B6gliche+Statuscodes-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>-112  (KTO_CHECK_UNSUPPORTED_COMPRESSION) “die notwendige
Kompressions-Bibliothek wurde beim Kompilieren nicht eingebunden”</p>
</li><li>
<p>-64  (INIT_FATAL_ERROR)           “Initialisierung fehlgeschlagen
(init_wait geblockt)”</p>
</li><li>
<p>-57  (LUT2_GUELTIGKEIT_SWAPPED)   “Im Gültigkeitsdatum sind Anfangs- und
Enddatum vertauscht”</p>
</li><li>
<p>-56  (LUT2_INVALID_GUELTIGKEIT)   “Das angegebene Gültigkeitsdatum ist
ungültig (Soll: JJJJMMTT-JJJJMMTT)”</p>
</li><li>
<p>-38  (LUT2_PARTIAL_OK)            “es wurden nicht alle Blocks geladen”</p>
</li><li>
<p>-36  (LUT2_Z_MEM_ERROR)           “Memory error in den ZLIB-Routinen”</p>
</li><li>
<p>-35  (LUT2_Z_DATA_ERROR)          “Datenfehler im komprimierten LUT-Block”</p>
</li><li>
<p>-34  (LUT2_BLOCK_NOT_IN_FILE)     “Der Block ist nicht in der LUT-Datei
enthalten”</p>
</li><li>
<p>-33  (LUT2_DECOMPRESS_ERROR)      “Fehler beim Dekomprimieren eines
LUT-Blocks”</p>
</li><li>
<p>-32  (LUT2_COMPRESS_ERROR)        “Fehler beim Komprimieren eines
LUT-Blocks”</p>
</li><li>
<p>-31  (LUT2_FILE_CORRUPTED)        “Die LUT-Datei ist korrumpiert”</p>
</li><li>
<p>-20  (LUT_CRC_ERROR)              “Prüfsummenfehler in der blz.lut Datei”</p>
</li><li>
<p>-15  (INVALID_BLZ_FILE)           “Fehler in der blz.txt Datei (falsche
Zeilenlänge)”</p>
</li><li>
<p>-13  (FATAL_ERROR)                “schwerer Fehler im Konto_check-Modul”</p>
</li><li>
<p>-11  (FILE_WRITE_ERROR)           “kann Datei nicht schreiben”</p>
</li><li>
<p>-10  (FILE_READ_ERROR)            “kann Datei nicht lesen”</p>
</li><li>
<p>-9  (ERROR_MALLOC)               “kann keinen Speicher allokieren”</p>
</li><li>
<p>-7  (INVALID_LUT_FILE)           “die blz.lut Datei ist
inkosistent/ungültig”</p>
</li><li>
<p>-6  (NO_LUT_FILE)                “die blz.lut Datei wurde nicht gefunden”</p>
</li><li>
<p>1  (OK)                         “ok”</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="rebuild_blzfile-source">
            <pre>static VALUE rebuild_blzfile_rb(int argc,VALUE* argv,VALUE self)
{
   char input_name[FILENAME_MAX+1],output_name[FILENAME_MAX+1];
   char buffer[16];
   int retval,set,len;
   VALUE input_name_rb,output_name_rb,set_rb;

   rb_scan_args(argc,argv,&quot;30&quot;,&amp;input_name_rb,&amp;output_name_rb,&amp;set_rb);

   if(TYPE(input_name_rb)==RUBY_T_STRING){
      if((len=RSTRING_LEN(input_name_rb))&gt;FILENAME_MAX)len=FILENAME_MAX;
      strncpy(input_name,RSTRING_PTR(input_name_rb),len);
      *(input_name+len)=0;
   }
   else
      rb_raise(rb_eTypeError,&quot;%s&quot;,&quot;Unable to convert given input filename.&quot;);

   if(TYPE(output_name_rb)==RUBY_T_STRING){
      if((len=RSTRING_LEN(output_name_rb))&gt;FILENAME_MAX)len=FILENAME_MAX;
      strncpy(output_name,RSTRING_PTR(output_name_rb),len);
      *(output_name+len)=0;
   }
   else
      rb_raise(rb_eTypeError,&quot;%s&quot;,&quot;Unable to convert given output filename.&quot;);

   if(NIL_P(set_rb))
      set=1;
   else if(TYPE(set_rb)==RUBY_T_STRING){
      if((len=RSTRING_LEN(set_rb))&gt;15)len=15;
      strncpy(buffer,RSTRING_PTR(set_rb),len);
      *(buffer+len)=0;
      set=atoi(buffer);
   }
   else
      set=NUM2INT(set_rb);
   retval=rebuild_blzfile(input_name,output_name,set);
   return INT2FIX(retval);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-retval2dos" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">retval2dos</span><span
            class="method-args">(p1)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-retval2dos-label-KontoCheckRaw-3A-3Aretval2dos-28+retval-29"><a href="KontoCheckRaw.html#method-c-retval2dos">::retval2dos</a>( retval)<span><a href="#method-c-retval2dos-label-KontoCheckRaw-3A-3Aretval2dos-28+retval-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-retval2dos-label-KontoCheck-3A-3Aretval2dos-28+retval-29"><a href="KontoCheck.html#method-c-retval2dos">KontoCheck.retval2dos</a>( retval)<span><a href="#method-c-retval2dos-label-KontoCheck-3A-3Aretval2dos-28+retval-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion konvertiert einen numerischen Rückgabewert in einen String.
Der benutzte Zeichensatz ist cp850 (DOS).</p>

<h4 id="method-c-retval2dos-label-Aufruf-3A">Aufruf:<span><a href="#method-c-retval2dos-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>retval_str=KontoCheckRaw::retval2dos( retval)</p>

<h4 id="method-c-retval2dos-label-Parameter-3A">Parameter:<span><a href="#method-c-retval2dos-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>retval: der zu konvertierende numerische Rückgabewert</p>
</li></ul>

<h4 id="method-c-retval2dos-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-retval2dos-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>String, der dem Rückgabewert entspricht</p>
          
          

          
          <div class="method-source-code" id="retval2dos-source">
            <pre>static VALUE retval2dos_rb(VALUE self, VALUE retval)
{
   return rb_str_new2(kto_check_retval2dos(FIX2INT(retval)));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-retval2html" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">retval2html</span><span
            class="method-args">(p1)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-retval2html-label-KontoCheckRaw-3A-3Aretval2html-28+retval-29"><a href="KontoCheckRaw.html#method-c-retval2html">::retval2html</a>( retval)<span><a href="#method-c-retval2html-label-KontoCheckRaw-3A-3Aretval2html-28+retval-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-retval2html-label-KontoCheck-3A-3Aretval2html-28+retval-29"><a href="KontoCheck.html#method-c-retval2html">KontoCheck.retval2html</a>( retval)<span><a href="#method-c-retval2html-label-KontoCheck-3A-3Aretval2html-28+retval-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion konvertiert einen numerischen Rückgabewert in einen String.
Für Umlaute werden HTML-Entities benutzt.</p>

<h4 id="method-c-retval2html-label-Aufruf-3A">Aufruf:<span><a href="#method-c-retval2html-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>retval_str=KontoCheckRaw::retval2html( retval)</p>

<h4 id="method-c-retval2html-label-Parameter-3A">Parameter:<span><a href="#method-c-retval2html-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>retval: der zu konvertierende numerische Rückgabewert</p>
</li></ul>

<h4 id="method-c-retval2html-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-retval2html-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>String, der dem Rückgabewert entspricht</p>
          
          

          
          <div class="method-source-code" id="retval2html-source">
            <pre>static VALUE retval2html_rb(VALUE self, VALUE retval)
{
   return rb_str_new2(kto_check_retval2html(FIX2INT(retval)));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-retval2iso" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">retval2iso</span><span
            class="method-args">(p1)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-retval2iso-label-KontoCheckRaw-3A-3Aretval2iso-28+retval-29"><a href="KontoCheckRaw.html#method-c-retval2iso">::retval2iso</a>( retval)<span><a href="#method-c-retval2iso-label-KontoCheckRaw-3A-3Aretval2iso-28+retval-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-retval2iso-label-KontoCheck-3A-3Aretval2iso-28+retval-29"><a href="KontoCheck.html#method-c-retval2iso">KontoCheck.retval2iso</a>( retval)<span><a href="#method-c-retval2iso-label-KontoCheck-3A-3Aretval2iso-28+retval-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion konvertiert einen numerischen Rückgabewert in einen String.
Der benutzte Zeichensatz ist ISO 8859-1.</p>

<h4 id="method-c-retval2iso-label-Aufruf-3A">Aufruf:<span><a href="#method-c-retval2iso-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>retval_str=KontoCheckRaw::retval2iso( retval)</p>

<h4 id="method-c-retval2iso-label-Parameter-3A">Parameter:<span><a href="#method-c-retval2iso-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>retval: der zu konvertierende numerische Rückgabewert</p>
</li></ul>

<h4 id="method-c-retval2iso-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-retval2iso-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>String, der dem Rückgabewert entspricht</p>
          
          

          
          <div class="method-source-code" id="retval2iso-source">
            <pre>static VALUE retval2iso_rb(VALUE self, VALUE retval)
{
   return rb_str_new2(kto_check_retval2iso(FIX2INT(retval)));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-retval2txt" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">retval2txt</span><span
            class="method-args">(p1)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-retval2txt-label-KontoCheckRaw-3A-3Aretval2txt-28+retval-29"><a href="KontoCheckRaw.html#method-c-retval2txt">::retval2txt</a>( retval)<span><a href="#method-c-retval2txt-label-KontoCheckRaw-3A-3Aretval2txt-28+retval-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-retval2txt-label-KontoCheck-3A-3Aretval2txt-28+retval-29"><a href="KontoCheck.html#method-c-retval2txt">KontoCheck.retval2txt</a>( retval)<span><a href="#method-c-retval2txt-label-KontoCheck-3A-3Aretval2txt-28+retval-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion konvertiert einen numerischen Rückgabewert in einen String.
Der benutzte Zeichensatz wird über die Funktion <a
href="KontoCheckRaw.html#method-c-encoding">::encoding</a> festgelegt.
Falls diese Funktion nicht aufgerufen wurde, wird der Wert des Makros
DEFAULT_ENCODING aus konto_check.h benutzt.</p>

<h4 id="method-c-retval2txt-label-Aufruf-3A">Aufruf:<span><a href="#method-c-retval2txt-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>retval_str=KontoCheckRaw::retval2txt( retval)</p>

<h4 id="method-c-retval2txt-label-Parameter-3A">Parameter:<span><a href="#method-c-retval2txt-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>retval: der zu konvertierende numerische Rückgabewert</p>
</li></ul>

<h4 id="method-c-retval2txt-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-retval2txt-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>String, der dem Rückgabewert entspricht</p>
          
          

          
          <div class="method-source-code" id="retval2txt-source">
            <pre>static VALUE retval2txt_rb(VALUE self, VALUE retval)
{
   return rb_str_new2(kto_check_retval2txt(FIX2INT(retval)));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-retval2txt_short" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">retval2txt_short</span><span
            class="method-args">(p1)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-retval2txt_short-label-KontoCheckRaw-3A-3Aretval2txt_short-28+retval-29"><a href="KontoCheckRaw.html#method-c-retval2txt_short">::retval2txt_short</a>( retval)<span><a href="#method-c-retval2txt_short-label-KontoCheckRaw-3A-3Aretval2txt_short-28+retval-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-retval2txt_short-label-KontoCheck-3A-3Aretval2txt_short-28+retval-29"><a href="KontoCheck.html#method-c-retval2txt_short">KontoCheck.retval2txt_short</a>( retval)<span><a href="#method-c-retval2txt_short-label-KontoCheck-3A-3Aretval2txt_short-28+retval-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion konvertiert einen numerischen Rückgabewert in einen kurzen
String. Die Ausgabe ist der Makroname, wie er in C benutzt wird.</p>

<h4 id="method-c-retval2txt_short-label-Aufruf-3A">Aufruf:<span><a href="#method-c-retval2txt_short-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>retval_str=KontoCheckRaw::retval2txt_short( retval)</p>

<h4 id="method-c-retval2txt_short-label-Parameter-3A">Parameter:<span><a href="#method-c-retval2txt_short-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>retval: der zu konvertierende numerische Rückgabewert</p>
</li></ul>

<h4 id="method-c-retval2txt_short-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-retval2txt_short-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>String, der dem Rückgabewert entspricht</p>
          
          

          
          <div class="method-source-code" id="retval2txt_short-source">
            <pre>static VALUE retval2txt_short_rb(VALUE self, VALUE retval)
{
   return rb_str_new2(kto_check_retval2txt_short(FIX2INT(retval)));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-retval2utf8" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">retval2utf8</span><span
            class="method-args">(p1)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-retval2utf8-label-KontoCheckRaw-3A-3Aretval2utf8-28+retval-29"><a href="KontoCheckRaw.html#method-c-retval2utf8">::retval2utf8</a>( retval)<span><a href="#method-c-retval2utf8-label-KontoCheckRaw-3A-3Aretval2utf8-28+retval-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-retval2utf8-label-KontoCheck-3A-3Aretval2utf8-28+retval-29"><a href="KontoCheck.html#method-c-retval2utf8">KontoCheck.retval2utf8</a>( retval)<span><a href="#method-c-retval2utf8-label-KontoCheck-3A-3Aretval2utf8-28+retval-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion konvertiert einen numerischen Rückgabewert in einen String.
Der benutzte Zeichensatz ist UTF-8.</p>

<h4 id="method-c-retval2utf8-label-Aufruf-3A">Aufruf:<span><a href="#method-c-retval2utf8-label-Aufruf-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>retval_str=KontoCheckRaw::retval2utf8( retval)</p>

<h4 id="method-c-retval2utf8-label-Parameter-3A">Parameter:<span><a href="#method-c-retval2utf8-label-Parameter-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>retval: der zu konvertierende numerische Rückgabewert</p>
</li></ul>

<h4 id="method-c-retval2utf8-label-R-C3-BCckgabe-3A">Rückgabe:<span><a href="#method-c-retval2utf8-label-R-C3-BCckgabe-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>String, der dem Rückgabewert entspricht</p>
          
          

          
          <div class="method-source-code" id="retval2utf8-source">
            <pre>static VALUE retval2utf8_rb(VALUE self, VALUE retval)
{
   return rb_str_new2(kto_check_retval2utf8(FIX2INT(retval)));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-version" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">version</span><span
            class="method-args">(p1 = v1)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h3 id="method-c-version-label-KontoCheckRaw-3A-3Aversion-28+-5Bmode-5D+-29"><a href="KontoCheckRaw.html#method-c-version">::version</a>( [mode] )<span><a href="#method-c-version-label-KontoCheckRaw-3A-3Aversion-28+-5Bmode-5D+-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h5 id="method-c-version-label-KontoCheck-3A-3Aversion-28+-5Bmode-5D+-29"><a href="KontoCheck.html#method-c-version">KontoCheck.version</a>( [mode] )<span><a href="#method-c-version-label-KontoCheck-3A-3Aversion-28+-5Bmode-5D+-29">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Diese Funktion gibt die Versions-Infos der C-Bibliothek zurück.</p>

<h4 id="method-c-version-label-M-C3-B6gliche+Werte+f-C3-BCr+mode-3A">Mögliche Werte für mode:<span><a href="#method-c-version-label-M-C3-B6gliche+Werte+f-C3-BCr+mode-3A">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>0 bzw. ohne Parameter: Versionsstring der C-Bibliothek</p>
</li><li>
<p>1: Versionsnummer</p>
</li><li>
<p>2: Versionsdatum</p>
</li><li>
<p>3: Compilerdatum und -zeit</p>
</li><li>
<p>4: Datum der Prüfziffermethoden</p>
</li><li>
<p>5: Datum der IBAN-Regeln</p>
</li><li>
<p>6: Klartext-Datum der Bibliotheksversion</p>
</li><li>
<p>7: Versionstyp (devel, beta, final)</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="version-source">
            <pre>static VALUE version_rb(int argc,VALUE* argv,VALUE self)
{
   int level;
   VALUE level_rb;

   rb_scan_args(argc,argv,&quot;01&quot;,&amp;level_rb);
   if(NIL_P(level_rb))
      level=0;
   else
      level=NUM2INT(level_rb);
   return rb_str_new2(get_kto_check_version_x(level));
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.2.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

